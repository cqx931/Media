webpackJsonp([3],[,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Comments=t.Brief=t.Views=t.LectureGenre=t.Genre=t.DateTime=t.Author=t.Lead=t.Footer=t.Root=t.Reference=t.Title=t.Icon=void 0;var a=n(47),o=r(a),i=n(93),l=r(i),u=n(91),s=r(u),c=n(92),d=r(c),f=n(87),p=r(f),h=n(89),m=r(h),_=n(83),v=r(_),y=n(86),g=r(y),b=n(88),w=r(b),E=n(90),C=r(E),k=n(94),N=r(k),P=n(84),T=r(P),M=n(85),O=r(M);t.Icon=o["default"],t.Title=l["default"],t.Reference=s["default"],t.Root=d["default"],t.Footer=p["default"],t.Lead=m["default"],t.Author=v["default"],t.DateTime=g["default"],t.Genre=w["default"],t.LectureGenre=C["default"],t.Views=N["default"],t.Brief=T["default"],t.Comments=O["default"]},,function(e,t,n){function r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=a(e.prototype),r=e.apply(n,t);return o(r)?r:n}}var a=n(22),o=n(28);e.exports=r},function(e,t){function n(e,t){for(var n=-1,a=e.length,o=0,i=[];++n<a;){var l=e[n];l!==t&&l!==r||(e[n]=r,i[o++]=n)}return i}var r="__lodash_placeholder__";e.exports=n},,function(e,t){"use strict";function n(e){return"string"==typeof e}function r(e){return n(e)?e.replace("#",""):""}Object.defineProperty(t,"__esModule",{value:!0}),t.isString=n,t.withoutHashtag=r},,,function(e,t,n){function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}var a=n(22),o=n(23),i=4294967295;r.prototype=a(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){function r(e){return a(e)?o(e):{}}var a=n(28),o=Object.create;e.exports=r},function(e,t){function n(){}e.exports=n},function(e,t){function n(e){var t=e;return t.placeholder}e.exports=n},,,function(e,t,n){var r=n(143),a=n(63),o=n(24),i=n(16),l=32,u=r(function(e,t){var n=i(t,o(u));return a(e,l,void 0,t,n)});u.placeholder={},e.exports=u},,function(e,t,n){function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var a=n(22),o=n(23);r.prototype=a(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){var r=n(51),a=n(37),o=a?function(e,t){return a.set(e,t),e}:r;e.exports=o},function(e,t){function n(e,t,n,a){for(var o=-1,i=e.length,l=n.length,u=-1,s=t.length,c=r(i-l,0),d=Array(s+c),f=!a;++u<s;)d[u]=t[u];for(;++o<l;)(f||o<i)&&(d[n[o]]=e[o]);for(;c--;)d[u++]=e[o++];return d}var r=Math.max;e.exports=n},function(e,t){function n(e,t,n,a){for(var o=-1,i=e.length,l=-1,u=n.length,s=-1,c=t.length,d=r(i-u,0),f=Array(d+c),p=!a;++o<d;)f[o]=e[o];for(var h=o;++s<c;)f[h+s]=t[s];for(;++l<u;)(p||o<i)&&(f[h+n[l]]=e[o++]);return f}var r=Math.max;e.exports=n},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t,n,g,b,w,E,C,k,N){function P(){for(var p=arguments.length,h=Array(p),m=p;m--;)h[m]=arguments[m];if(x)var _=s(P),v=i(h,_);if(g&&(h=a(h,g,b,x)),w&&(h=o(h,w,E,x)),p-=v,x&&p<N){var y=d(h,_);return u(e,t,r,P.placeholder,n,h,y,C,k,N-p)}var R=M?n:this,A=O?R[e]:e;return p=h.length,C?h=c(h,C):S&&p>1&&h.reverse(),T&&k<p&&(h.length=k),this&&this!==f&&this instanceof P&&(A=j||l(A)),A.apply(R,h)}var T=t&v,M=t&p,O=t&h,x=t&(m|_),S=t&y,j=O?void 0:l(e);return P}var a=n(31),o=n(32),i=n(59),l=n(15),u=n(35),s=n(24),c=n(71),d=n(16),f=n(12),p=1,h=2,m=8,_=16,v=128,y=512;e.exports=r},function(e,t,n){function r(e,t,n,r,p,h,m,_,v,y){var g=t&c,b=g?m:void 0,w=g?void 0:m,E=g?h:void 0,C=g?void 0:h;t|=g?d:f,t&=~(g?f:d),t&s||(t&=~(l|u));var k=[e,t,p,E,b,C,w,_,v,y],N=n.apply(void 0,k);return a(e)&&o(N,k),N.placeholder=r,i(N,e,t)}var a=n(68),o=n(38),i=n(39),l=1,u=2,s=4,c=8,d=32,f=64;e.exports=r},function(e,t,n){var r=n(37),a=n(145),o=r?function(e){return r.get(e)}:a;e.exports=o},function(e,t,n){var r=n(142),a=r&&new r;e.exports=a},function(e,t,n){var r=n(30),a=n(52),o=150,i=16,l=function(){var e=0,t=0;return function(n,l){var u=a(),s=i-(u-t);if(t=u,s>0){if(++e>=o)return n}else e=0;return r(n,l)}}();e.exports=l},function(e,t,n){var r=n(74),a=n(64),o=n(66),i=n(51),l=n(67),u=n(72),s=a?function(e,t,n){var i=t+"";return a(e,"toString",{configurable:!0,enumerable:!1,value:r(l(i,u(o(i),n)))})}:i;e.exports=s},,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(7),l=r(i),u=n(105),s=r(u),c=function(e){var t=e.type,n=e.color,r=e.className;return o["default"].createElement("div",{className:(0,l["default"])(s["default"].root,"material-icon",r,s["default"][t])},"lecture"===t?o["default"].createElement("svg",{width:"16",height:"11",viewBox:"0 0 16 11",xmlns:"http://www.w3.org/2000/svg"},o["default"].createElement("path",{d:"M0 2v9h14V2H0zm7 7H2V8h5v1zm5-2H2V6h10v1zm0-2H2V4h10v1zm4-4H1V0h15v1zm0 8h-1V0h1v9z",fill:"#"+(n?n.replace("#",""):"00ace5"),fillRule:"evenodd"})):null)};c.displayName="Units/Material/Icon",t["default"]=c},,,function(e,t){function n(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},,function(e,t,n){var r=n(12),a=function(){return r.Date.now()};e.exports=a},function(e,t,n){e.exports=n(113)},,,,,,function(e,t){function n(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}e.exports=n},function(e,t,n){function r(e,t,n){function r(){var t=this&&this!==o&&this instanceof r?u:e;return t.apply(l?n:this,arguments)}var l=t&i,u=a(e);return r}var a=n(15),o=n(12),i=1;e.exports=r},function(e,t,n){function r(e,t,n){function r(){for(var o=arguments.length,f=Array(o),p=o,h=u(r);p--;)f[p]=arguments[p];var m=o<3&&f[0]!==h&&f[o-1]!==h?[]:s(f,h);if(o-=m.length,o<n)return l(e,t,i,r.placeholder,void 0,f,m,void 0,void 0,n-o);var _=this&&this!==c&&this instanceof r?d:e;return a(_,this,f)}var d=o(e);return r}var a=n(49),o=n(15),i=n(34),l=n(35),u=n(24),s=n(16),c=n(12);e.exports=r},function(e,t,n){function r(e,t,n,r){function u(){for(var t=-1,o=arguments.length,l=-1,d=r.length,f=Array(d+o),p=this&&this!==i&&this instanceof u?c:e;++l<d;)f[l]=r[l];for(;o--;)f[l++]=arguments[++t];return a(p,s?n:this,f)}var s=t&l,c=o(e);return u}var a=n(49),o=n(15),i=n(12),l=1;e.exports=r},function(e,t,n){function r(e,t,n,r,E,C,k,N){var P=t&_;if(!P&&"function"!=typeof e)throw new TypeError(h);var T=r?r.length:0;if(T||(t&=~(g|b),r=E=void 0),k=void 0===k?k:w(p(k),0),N=void 0===N?N:p(N),T-=E?E.length:0,t&b){var M=r,O=E;r=E=void 0}var x=P?void 0:s(e),S=[e,t,n,r,E,M,O,C,k,N];if(x&&c(S,x),e=S[0],t=S[1],n=S[2],r=S[3],E=S[4],N=S[9]=null==S[9]?P?0:e.length:w(S[9]-T,0),!N&&t&(v|y)&&(t&=~(v|y)),t&&t!=m)j=t==v||t==y?i(e,t,N):t!=g&&t!=(m|g)||E.length?l.apply(void 0,S):u(e,t,n,r);else var j=o(e,t,n);var R=x?a:d;return f(R(j,S),e,t)}var a=n(30),o=n(60),i=n(61),l=n(34),u=n(62),s=n(36),c=n(69),d=n(38),f=n(39),p=n(112),h="Expected a function",m=1,_=2,v=8,y=16,g=32,b=64,w=Math.max;e.exports=r},function(e,t,n){var r=n(123),a=function(){var e=r(Object,"defineProperty"),t=r.name;return t&&t.length>2?e:void 0}();e.exports=a},function(e,t,n){function r(e){for(var t=e.name+"",n=a[t],r=i.call(a,t)?n.length:0;r--;){var o=n[r],l=o.func;if(null==l||l==e)return o.name}return t}var a=n(70),o=Object.prototype,i=o.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=e.match(r);return t?t[1].split(a):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,a=/,? & /;e.exports=n},function(e,t){function n(e,t){var n=t.length,a=n-1;return t[a]=(n>1?"& ":"")+t[a],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=n},function(e,t,n){function r(e){var t=i(e),n=l[t];if("function"!=typeof n||!(t in a.prototype))return!1;if(e===n)return!0;var r=o(n);return!!r&&e===r[0]}var a=n(21),o=n(36),i=n(65),l=n(75);e.exports=r},function(e,t,n){function r(e,t){var n=e[1],r=t[1],m=n|r,_=m<(u|s|f),v=r==f&&n==d||r==f&&n==p&&e[7].length<=t[8]||r==(f|p)&&t[7].length<=t[8]&&n==d;if(!_&&!v)return e;r&u&&(e[2]=t[2],m|=n&u?0:c);var y=t[3];if(y){var g=e[3];e[3]=g?a(g,y,t[4]):y,e[4]=g?i(e[3],l):t[4]}return y=t[5],y&&(g=e[5],e[5]=g?o(g,y,t[6]):y,e[6]=g?i(e[5],l):t[6]),y=t[7],y&&(e[7]=y),r&f&&(e[8]=null==e[8]?t[8]:h(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var a=n(31),o=n(32),i=n(16),l="__lodash_placeholder__",u=1,s=2,c=4,d=8,f=128,p=256,h=Math.min;e.exports=r},function(e,t){var n={};e.exports=n},function(e,t,n){function r(e,t){for(var n=e.length,r=i(t.length,n),l=a(e);r--;){var u=t[r];e[r]=o(u,n)?l[u]:void 0}return e}var a=n(33),o=n(136),i=Math.min;e.exports=r},function(e,t,n){function r(e,t){return a(m,function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)}),e.sort()}var a=n(50),o=n(137),i=1,l=2,u=8,s=16,c=32,d=64,f=128,p=256,h=512,m=[["ary",f],["bind",i],["bindKey",l],["curry",u],["curryRight",s],["flip",h],["partial",c],["partialRight",d],["rearg",p]];e.exports=r},function(e,t,n){function r(e){if(e instanceof a)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var a=n(21),o=n(29),i=n(33);e.exports=r},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e){if(u(e)&&!l(e)&&!(e instanceof a)){if(e instanceof o)return e;if(d.call(e,"__wrapped__"))return s(e)}return new o(e)}var a=n(21),o=n(29),i=n(23),l=n(45),u=n(121),s=n(73),c=Object.prototype,d=c.hasOwnProperty;r.prototype=i.prototype,r.prototype.constructor=r,e.exports=r},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(1),l=r(i),u=n(18),s=n(148),c=r(s),d=n(7),f=r(d),p=n(151),h=r(p),m=function(e){var t=(0,c["default"])((0,u.withoutHashtag)(e.color));return t?l["default"].createElement("div",{className:(0,f["default"])(h["default"].root,(0,o["default"])({},e.className,e.className)),style:{background:"linear-gradient(34deg, rgba("+t.r+", "+t.g+", "+t.b+",1) 10%,rgba(255,255,255,0) 80%)"}}):null};m.propTypes={color:i.PropTypes.string,className:i.PropTypes.string},t["default"]=m},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(1),_=a(m),v=n(7),y=a(v),g=n(27),b=a(g),w=n(54),E=r(w),C=n(78),k=a(C),N=n(10),P=a(N),T=n(96),M=a(T),O=function(e){function t(){var e;(0,u["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,f["default"])(this,(e=t.__proto__||(0,i["default"])(t)).call.apply(e,[this].concat(r)));return o.state={path:""},o.initPath=o.initPath.bind(o),o}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"share",value:function(e,t,n){n.preventDefault(),window.open(e,t,"width=626,height=436")}},{key:"initPath",value:function(e){var t=e||this.props,n=t.type,r=t.code,a=window.location.origin+"/"+("news_entry"===n?"news":"articles")+"/"+r;this.setState({path:a})}},{key:"componentDidMount",value:function(){this.initPath()}},{key:"componentWillReceiveProps",value:function(e){e.code!==this.props.code&&this.initPath(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.code,r=t.type,a=t.body,o=this.state.path;return _["default"].createElement("div",{className:M["default"].root},_["default"].createElement("div",{dangerouslySetInnerHTML:{__html:"<p>"+a+"</p>"},className:M["default"].raw}),_["default"].createElement(P["default"],{to:"/"+("news_entry"===r?"news":"articles")+"/"+n,className:M["default"].button},"Читать полностью"),_["default"].createElement("ul",{className:M["default"].socials},E.post.socials.map(function(t,n){var r=t.icon,a=t.url,i=t.title;return _["default"].createElement("li",{className:M["default"].item,key:n},_["default"].createElement("a",{className:M["default"].link,onClick:(0,b["default"])(e.share,a+o,i),href:a+o},_["default"].createElement(k["default"],{type:r,className:(0,y["default"])(M["default"].icon,M["default"][r])})))})))}}]),t}(m.Component);t["default"]=O},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(1),_=a(m),v=n(10),y=a(v),g=n(19),b=a(g),w=n(13),E=r(w),C=n(97),k=a(C),N=function(e){function t(){return(0,u["default"])(this,t),(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).apply(this,arguments))}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.authors,n=e.title,r=e.genre,a=e.views_count,o=e.dtime;return _["default"].createElement("header",{className:k["default"].root},r?_["default"].createElement(E.Genre,r):null,n?_["default"].createElement("h2",{className:k["default"].title},n):null,_["default"].createElement("footer",{className:k["default"].footer},a?_["default"].createElement("div",{className:k["default"].right},_["default"].createElement(E.Views,{views:a,className:k["default"].views})):null,_["default"].createElement("div",{className:k["default"].left},t&&t[0]&&"hidden"===t[0].status?_["default"].createElement("span",{className:k["default"].author},t[0].name+" "+t[0].surname):null,t&&t[0]&&"hidden"!==t[0].status?_["default"].createElement(y["default"],{to:"/authors/"+t[0].code,className:k["default"].author},t[0].name+" "+t[0].surname):null,o?_["default"].createElement("time",{className:k["default"].time},(0,b["default"])(o).locale("ru").format("HH:mm, D MMMM YYYY")):null)))}}]),t}(m.Component);t["default"]=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Content=t.Header=void 0;var a=n(80),o=r(a),i=n(79),l=r(i);t.Header=o["default"],t.Content=l["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(1),_=a(m),v=n(25),y=n(132),g=r(y),b=n(125),w=r(b),E=n(98),C=a(E),k=n(81),N=r(k),P=function(e){function t(e,n){(0,u["default"])(this,t);var r=(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).call(this,e,n));return r.state={current:null},r.isPending=!1,r.handleKeydown=r.handleKeydown.bind(r),r.handleContainerClick=r.handleContainerClick.bind(r),r.handleNext=r.handleNext.bind(r),r.handlePrev=r.handlePrev.bind(r),r}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.articles,r=e.posts,a=e.type,o=e.code,i=e.id,l=this.state.current,u=l?l:"news_entry"===a?r[i]:n[o];return _["default"].createElement("div",{className:C["default"].root},_["default"].createElement("div",{className:C["default"].overlay,onClick:t},u&&u.next&&u.next.id!==u.id?_["default"].createElement("button",{type:"button",className:C["default"].next,onClick:this.handleNext}):null,u&&u.prev&&u.prev.id!==u.id?_["default"].createElement("button",{type:"button",className:C["default"].prev,onClick:this.handlePrev}):null,_["default"].createElement("div",{className:C["default"].container,onClick:this.handleContainerClick},_["default"].createElement("button",{type:"button",className:C["default"].close,onClick:t}),u?_["default"].createElement(N.Header,u):null,_["default"].createElement("div",{className:C["default"].wrapper},u?_["default"].createElement(N.Content,u):null))))}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown,!1),document.body.style.overflow="hidden"}},{key:"componentWillMount",value:function(){this.props.fetch()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown,!1),document.body.style.overflow=""}},{key:"handleKeydown",value:function(e){27===e.keyCode&&this.props.onClose()}},{key:"handleContainerClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handlePrev",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.isPending||!function(){var e=t.props,n=e.articles,r=e.posts,a=e.type,o=e.code,i=e.id,l=t.state.current,u=l?l:"news_entry"===a?r[i]:n[o];t.isPending=!0,t.props.update(u.prev).then(function(){t.isPending=!1,t.setState({current:"news_entry"===u.prev.type?t.props.posts[u.prev.id]:t.props.articles[u.prev.code]})})}()}},{key:"handleNext",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.isPending||!function(){var e=t.props,n=e.articles,r=e.posts,a=e.type,o=e.code,i=e.id,l=t.state.current,u=l?l:"news_entry"===a?r[i]:n[o];t.isPending=!0,t.props.update(u.next).then(function(){t.isPending=!1,t.setState({current:"news_entry"===u.next.type?t.props.posts[u.next.id]:t.props.articles[u.next.code]})})}()}}]),t}(m.Component);t["default"]=(0,v.connect)(function(e){var t=e.articles,n=e.posts;return{articles:t.entities,posts:n.entities}},function(e,t){function n(e){var t=/^(.*?)\/(.*?)\/(.*?)\/(.*)$/,n=e.match(t);if(!(n.length<5)){var r=n[1],a=n[2],o=n[3],i=n[4];return{year:r,month:a,day:o,code:i}}}var r=t.code,a=t.type,o=n(r);if(o)return{fetch:function(){return e("news_entry"===a?w.actions.post.fetch(o,!0,{}):g.actions.fetch(o,!0,{}))},update:function(t){var r=t.code,a=t.type,o=n(r);if(o)return e("news_entry"===a?w.actions.post.fetch(o,!0,{}):g.actions.fetch(o,!0,{}))}}})(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(10),w=r(b),E=n(99),C=r(E),k=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.name,a=t.surname,i=t.code,l=t.novayagazeta,u=t.highlighted,s=t.status,c=(0,g["default"])(C["default"].root,"material-author",(e={},(0,o["default"])(e,n,Boolean(n)),(0,o["default"])(e,C["default"].highlighted,u),e));return"hidden"===s?v["default"].createElement("span",{className:c},v["default"].createElement("span",null,l?"«Новая газета»":r+" "+a)):v["default"].createElement("span",{className:c},v["default"].createElement(w["default"],{to:"/authors/"+i},v["default"].createElement("span",null,r+" "+a)))}}]),t}(_.Component);k.defaultProps={highlighted:!1},t["default"]=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(53),g=r(y),b=n(82),w=r(b),E=n(48),C=n(100),k=r(C),N=function(e){function t(){var e;(0,s["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,p["default"])(this,(e=t.__proto__||(0,l["default"])(t)).call.apply(e,[this].concat(r)));return o.state={isActive:!1},o.handleClose=o.handleClose.bind(o),o.handleOpen=o.handleOpen.bind(o),o}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props.quick_read,t=this.state.isActive;return e?v["default"].createElement("div",{className:k["default"].root},v["default"].createElement("button",{type:"button",onClick:this.handleOpen,className:k["default"].trigger},"Коротко"),v["default"].createElement(g["default"],{transitionName:"fade",transitionEnterTimeout:300,transitionLeaveTimeout:300,children:t?v["default"].createElement(w["default"],(0,o["default"])({},this.props,{onClose:this.handleClose})):null})):null}},{key:"handleClose",value:function(){this.setState({isActive:!1})}},{key:"handleOpen",value:function(){var e=this,t=document.documentElement,n=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),r=document.getElementById("topAds"),a=r?r.getBoundingClientRect().height:120,o=a-n;window.innerWidth>=1025&&n<a?(0,E.animate)(300,"ease",function(t){window.scrollTo(0,n+o*t);var r=document.createEvent("UIEvents");r.initUIEvent("scroll",!0,!0,window,1),window.dispatchEvent(r),1===t&&e.setState({isActive:!0})}):this.setState({isActive:!0})}}]),t}(_.Component);t["default"]=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(46),w=r(b),E=n(43),C=n(101),k=r(C),N=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.comments,a=t.color,i=(0,g["default"])(k["default"].root,"material-comments",(e={},(0,o["default"])(e,n,Boolean(n)),(0,o["default"])(e,k["default"].light,"light"===a),(0,o["default"])(e,k["default"].dark,"dark"===a),e));return r?v["default"].createElement("small",{className:i,onClick:this.props.onHandleButtonClick},v["default"].createElement(w["default"],{icon:"comment",className:k["default"].icon}),v["default"].createElement("span",{className:k["default"].title},(0,E.formatNumberWithSpaces)(r))):null}}]),t}(_.Component);N.defaultProps={color:"light"},t["default"]=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFormat=void 0;var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(19),w=r(b),E=n(102),C=r(E),k=t.defaultFormat="D MMMM",N=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.dateTime,r=e.format,a=(0,g["default"])(C["default"].root,"material-datetime",(0,o["default"])({},t,Boolean(t)));return v["default"].createElement("time",{dateTime:n,className:a},(0,w["default"])(n).locale("ru").format(r))}}]),t}(_.Component);N.defaultProps={format:k},t["default"]=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(7),v=r(_),y=n(103),g=r(y),b=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=(0,v["default"])(g["default"].root,t,"material-footer");return m["default"].createElement("footer",{className:r},n)}}]),t}(h.Component);t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(17),g=r(y),b=n(7),w=r(b),E=n(10),C=r(E),k=n(104),N=r(k),P=function(e){return(0,g["default"])(e,{feature:"features",story:"stories",view:"views",inquiry:"inquiries"},e)},T=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.code,a=t.rubric,i=t.large,l=t.className,u=(0,w["default"])(N["default"].root,l,(e={},(0,o["default"])(e,N["default"].rubric,a),(0,o["default"])(e,N["default"].large,i),e));return v["default"].createElement(C["default"],{to:"/"+P(r),className:u},n)}}]),t}(_.Component);T.defaultProps={rubric:!1,large:!1},t["default"]=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.colors=void 0;var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(106),w=r(b),E=(t.colors=["light","dark"],function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.lead,r=e.color,a=(0,g["default"])(w["default"].root,w["default"][r],(0,o["default"])({},t,Boolean(t)));return v["default"].createElement("p",{className:a},n)}}]),t}(_.Component));E.defaultProps={color:"light"},t["default"]=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(7),v=r(_),y=n(10),g=r(y),b=n(18),w=n(107),E=r(w),C=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.code,r=e.color,a=e.className,o=(0,v["default"])(E["default"].root,a);return m["default"].createElement(g["default"],{to:"/multimedia",query:{type:"lecture",lecture_rubric:n},className:o,style:{color:"#"+(0,b.withoutHashtag)(r)}},t)}}]),t}(h.Component);t["default"]=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(10),w=r(b),E=n(108),C=r(E),k=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.href,r=e.children,a=(0,g["default"])(C["default"].root,"material-reference",(0,o["default"])({},t,Boolean(t)));return/http(s?):\/\//.test(n)?v["default"].createElement("a",{href:n,className:a,rel:"noopener noreferrer",target:"_blank"},r):v["default"].createElement(w["default"],{to:n,className:a},r)}}]),t}(_.Component);t["default"]=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(7),l=r(i),u=function(e){var t=e.className,n=e.children;return o["default"].createElement("article",{children:n,className:(0,l["default"])("material-root",t)})};t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.colors=t.types=void 0;var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(7),v=r(_),y=n(109),g=r(y),b=(t.types=["default","small","large","tiny","preview"],t.colors=["light","dark"],function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,r=e.type,a=e.color,o=(0,v["default"])(g["default"].root,g["default"][r],g["default"][a],t);return m["default"].createElement("h2",{className:o},n)}}]),t}(h.Component));b.defaultProps={type:"default",color:"light"},t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(46),w=r(b),E=n(43),C=n(110),k=r(C),N=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.views,a=t.color,i=(0,g["default"])(k["default"].root,"material-views",(e={},(0,o["default"])(e,n,Boolean(n)),(0,o["default"])(e,k["default"].light,"light"===a),(0,o["default"])(e,k["default"].dark,"dark"===a),e));return r?v["default"].createElement("small",{className:i},v["default"].createElement(w["default"],{icon:"views",className:k["default"].icon}),v["default"].createElement("span",{className:k["default"].title},(0,E.formatNumberWithSpaces)(r))):null}}]),t}(_.Component);N.defaultProps={color:"light"},t["default"]=N},,function(e,t){e.exports={root:"_3VbOM",raw:"_3Kg7Q",button:"_1jlp4",socials:"Et53Y",item:"_2Bi2B",link:"_1NtSH",icon:"_2RXbT",Facebook:"_3ksWC",Vkontakte:"bg1er",Odnoklassniki:"_3HsdR",Twitter:"tUAoV",Google:"_3liV5"}},function(e,t){e.exports={root:"_2vpoY",title:"pnBIP",footer:"_3EHq2",left:"dXPj8",right:"_2t9eK",author:"_3fOIH",time:"SqaOs",views:"_2pHwL"}},function(e,t){e.exports={root:"_3CeAv",overlay:"_3W2f2",container:"_3sXUn",wrapper:"_2msAM",close:"_1nfKz",next:"_2fK4e",prev:"_4WSGA"}},function(e,t){e.exports={root:"_3xxuO",highlighted:"_1InMX"}},function(e,t){e.exports={root:"_2JZxb",trigger:"_2IdjN"}},function(e,t){e.exports={root:"_26uQK",icon:"_1uBrp",dark:"_2qY4m",light:"_1YOu9",title:"_1dzXd"}},function(e,t){e.exports={root:"_1KscV",author:"_3CF1N",big:"_3Jq4X"}},function(e,t){e.exports={root:"_32OWt"}},function(e,t){e.exports={root:"_1d1Dg",rubric:"_1VtCv",large:"_34-gp"}},function(e,t){e.exports={root:"_1rGH5",video:"MJJW9",photo:"_3iN6k",test:"_2iAjB"}},function(e,t){e.exports={root:"_2HIdY",light:"_2nZJG",dark:"_1-fjB"}},function(e,t){e.exports={root:"_14WNy"}},function(e,t){e.exports={root:"_38Iwl"}},function(e,t){e.exports={root:"_10Pb5",light:"_3WEte",dark:"_3q1TT","default":"_2bWDH",preview:"_2TPNc",large:"N5HAM",small:"_14Vx3",tiny:"_3Vqhy"}},function(e,t){e.exports={root:"_13pZD",icon:"_3p5jp",dark:"_1T5k1",light:"_2qA5Q",title:"_3V0Q6"}},function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return Array.prototype.indexOf.call(r,e)!==-1}var a=n(20),o={addClass:function(e,t){return/\s/.test(t)?a(!1):void 0,t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?a(!1):void 0,t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?a(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)};return n.call(e,t)}};e.exports=o},,function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var a=n(26),o=n(40),i=n(117),l=n(114),u=o.createClass({
displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:l.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o.createElement(l,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return o.createElement(i,a({},this.props,{childFactory:this._wrapChild}))}});e.exports=u},function(e,t,n){"use strict";var r=n(40),a=n(153),o=n(111),i=n(116),l=n(156),u=17,s=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=a.findDOMNode(this);if(!r)return void(t&&t());var l=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||l+"-active",s=null,c=function(e){e&&e.target!==r||(clearTimeout(s),o.removeClass(r,l),o.removeClass(r,u),i.removeEndEventListener(r,c),t&&t())};o.addClass(r,l),this.queueClassAndNode(u,r),n?(s=setTimeout(c,n),this.transitionTimeouts.push(s)):i.addEndEventListener(r,c)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,u))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){o.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return l(this.props.children)}});e.exports=s},function(e,t,n){"use strict";var r=n(154),a={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var i,l={};for(var u in t){if(r.hasOwnProperty(u))for(i=0;i<r[u].length;i++){var s=r[u][i];l[r[u][i]]=n(s)}l[u]=n(u)}for(i=0;i<a.length;i++)l[a[i]]=n(a[i]);return l}};e.exports=a},function(e,t,n){"use strict";function r(){var e=l("animationend"),t=l("transitionend");e&&u.push(e),t&&u.push(t)}function a(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var i=n(56),l=n(155),u=[];i.canUseDOM&&r();var s={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(n){a(e,n,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(n){o(e,n,t)})}};e.exports=s},function(e,t,n){"use strict";var r=n(26),a=n(40),o=(n(131),n(115)),i=n(58),l=a.createClass({displayName:"ReactTransitionGroup",propTypes:{component:a.PropTypes.any,childFactory:a.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:i.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t;t=o.getChildMapping(e.children);var n=this.state.children;this.setState({children:o.mergeChildMappings(n,t)});var r;for(r in t){var a=n&&n.hasOwnProperty(r);!t[r]||a||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(a.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var o=r({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,a.createElement(this.props.component,o,e)}});e.exports=l},,,function(e,t,n){e.exports=n(164)},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(118),l=r(i),u=n(129),s=r(u),c=o["default"].createElement(l["default"],{type:"skyscraper",position:"others"}),d=function(e){var t=e.children;return o["default"].createElement("aside",{className:s["default"].root},t,c)};d.displayName="Screens/Posts/Main/_/Aside",t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(1),l=r(i),u=n(130),s=r(u),c=function(e){return l["default"].createElement("div",(0,o["default"])({className:s["default"].root},e))};t["default"]=c},function(e,t){e.exports={root:"_1XABc"}},function(e,t){e.exports={root:"_4C212"}},,,,,,,,function(e,t){function n(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}e.exports=n},,,,,,function(e,t,n){function r(e,t,n){var r=e?e.length:0;return r?(t=n||void 0===t?1:o(t),a(e,t<0?0:t,r)):[]}var a=n(138),o=n(112);e.exports=r},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(8),l=r(i),u=n(55),s=r(u),c=n(1),d=r(c),f=n(119),p=r(f),h=n(7),m=r(h),_=n(152),v=r(_),y=function(e){var t=e.isPending,n=(0,s["default"])(e,["isPending"]);return d["default"].createElement("div",{className:(0,m["default"])(v["default"].container,(0,l["default"])({},v["default"].pending,t))},d["default"].createElement("button",(0,o["default"])({type:"button",className:v["default"].root},n)),d["default"].createElement(p["default"],{className:v["default"].preloader,small:!0}))};y.displayName="Base/Elements/LoadMoreButton",t["default"]=y},function(e,t){"use strict";function n(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},,,function(e,t){e.exports={root:"_3QT9n"}},function(e,t){e.exports={root:"_2DwbY",pending:"CrWm2",container:"_102DD",preloader:"_33Ko7"}},,,,,,,,,function(e,t,n){e.exports=n(166)},,,function(e,t){function n(e){return e&&e.length?e[0]:void 0}e.exports=n},,function(e,t,n){"use strict";var r=n(168),a={shouldComponentUpdate:function(e,t){return r(this,e,t)}};e.exports=a},,function(e,t,n){"use strict";function r(e,t,n){return!a(e.props,t)||!a(e.state,n)}var a=n(163);e.exports=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(8),u=a(l),s=n(11),c=a(s),d=n(1),f=a(d),p=n(10),h=a(p),m=n(7),_=a(m),v=n(18),y=n(13),g=r(y),b=n(211),w=a(b),E=function(e){var t;return f["default"].createElement(g.Root,{className:(0,_["default"])(w["default"].root,(t={},(0,u["default"])(t,w["default"].single,1===e.count),(0,u["default"])(t,w["default"]["double"],2===e.count),(0,u["default"])(t,w["default"].triple,3===e.count),(0,u["default"])(t,w["default"].quatro,4===e.count),(0,u["default"])(t,w["default"].dark,"dark"===e.color),t))},"lecture"===e.type||"photo"===e.type||"video"===e.type?f["default"].createElement(g.Icon,{type:e.type,color:(0,v.withoutHashtag)((0,c["default"])(e,"lecture_rubric.color"))}):null,e.lecture_rubric?f["default"].createElement(g.LectureGenre,e.lecture_rubric):null,e.lecture_rubric||!e.genre||e.rubricate?null:f["default"].createElement(g.Genre,e.genre),!e.lecture_rubric&&e.rubric&&e.rubricate?f["default"].createElement(g.Genre,(0,i["default"])({},e.rubric,{rubric:!0})):null,"news_entry"===e.type?f["default"].createElement(h["default"],{to:"/news",className:w["default"].news},"Новость"):null,f["default"].createElement(g.Brief,e),f["default"].createElement(g.Reference,{href:"/"+("news_entry"===e.type?"news":"articles")+"/"+e.code},f["default"].createElement(g.Title,{title:e.title,className:w["default"].title,type:"small",color:e.color})),f["default"].createElement(g.Footer,{className:w["default"].footer},e.authors&&e.authors[0]?f["default"].createElement(g.Author,e.authors[0]):null,f["default"].createElement(g.Views,{views:e.views_count})))};E.displayName="Screens/Index/_/Preview/Article",E.defaultProps={color:"light",rubricate:!1},t["default"]=E},function(e,t,n){function r(e,t,n){return e&&e.length?(t=n||void 0===t?1:o(t),a(e,0,t<0?0:t)):[]}var a=n(138),o=n(112);e.exports=r},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(8),u=a(l),s=n(11),c=a(s),d=n(1),f=a(d),p=n(10),h=a(p),m=n(17),_=a(m),v=n(13),y=r(v),g=n(57),b=a(g),w=n(77),E=a(w),C=n(18),k=n(7),N=a(k),P=n(178),T=a(P),M=function(e){return f["default"].createElement("div",{className:T["default"].post},f["default"].createElement(y.Reference,{href:"news_entry"===e.type?"/news/"+e.code:"/articles/"+e.code,className:T["default"].picture},e.picture?(0,_["default"])(e.subgenre,{column:function(){return f["default"].createElement("figure",{className:T["default"].photo},f["default"].createElement("img",{src:e.picture}))}},function(){var t;return f["default"].createElement("div",{className:(0,N["default"])(T["default"].imageWrapper,(t={},(0,u["default"])(t,T["default"].lecture,"lecture"===e.type),(0,u["default"])(t,T["default"].lecturePlaylist,"lecture_playlist"===e.type),t))},e.showIndexes?f["default"].createElement("div",{className:T["default"].index},e.index+e.indexOfset+"/"+(e.totalCount+e.indexOfset)):null,f["default"].createElement(E["default"],{color:(0,C.withoutHashtag)((0,c["default"])(e,"lecture_rubric.color"))}),f["default"].createElement(b["default"],{className:T["default"].image,src:e.picture,color:"#212226"}))}):f["default"].createElement(b["default"],{className:T["default"].image,color:"#212226"})),f["default"].createElement(y.Root,{className:T["default"].article},e.lecture_rubric||"photo"===e.type||"video"===e.type?f["default"].createElement(y.Icon,{type:e.lecture_rubric?"lecture":e.type,color:e.lecture_rubric?e.lecture_rubric.color:""}):null,e.lecture_rubric?f["default"].createElement(y.LectureGenre,e.lecture_rubric):null,e.lecture_rubric||!e.genre||e.rubricate?null:f["default"].createElement(y.Genre,e.genre),!e.lecture_rubric&&e.rubric&&e.rubricate?f["default"].createElement(y.Genre,(0,i["default"])({},e.rubric,{rubric:!0})):null,"news_entry"===e.type?f["default"].createElement(h["default"],{to:"/news",className:T["default"].news},"Новость"):null,f["default"].createElement(y.Reference,{href:"news_entry"===e.type?"/news/"+e.code:"/articles/"+e.code},f["default"].createElement(y.Title,{title:e.title,color:"dark",type:"default"}),e.lead?f["default"].createElement(y.Lead,{lead:e.lead,color:"dark"}):null),f["default"].createElement(y.Footer,null,e.authors&&e.authors.length<4&&e.authors.map(function(e,t){return f["default"].createElement(y.Author,(0,i["default"])({className:T["default"].author},e,{key:t}))}),e.authors&&e.authors.length>3&&f["default"].createElement(y.Author,(0,i["default"])({className:T["default"].author},{status:"hidden",novayagazeta:!0})),e.dtime?f["default"].createElement(y.DateTime,{dateTime:e.dtime}):null)))};t["default"]=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(27),v=r(_),y=n(1),g=r(y),b=n(76),w=r(b),E=n(191),C=r(E),k=n(7),N=r(k),P=n(179),T=r(P),M=function(e){function t(){var e;(0,s["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,p["default"])(this,(e=t.__proto__||(0,l["default"])(t)).call.apply(e,[this].concat(r))),i=o.props,u=i.query,c=i.lectureRubrics;return o.state={lectureRubrics:c,isOpen:!1,activeRubric:(0,C["default"])(c,function(e){return e.code===u.lecture_rubric}),total:c.reduce(function(e,t){return e+t.count},0)},o.handleAllClick=o.handleClick.bind(o),o.handleOpenMenu=o.handleOpenMenu.bind(o),o}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e,t=this,n=this.props.query,r=this.state,a=r.lectureRubrics,i=r.isOpen,l=r.activeRubric,u=r.total;return g["default"].createElement("div",{className:(0,N["default"])(T["default"].root,this.props.className,(0,o["default"])({},T["default"].rootOpen,i))},g["default"].createElement("button",{className:(0,N["default"])(T["default"].typeLink,T["default"].typeLinkMobileActive,(e={},(0,o["default"])(e,T["default"].active,!n.lecture_rubric),(0,o["default"])(e,T["default"].isOpen,i),e)),onClick:this.handleOpenMenu,style:l?{color:"#"+l.color.replace("#","")}:{}},l?l.title+" ("+l.count+")":"Все подряд ("+u+")"),g["default"].createElement("button",{className:(0,N["default"])(T["default"].typeLink,(0,o["default"])({},T["default"].active,!n.lecture_rubric)),onClick:(0,v["default"])(this.handleAllClick,{})},"Все подряд ("+u+")"),a.map(function(e){return e.count?g["default"].createElement("button",{key:e.id,className:(0,N["default"])(T["default"].typeLink,(0,o["default"])({},T["default"].active,n.lecture_rubric===e.code)),onClick:(0,v["default"])(t.handleAllClick,e),style:{color:"#"+e.color.replace("#","")}},e.title+" ("+e.count+")"):null}))}},{key:"handleOpenMenu",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"handleClick",value:function(e){this.setState({activeRubric:(0,C["default"])(this.props.lectureRubrics,function(t){return t.code===e.code})}),w["default"].replace({pathname:"/multimedia",query:{lecture_rubric:e.code,type:"lecture"}})}}]),t}(y.Component);t["default"]=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(76),g=r(y),b=n(7),w=r(b),E=n(180),C=r(E),k=function(e){function t(){var e;(0,s["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,p["default"])(this,(e=t.__proto__||(0,l["default"])(t)).call.apply(e,[this].concat(r)));return o.handleAllClick=o.handleClick.bind(o,{}),o.handlePhotoClick=o.handleClick.bind(o,{type:"photo"}),o.handleVideoClick=o.handleClick.bind(o,{type:"video"}),o.handleInteractiveClick=o.handleClick.bind(o,{type:"interactive"}),o.handleCourseClick=o.handleClick.bind(o,{type:"lecture"}),o}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props.query;return v["default"].createElement("div",{className:(0,w["default"])(C["default"].root,this.props.className)},v["default"].createElement("ul",{className:C["default"].list},v["default"].createElement("li",{className:(0,w["default"])(C["default"].item,(0,o["default"])({},C["default"].active,!e.type))},v["default"].createElement("button",{className:C["default"].link,onClick:this.handleAllClick},"Все материалы")),v["default"].createElement("li",{className:(0,w["default"])(C["default"].item,(0,o["default"])({},C["default"].active,"photo"===e.type))},v["default"].createElement("button",{className:C["default"].link,onClick:this.handlePhotoClick},"Фото")),v["default"].createElement("li",{className:(0,w["default"])(C["default"].item,(0,o["default"])({},C["default"].active,"video"===e.type))},v["default"].createElement("button",{className:C["default"].link,onClick:this.handleVideoClick},"Видео")),v["default"].createElement("li",{className:(0,w["default"])(C["default"].item,(0,o["default"])({},C["default"].active,"interactive"===e.type))},v["default"].createElement("button",{className:C["default"].link,onClick:this.handleInteractiveClick},"Тесты и опросы")),v["default"].createElement("li",{className:(0,w["default"])(C["default"].item,(0,o["default"])({},C["default"].active,"lecture"===e.type))},v["default"].createElement("button",{className:C["default"].link,onClick:this.handleCourseClick},"Лекторий"))))}},{key:"handleClick",value:function(e){g["default"].replace({pathname:"/multimedia",query:e})}}]),t}(_.Component);t["default"]=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(11),v=r(_),y=n(1),g=r(y),b=n(7),w=r(b),E=n(147),C=r(E),k=n(14),N=r(k),P=n(127),T=r(P),M=n(128),O=r(M),x=n(172),S=r(x),j=n(174),R=r(j),A=n(173),D=r(A),F=n(181),I=r(F),V=g["default"].createElement(T["default"],null),L=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.query,r=t.materials,a=t.type,i=t.count,l=t.onUpdate,u=t.isPending,s=t.className,c="multimedia"===a;return g["default"].createElement(N["default"],{block:!0},c?g["default"].createElement(R["default"],{className:I["default"].mobile,query:n}):null,c?g["default"].createElement(R["default"],{className:I["default"].desktop,query:n}):null,"lecture"===(0,v["default"])(n,"type")?g["default"].createElement(D["default"],{materials:r,query:n,lectureRubrics:this.props.lectureRubrics}):null,g["default"].createElement(N["default"],{className:(0,w["default"])(I["default"].root,s)},g["default"].createElement(O["default"],null,r.map(function(t,n){return g["default"].createElement(S["default"],(0,o["default"])({key:n,index:n+1},t,{rubricate:Boolean(a),indexOfset:e.props.indexOfset,showIndexes:e.props.showIndexes,totalCount:r.length}))}),i&&l&&i>r.length?g["default"].createElement(C["default"],{isPending:u,onClick:l},"Загрузить ещё"):null),this.props.noAside?null:V))}}]),t}(y.Component);L.defaultProps={noAside:!1},t["default"]=L},,,function(e,t){e.exports={article:"dDB1E",post:"aEPHx",picture:"ywSOw",image:"_15WfF",rounded:"_3q34L",photo:"D_L5S",lectureRubric:"_2GtxX",imageWrapper:"_1af9u",lecture:"_2b3nw",lecturePlaylist:"_1Tq0Q",overlay:"_3CVV3",index:"_15Fpx",author:"_2bjVL"}},function(e,t){e.exports={root:"_3t-Is",typeLink:"IvphO",active:"_2BpIT",typeLinkMobileActive:"_3KcRB",isOpen:"_3AfRW",rootOpen:"_1VVWq"}},function(e,t){e.exports={root:"L45zi",item:"fshgi",link:"_2ruAg",active:"kmYeS",list:"_2LXhB"}},function(e,t){e.exports={root:"_28N2m",desktop:"_3yfG6",mobile:"_7mWkR"}},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Elevator=t.Cabin=void 0;var a=n(126),o=r(a),i=n(9),l=r(i),u=n(55),s=r(u),c=n(2),d=r(c),f=n(3),p=r(f),h=n(4),m=r(h),_=n(6),v=r(_),y=n(5),g=r(y),b=n(165),w=r(b),E=n(1),C=r(E),k=n(139),N=["scroll","touchstart","touchmove","touchend","pageshow","load","resize"],P=function(e){function t(){var e;(0,p["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,v["default"])(this,(e=t.__proto__||(0,d["default"])(t)).call.apply(e,[this].concat(r)));return o.state=o.getState(),o.getRootDOMNode=o.getRootDOMNode.bind(o),o.handleScroll=o.handleScroll.bind(o),o}return(0,g["default"])(t,e),(0,m["default"])(t,[{key:"getState",value:function(){return{disabled:!1,prevScroll:0,style:{}}}},{key:"componentDidMount",value:function(){this.on(N,this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.off(N,this.handleScroll)}},{key:"on",value:function(e,t){e.forEach(function(e){return window.addEventListener(e,t,!1)})}},{key:"off",value:function(e,t){e.forEach(function(e){return window.removeEventListener(e,t,!1)})}},{key:"handleScroll",value:function(){var e=this.props.disableWhenViewportMax,t=window.innerWidth;if(t<=e&&!this.state.disabled)return this.setState({disabled:!0,style:{}});if(t>e&&this.state.disabled)return this.setState({disabled:!1,style:{}});if(this.$node&&this.context.$pocket&&!this.state.disabled){var n=this.props,r=n.upScrollTopDelay,a=n.downScrollTopDelay,o=this.context.$pocket,i=this.$node,l=this.state.prevScroll,u=window.innerHeight,s=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),c=s+u;this.setState({prevScroll:s});var d=o.getBoundingClientRect(),f=d.top+s,p=d.bottom+s,h=d.left,m=d.width,_=i.getBoundingClientRect(),v=_.height,y=_.top+s,g=_.bottom+s;u>=v?s>l?s>p-v-a?this.setState({style:{position:"absolute",left:0,bottom:0,width:m}}):s>f-a?y-s<=a?this.setState({style:{position:"fixed",left:h,top:a,width:m}}):this.setState({style:{position:"absolute",left:0,top:y-f,width:m}}):y<=f?this.setState({style:{position:"absolute",left:0,top:0,width:m}}):this.setState({style:{position:"absolute",left:0,top:y-f,width:m}}):s<f-r?this.setState({style:{position:"absolute",left:0,top:0,width:m}}):s<p-v?y-s<r?this.setState({style:{position:"absolute",left:0,top:y-f,width:m}}):this.setState({style:{position:"fixed",left:h,top:r,width:m}}):this.setState({style:{position:"absolute",left:0,bottom:0,width:m}}):s>l?c>p?this.setState({style:{position:"absolute",left:0,bottom:0,width:m}}):c>=g?this.setState({style:{position:"fixed",left:h,bottom:0,width:m}}):s<f?this.setState({style:{position:"absolute",left:0,top:0,width:m}}):this.setState({style:{position:"absolute",left:0,top:y-f,width:m}}):s<f?this.setState({style:{position:"absolute",left:0,top:0,width:m}}):s<=y?y-s<r?this.setState({style:{position:"absolute",left:0,top:y-f,width:m}}):this.setState({style:{position:"fixed",left:h,top:r,width:m}}):c>p?this.setState({style:{position:"absolute",left:0,bottom:0,width:m}}):this.setState({style:{position:"absolute",left:0,top:y-f,width:m}})}}},{key:"getRootDOMNode",value:function(e){!this.$node&&e&&(this.$node=(0,k.findDOMNode)(e))}},{key:"render",value:function(){var e=this.props,t=e.component,n=(0,s["default"])(e,["component"]);return C["default"].createElement(t,(0,l["default"])({},(0,w["default"])(n,["upScrollTopDelay","downScrollTopDelay","downScrollBottomDelay","upScrollBottomDelay"]),{style:this.state.style,ref:this.getRootDOMNode}))}}]),t}(E.Component);P.contextTypes={$pocket:E.PropTypes.any},P.defaultProps={downScrollTopDelay:0,downScrollBottomDelay:0,upScrollTopDelay:0,upScrollBottomDelay:0,component:"div"};var T=function(e){function t(){var e;(0,p["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,v["default"])(this,(e=t.__proto__||(0,d["default"])(t)).call.apply(e,[this].concat(r)));return o.getRootDOMNode=o.getRootDOMNode.bind(o),o.state={$pocket:null},o}return(0,g["default"])(t,e),(0,m["default"])(t,[{key:"getChildContext",value:function(){return{$pocket:this.state.$pocket}}},{key:"getRootDOMNode",value:function(e){!this.state.$pocket&&e&&this.setState({$pocket:(0,k.findDOMNode)(e)})}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.style,r=(0,s["default"])(e,["component","style"]);return C["default"].createElement(t,(0,l["default"])({},r,{style:n?(0,o["default"])({},n,{position:"relative"}):{position:"relative"},ref:this.getRootDOMNode}))}}]),t}(E.Component);T.defaultProps={component:"div"},T.childContextTypes={$pocket:E.PropTypes.any},t.Cabin=P,t.Elevator=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Socials=t.Wrapper=t.RelatedRelap=t.Related=t.Content=t.Header=t.Issue=t.Aside=void 0;var a=n(327),o=r(a),i=n(346),l=r(i),u=n(345),s=r(u),c=n(343),d=r(c),f=n(347),p=r(f),h=n(348),m=r(h),_=n(350),v=r(_),y=n(349),g=r(y);t.Aside=o["default"],t.Issue=l["default"],t.Header=s["default"],t.Content=d["default"],t.Related=p["default"],t.RelatedRelap=m["default"],t.Wrapper=v["default"],t.Socials=g["default"]},,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Inner=void 0;var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(9),_=a(m),v=n(11),y=a(v),g=n(1),b=a(g),w=n(17),E=a(w),C=n(14),k=a(C),N=n(57),P=a(N),T=n(77),M=a(T),O=n(18),x=n(13),S=r(x),j=n(206),R=a(j),A=function(e){return(0,E["default"])(e,{inquiries:"Расследования",stories:"Репортажи",features:"Истории",views:"Мнения",multimedia:"Мультимедиа"},"")},D=t.Inner=function(e){return b["default"].createElement("div",{className:R["default"].container},b["default"].createElement(S.Reference,{className:R["default"].reference,href:"/articles/"+e.code},b["default"].createElement(M["default"],{className:R["default"].gradient,color:(0,O.withoutHashtag)((0,y["default"])(e,"lecture_rubric.color"))}),b["default"].createElement(P["default"],{className:R["default"].picture,src:e.feature_picture||e.picture,color:"#212226"})),b["default"].createElement(k["default"],null,b["default"].createElement(S.Root,{className:R["default"].feature},!e.rubric||"video"!==e.type&&"photo"!==e.type?null:b["default"].createElement(S.Icon,{type:e.type}),e.lecture_rubric?b["default"].createElement(S.LectureGenre,e.lecture_rubric):null,!e.lecture_rubric&&e.rubric&&e.genretype?b["default"].createElement(S.Genre,(0,_["default"])({},e.rubric,{rubric:!0})):null,e.lecture_rubric||!e.genre||e.genretype?null:b["default"].createElement(S.Genre,e.genre),b["default"].createElement(S.Reference,{href:"/articles/"+e.code},b["default"].createElement(S.Title,{className:R["default"].title,title:e.title,type:"preview"}),e.lead?b["default"].createElement(S.Lead,{className:R["default"].lead,lead:e.lead}):null),b["default"].createElement(S.Footer,null,b["default"].createElement(S.Views,{views:e.views_count}),b["default"].createElement(S.Comments,{comments:e.comments_count})))))},F=function(e){function t(){return(0,u["default"])(this,t),(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).apply(this,arguments))}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props;return b["default"].createElement("article",{className:R["default"].root},b["default"].createElement("div",{className:R["default"].wrapper},b["default"].createElement("h1",{className:R["default"].rubric},A(e.genretype)||e.rubrictitle||""),b["default"].createElement(D,e)))}}]),t}(g.Component);t["default"]=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.View=t.Photo=t.Lecture=t.Genre=t.Article=t.Cinema=void 0;var a=n(239),o=r(a),i=n(235),l=r(i),u=n(241),s=r(u),c=n(242),d=r(c),f=n(243),p=r(f),h=n(246),m=r(h);t.Cinema=o["default"],t.Article=l["default"],t.Genre=s["default"],t.Lecture=d["default"],t.Photo=p["default"],t.View=m["default"]},,,,,,,,,function(e,t){e.exports={root:"_3Oq79",rubric:"_17jh6",wrapper:"_3QXlo",container:"Sznu2",feature:"_2DXUO",gradient:"_1KBvK",picture:"_11_so",title:"_26Gdy",lead:"_1R7Kc",reference:"_1GyJA"}},,,,,function(e,t){e.exports={root:"_2CGwp",news:"_2DrMw",single:"gBvbn",dark:"_2-qgp",footer:"o2dEZ",title:"_1ynw4","double":"_3NMwe",triple:"_1e9-Z",quatro:"_2TJh4"}},,function(e,t,n){var r=n(215),a=n(216),o=a(r);e.exports=o},function(e,t,n){var r=n(217),a=r();e.exports=a},function(e,t,n){function r(e,t){return e&&a(e,t,o)}var a=n(214),o=n(218);e.exports=r},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var o=n.length,i=t?o:-1,l=Object(n);(t?i--:++i<o)&&r(l[i],i,l)!==!1;);return n}}var a=n(160);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),l=i.length;l--;){var u=i[e?l:++a];if(n(o[u],u,o)===!1)break}return t}}e.exports=n},,,function(e,t,n){(function(e,r){function a(e,t){this._id=e,this._clearFn=t}var o=n(146).nextTick,i=Function.prototype.apply,l=Array.prototype.slice,u={},s=0;t.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=s++,r=!(arguments.length<2)&&l.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(t,n(220).setImmediate,n(220).clearImmediate);
},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(1),b=a(g),w=n(7),E=a(w),C=n(78),k=a(C),N=n(54),P=r(N),T=n(261),M=a(T),O=b["default"].createElement("strong",null,"Скрыть"),x=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.handleScroll=o.handleScroll.bind(o),o.getRootDOMNode=o.getRootDOMNode.bind(o),o.state={path:""},o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.state.path,t=this.props,n=t.issuePage,r=t.commentsCount,a=t.forbidCommenting;return b["default"].createElement("footer",{ref:this.getRootDOMNode,className:M["default"].root},b["default"].createElement("ul",{className:M["default"].socials},P.post.socials.map(function(t,n){var r=t.icon,a=t.url;t.title;return b["default"].createElement("li",{className:M["default"].item,key:n},b["default"].createElement("a",{className:M["default"].link,href:a+e,rel:"noopener noreferrer",target:"_blank"},b["default"].createElement(k["default"],{type:r,className:(0,E["default"])(M["default"].icon,M["default"][r])})))})),n?null:b["default"].createElement("div",{className:M["default"].wrapper},!r&&a?null:b["default"].createElement("button",{onClick:this.props.onButtonClick,type:"button",className:(0,E["default"])(M["default"].button,(0,i["default"])({},M["default"].close,this.props.commentsShown))},b["default"].createElement("span",null,a?"Показать все":"Обсудить"),O)))}},{key:"componentWillReceiveProps",value:function(e){if(e.code!==this.props.code){var t=e.pageType?window.location.origin+"/"+e.pageType+"/"+e.code:window.location.href;this.setState({path:t})}if((0,y["default"])(e,"article.code")!==(0,y["default"])(this.props,"article.code")){var n=window.location.origin+"/articles/"+(0,y["default"])(e,"article.code");this.setState({path:n})}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll,{passive:!0});var e=this.props.pageType?window.location.origin+"/"+this.props.pageType+"/"+this.props.code:window.location.href;this.setState({path:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll,!1)}},{key:"getRootDOMNode",value:function(e){!this.$root&&e&&(this.$root=e)}},{key:"handleScroll",value:function(){if(this.props.onAppearInViewport&&this.$root){var e=document.documentElement,t=(window.pageYOffset||e.scrollTop)-(e.clientTop||0),n=this.$root.getBoundingClientRect().top+t;t+window.innerHeight>=n&&this.props.onAppearInViewport()}}}]),t}(g.Component);t["default"]=x},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(1),b=a(g),w=n(17),E=a(w),C=n(57),k=a(C),N=n(10),P=a(N),T=n(14),M=a(T),O=n(13),x=r(O),S=n(273),j=a(S),R=function(e){return(0,E["default"])(e,{feature:"features",story:"stories",view:"views",inquiry:"inquiries"},e)},A=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.state={top:null,minHeight:null,height:null},o.handleScroll=o.handleScroll.bind(o),o.handleResize=o.handleResize.bind(o),o.calculateDefaultOffset=o.calculateDefaultOffset.bind(o),o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.state,t=e.top,n=e.topOffset,r=e.minHeight,a=e.height,o=this.props,l=o.title,u=o.subtitle,s=o.picture,c=o.genre,d=o.caption,f=o.lecture_content,p=(0,y["default"])(f,"lecture_rubric");return b["default"].createElement("div",{className:j["default"].root,style:r&&a?{minHeight:r,height:a}:{}},b["default"].createElement("div",{className:j["default"].rootWrapper},b["default"].createElement(k["default"],{color:"#212226",src:s,className:j["default"].background,style:"number"==typeof t?{backgroundPosition:"center "+((n||180)-t)+"px"}:{}}),b["default"].createElement(M["default"],{className:j["default"].container,block:!0},b["default"].createElement("div",{className:j["default"].wrapper},p?b["default"].createElement(x.LectureGenre,(0,i["default"])({className:j["default"].genre},p)):null,!p&&c?b["default"].createElement(P["default"],{to:"/"+R(c.code),className:j["default"].genre},c.title):null,b["default"].createElement("h1",{className:j["default"].title},l),u?b["default"].createElement("p",{className:j["default"].lead},u):null),d?b["default"].createElement("p",{className:j["default"].caption},d):null)))}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll,{passive:!0}),window.addEventListener("resize",this.handleResize,!1),this.handleResize(),this.calculateDefaultOffset()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleResize,!1)}},{key:"handleScroll",value:function(){var e=this.state.top,t=document.documentElement,n=this.calculateDefaultOffset(),r=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),a=Math.min(r,n);a!==e&&this.setState({top:a})}},{key:"handleResize",value:function(){var e=window.innerWidth,t=window.innerHeight-(e>=1200?180:60),n=Math.min(t,e>=1200?720:e>720?510:320);this.setState({minHeight:n+"px",height:"auto"})}},{key:"calculateDefaultOffset",value:function(){var e=this.state.topOffset,t=document.getElementById("topMobileAds"),n=document.getElementById("topAds"),r=t||n?n&&n.getBoundingClientRect().height||t&&t.getBoundingClientRect().height:120,a=document.getElementById("live"),o=180;return(t||n)&&(o-=120-r),a&&(o+=a.getBoundingClientRect().height),e!==o&&this.setState({topOffset:o}),o}}]),t}(g.Component);t["default"]=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(46),v=r(_),y=n(262),g=r(y),b=m["default"].createElement(v["default"],{icon:"cross"}),w=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props.onClose;return m["default"].createElement("div",{className:g["default"].root,onClick:e},m["default"].createElement("div",{className:g["default"].container,onClick:this.handleOverlayClick},m["default"].createElement("button",{type:"button",className:g["default"].close,onClick:e},b),m["default"].createElement("h3",{className:g["default"].caption},"Кинопоказ"),m["default"].createElement("h2",{className:g["default"].title},"Извините, но посмотреть фильм можно только после регистрации"),m["default"].createElement("button",{type:"button",className:g["default"].register},"Зарегистрироваться")))}},{key:"handleOverlayClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"componentDidMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow=""}}]),t}(h.Component);w.displayName="Modules/Previews/Cinema/_/Unauthorized",t["default"]=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(263),v=r(_),y=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.url;return m["default"].createElement("div",{className:v["default"].root},m["default"].createElement("button",{type:"button",onClick:t,className:v["default"].button}),m["default"].createElement("iframe",{className:v["default"].frame,src:n,frameBorder:"0",allowFullScreen:!0}))}}]),t}(h.Component);y.displayName="Modules/Previews/Cinema/_/Video",t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Unauthorized=t.Video=void 0;var a=n(237),o=r(a),i=n(236),l=r(i);t.Video=o["default"],t.Unauthorized=l["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(11),_=a(m),v=n(27),y=a(v),g=n(1),b=a(g),w=n(53),E=a(w),C=n(14),k=a(C),N=n(17),P=a(N),T=n(19),M=a(T),O=n(13),x=r(O),S=n(238),j=r(S),R=n(264),A=a(R),D=function(e){function t(){var e;(0,u["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,f["default"])(this,(e=t.__proto__||(0,i["default"])(t)).call.apply(e,[this].concat(r)));return o.state={view:"default",currentDate:(0,M["default"])()},o.handleViewChange=o.handleViewChange.bind(o),o}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.view,r=t.currentDate,a=this.props,o=a.cover,i=a.title,l=a.country,u=a.genres,s=a.runtime,c=a.age_limit,d=a.director,f=a.stars,p=a.dtime_from,h=a.release_date,m=a.trailer,_=a.movie,v=r.isAfter((0,M["default"])(p)),g=Boolean(_&&p&&v),w=p&&(0,M["default"])(p).format("DD.MM.YYYY, HH:mm"),C=(0,M["default"])(h).format("YYYY");return b["default"].createElement("div",{className:A["default"].root},b["default"].createElement("figure",{style:{backgroundImage:"url('"+o+"')"},className:A["default"].cover}),b["default"].createElement(k["default"],{className:A["default"].wrapper},b["default"].createElement("div",{className:A["default"].container},b["default"].createElement("h4",{className:A["default"].rubric},"Кинопоказ ",w&&b["default"].createElement("span",{className:A["default"].soon},v?w:"скоро "+w)),b["default"].createElement(x.Title,{title:i,type:"large"}),b["default"].createElement("ul",{className:A["default"].info},b["default"].createElement("li",{className:A["default"].item},C),b["default"].createElement("li",{className:A["default"].item},l),b["default"].createElement("li",{className:A["default"].item},u),b["default"].createElement("li",{className:A["default"].item},s),b["default"].createElement("li",{className:A["default"].item},c)),b["default"].createElement("div",{className:A["default"].list},b["default"].createElement("h4",{className:A["default"].caption},"Режиссер"),b["default"].createElement("div",{className:A["default"].elements},d)),b["default"].createElement("div",{className:A["default"].list},b["default"].createElement("h4",{className:A["default"].caption},"В главных ролях"),b["default"].createElement("div",{className:A["default"].elements},f)),g?b["default"].createElement("button",{type:"button",className:A["default"].film,onClick:(0,y["default"])(this.handleViewChange,this.selectType())},"Смотреть фильм"):null,m?b["default"].createElement("button",{type:"button",className:A["default"].trailer,onClick:(0,y["default"])(this.handleViewChange,"trailer")},"Смотреть трейлер"):null)),b["default"].createElement(E["default"],{transitionName:"fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},(0,P["default"])(n,{trailer:function(){return b["default"].createElement(j.Video,{onClose:(0,y["default"])(e.handleViewChange,"default"),url:m+"?autoplay=1"})},film:function(){return b["default"].createElement(j.Video,{onClose:(0,y["default"])(e.handleViewChange,"default"),url:_+"?autoplay=1"})},unauthorized:function(){return b["default"].createElement(j.Unauthorized,{onClose:(0,y["default"])(e.handleViewChange,"default")})}},null)))}},{key:"selectType",value:function(){var e=this.props.need_auth;return e?(0,_["default"])(this.props,"profile.user")?"film":"unauthorized":"film"}},{key:"handleViewChange",value:function(e){this.setState({view:e})}}]),t}(g.Component);D.displayName="Modules/Previews/Cinema",t["default"]=D},[1217,196],function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(170),y=a(v),g=n(144),b=a(g),w=n(120),E=a(w),C=n(1),k=a(C),N=n(169),P=a(N),T=n(14),M=a(T),O=n(240),x=r(O),S=n(274),j=a(S),R=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.type;return t&&t.length?k["default"].createElement("div",{className:j["default"].root},k["default"].createElement(x.Feature,(0,i["default"])({genretype:n},(0,E["default"])(t),{rubrictitle:this.props.title})),k["default"].createElement(M["default"],{className:j["default"].container,block:!0},(0,y["default"])((0,b["default"])(t,1),4).map(function(e,r){return k["default"].createElement(P["default"],(0,i["default"])({rubricate:Boolean(n),color:"dark",count:(0,y["default"])((0,b["default"])(t,1),4).length,key:r},e))}))):null}}]),t}(C.Component);t["default"]=R},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Inner=void 0;var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(120),b=a(g),w=n(1),E=a(w),C=n(14),k=a(C),N=n(10),P=a(N),T=n(57),M=a(T),O=n(13),x=r(O),S=n(77),j=a(S),R=n(18),A=n(265),D=a(A),F=t.Inner=function(e){return E["default"].createElement("div",{className:D["default"].container},E["default"].createElement("span",{className:D["default"].index},"1/"+e.totalCount),E["default"].createElement(x.Reference,{href:"/articles/"+e.code,className:D["default"].reference},E["default"].createElement(j["default"],{className:D["default"].overlay,color:(0,R.withoutHashtag)((0,y["default"])(e,"lecture_rubric.color"))}),E["default"].createElement(M["default"],{className:D["default"].picture,src:e.feature_picture||e.picture,color:"#212226"})),E["default"].createElement(k["default"],null,E["default"].createElement(x.Root,{className:D["default"].feature},e.lecture_rubric?E["default"].createElement("div",{className:D["default"].genre},E["default"].createElement(x.Icon,{type:"lecture",color:e.lecture_rubric.color}),E["default"].createElement(P["default"],{to:"/multimedia",query:{type:"lecture",lecture_rubric:e.lecture_rubric.code},className:D["default"].rubricType,style:{color:"#"+e.lecture_rubric.color.replace("#","")}},e.lecture_rubric.title)):null,E["default"].createElement(x.Reference,{href:"/articles/"+e.code},E["default"].createElement(x.Title,{className:D["default"].title,title:e.title,type:"preview"}),e.lead?E["default"].createElement(x.Lead,{className:D["default"].lead,lead:e.lead}):null),E["default"].createElement(x.Footer,null,E["default"].createElement(x.Views,{views:e.views_count}),E["default"].createElement(x.Comments,{comments:e.comments_count})))))},I=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.lecture_content;return E["default"].createElement("article",{className:D["default"].root},E["default"].createElement("div",{className:D["default"].wrapper},E["default"].createElement("h3",{className:D["default"].rubric},"Лекторий ",E["default"].createElement("span",{className:D["default"].subtitle},"Плейлист: "+t.items.length+" видео")),E["default"].createElement("h1",{className:D["default"].pageTitle},this.props.title),E["default"].createElement(F,(0,i["default"])({},(0,b["default"])(t.items),{totalCount:t.items.length}))))}}]),t}(w.Component);t["default"]=I},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(1),u=a(l),s=n(14),c=a(s),d=n(13),f=r(d),p=n(266),h=a(p),m=function(e){return u["default"].createElement("div",{className:h["default"].root},u["default"].createElement(c["default"],{block:!0},u["default"].createElement("div",{className:h["default"].wrapper},e.genre?u["default"].createElement(f.Genre,(0,i["default"])({},e.genre,{large:!0})):null,u["default"].createElement("h1",{className:h["default"].title},e.title),e.subtitle?u["default"].createElement("p",{className:h["default"].lead},e.subtitle):null)))};m.displayName="Modules/Previews/Photo",t["default"]=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(1),y=a(v),g=n(13),b=r(g),w=n(267),E=a(w),C=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props;return y["default"].createElement("article",{className:E["default"].root},y["default"].createElement("div",{className:E["default"].wrapper},y["default"].createElement("h1",{className:E["default"].rubric},"Мнения"),y["default"].createElement("div",{className:E["default"].container},y["default"].createElement("figure",{className:E["default"].figure},e.picture?y["default"].createElement("img",{src:e.picture,className:E["default"].img}):null),y["default"].createElement(b.Root,{className:E["default"].material},e.genre&&!e.rubricate?y["default"].createElement(b.Genre,e.genre):null,e.rubric&&e.rubricate?y["default"].createElement(b.Genre,(0,i["default"])({},e.rubric,{rubric:!0})):null,y["default"].createElement(b.Reference,{href:"/articles/"+e.code},y["default"].createElement(b.Title,{title:e.title,color:"dark",type:"preview"})),y["default"].createElement(b.Footer,null,e.authors&&e.authors[0]?y["default"].createElement(b.Author,e.authors[0]):null,y["default"].createElement(b.Views,{views:e.views_count}),y["default"].createElement(b.Comments,{comments:e.comments_count}))))))}}]),t}(v.Component);t["default"]=C},[1217,244],function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(170),y=a(v),g=n(144),b=a(g),w=n(120),E=a(w),C=n(1),k=a(C),N=n(14),P=a(N),T=n(169),M=a(T),O=n(275),x=a(O),S=n(245),j=r(S),R=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.type;return t&&t.length?k["default"].createElement("div",{className:x["default"].root},k["default"].createElement(j.Feature,(0,i["default"])({rubricate:Boolean(n)},(0,E["default"])(t))),k["default"].createElement(P["default"],{className:x["default"].container,block:!0},(0,y["default"])((0,b["default"])(t,1),4).map(function(e,r){return k["default"].createElement(M["default"],(0,i["default"])({rubricate:Boolean(n),color:"dark",count:(0,y["default"])((0,b["default"])(t,1),4).length,key:r},e))}))):null}}]),t}(C.Component);t["default"]=R},,,,,,,,function(e,t,n){(function(t,n,r){!function(t){e.exports=t()}(function(){var e,a,o;return function i(e,t,n){function r(o,l){if(!t[o]){if(!e[o]){var u="function"==typeof _dereq_&&_dereq_;if(!l&&u)return u(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return r(n?n:t)},c,c.exports,i,e,t,n)}return t[o].exports}for(var a="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,n,r){"use strict";function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new d(16),this._normalQueue=new d(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function i(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function l(e){this._normalQueue._pushOne(e),this._queueTick()}var u;try{throw new Error}catch(s){u=s}var c=e("./schedule"),d=e("./queue"),f=e("./util");a.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},a.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},a.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(a.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},a.prototype.invoke=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},a.prototype.settlePromises=function(e){this._trampolineEnabled?l.call(this,e):this._schedule(function(){e._settlePromises()})}):(a.prototype.invokeLater=o,a.prototype.invoke=i,a.prototype.settlePromises=l),a.prototype.invokeFirst=function(e,t,n){this._normalQueue.unshift(e,t,n),this._queueTick()},a.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},a.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},n.exports=a,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var a=!1,o=function(e,t){this._reject(t)},i=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},l=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){a||(a=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var s=n(o),c=new e(t);c._propagateFrom(this,1);var d=this._target();if(c._setBoundTo(s),s instanceof e){var f={promiseRejectionQueued:!1,promise:c,target:d,bindingPromise:s};d._then(t,i,void 0,c,f),s._then(l,u,void 0,c,f),c._setOnCancel(s)}else c._resolveCallback(d);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=a)}catch(e){}return o}var a;"undefined"!=typeof Promise&&(a=Promise);var o=e("./promise")();o.noConflict=r,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var a=r(null),o=r(null);a[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var a="Object "+l.classString(e)+" has no method '"+l.toString(n)+"'";throw new t.TypeError(a)}return r}function r(e){var t=this.pop(),r=n(e,t);return r.apply(e,this)}function a(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var i,l=e("./util"),u=l.canEvaluate;l.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(u){var r=i(e);t=null!==r?r:a}else t=a;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,a){var o=e("./util"),i=o.tryCatch,l=o.errorObj,u=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=i(e).call(this._boundValue());r===l&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,l){return function(u){var s=l._boundValue();e:for(var c=0;c<e.length;++c){var d=e[c];if(d===Error||null!=d&&d.prototype instanceof Error){if(u instanceof d)return o(n).call(s,u)}else if("function"==typeof d){var f=o(d).call(s,u);if(f===i)return f;if(f)return o(n).call(s,u)}else if(r.isObject(u)){for(var p=a(d),h=0;h<p.length;++h){var m=p[h];if(d[m]!=u[m])continue e}return o(n).call(s,u)}}return t}}var r=e("./util"),a=e("./es5").keys,o=r.tryCatch,i=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(a)return new t}function r(){var e=o.length-1;if(e>=0)return o[e]}var a=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,i=e._peekContext,l=e.prototype._peekContext,u=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=i,e.prototype._peekContext=l,e.prototype._promiseCreated=u,a=!1},a=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,n,r){"use strict";n.exports=function(n,r){function a(e,t){return{promise:t}}function o(){return!1}function i(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+L.toString(e));r._attachCancellationCallback(e)})}catch(a){return a}}function l(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?L.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function u(){return this._onCancelField}function s(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function d(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new j(this._peekContext())}function m(e,t){if(H(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=k(e);L.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),L.notEnumerableProp(e,"__stackCleaned__",!0)}}}function _(e,t,n,r,a){if(void 0===e&&null!==t&&K){if(void 0!==a&&a._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",i="";if(t._trace){for(var l=t._trace.stack.split("\n"),u=E(l),s=u.length-1;s>=0;--s){var c=u[s];if(!z.test(c)){var d=c.match(q);d&&(o="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(u.length>0)for(var f=u[0],s=0;s<l.length;++s)if(l[s]===f){s>0&&(i="\n"+l[s-1]);
break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+i;r._warn(p,!0,t)}}function v(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),y(n)}function y(e,t,r){if(ie.warnings){var a,o=new V(e);if(t)r._attachExtraTrace(o);else if(ie.longStackTraces&&(a=n._peekContext()))a.attachExtraTrace(o);else{var i=k(o);o.stack=i.message+"\n"+i.stack.join("\n")}te("warning",o)||N(o,"",!0)}}function g(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function b(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],a=t.length-1,o=t[a],i=-1,l=r.length-1;l>=0;--l)if(r[l]===o){i=l;break}for(var l=i;l>=0;--l){var u=r[l];if(t[a]!==u)break;t.pop(),a--}t=r}}function E(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],a="    (No stack trace)"===r||U.test(r),o=a&&re(r);a&&!o&&(Y&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function C(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||U.test(r))break}return n>0&&(t=t.slice(n)),t}function k(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?C(e):["    (No stack trace)"],{message:n,stack:E(t)}}function N(e,t,n){if("undefined"!=typeof console){var r;if(L.isObject(e)){var a=e.stack;r=t+W(a,e)}else r=t+String(e);"function"==typeof D?D(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function P(e,t,n,r){var a=!1;try{"function"==typeof t&&(a=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(o){I.throwLater(o)}"unhandledRejection"===e?te(e,n,r)||a||N(n,"Unhandled rejection "):te(e,r)}function T(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():L.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(a){}0===t.length&&(t="(empty array)")}return"(<"+M(t)+">, no stack trace)"}function M(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function O(){return"function"==typeof oe}function x(e){var t=e.match(ae);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function S(e,t){if(O()){for(var n,r,a=e.stack.split("\n"),o=t.stack.split("\n"),i=-1,l=-1,u=0;u<a.length;++u){var s=x(a[u]);if(s){n=s.fileName,i=s.line;break}}for(var u=0;u<o.length;++u){var s=x(o[u]);if(s){r=s.fileName,l=s.line;break}}i<0||l<0||!n||!r||n!==r||i>=l||(re=function(e){if(B.test(e))return!0;var t=x(e);return!!(t&&t.fileName===n&&i<=t.line&&t.line<=l)})}}function j(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);oe(this,j),t>32&&this.uncycle()}var R,A,D,F=n._getDomain,I=n._async,V=e("./errors").Warning,L=e("./util"),H=L.canAttachTrace,B=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=/\((?:timers\.js):\d+:\d+\)/,q=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,U=null,W=null,Y=!1,$=!(0==L.env("BLUEBIRD_DEBUG")),Q=!(0==L.env("BLUEBIRD_WARNINGS")||!$&&!L.env("BLUEBIRD_WARNINGS")),G=!(0==L.env("BLUEBIRD_LONG_STACK_TRACES")||!$&&!L.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=L.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Q||!!L.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){P("rejectionHandled",R,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),P("unhandledRejection",A,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return y(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=F();A="function"==typeof e?null===t?e:L.domainBind(t,e):void 0},n.onUnhandledRejectionHandled=function(e){var t=F();R="function"==typeof e?null===t?e:L.domainBind(t,e):void 0};var X=function(){};n.longStackTraces=function(){if(I.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ie.longStackTraces&&O()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace;ie.longStackTraces=!0,X=function(){if(I.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,r.deactivateLongStackTraces(),I.enableTrampoline(),ie.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=m,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return ie.longStackTraces&&O()};var J=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return L.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!L.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return L.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!L.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),L.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!L.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Z=function(){return L.isNode?function(){return t.emit.apply(t,arguments)}:L.global?function(e){var t="on"+e.toLowerCase(),n=L.global[t];return!!n&&(n.apply(L.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),ee={promiseCreated:a,promiseFulfilled:a,promiseRejected:a,promiseResolved:a,promiseCancelled:a,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:a},te=function(e){var t=!1;try{t=Z.apply(null,arguments)}catch(n){I.throwLater(n),t=!0}var r=!1;try{r=J(e,ee[e].apply(null,arguments))}catch(n){I.throwLater(n),r=!0}return r||t};n.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&X()),"warnings"in e){var t=e.warnings;ie.warnings=!!t,K=ie.warnings,L.isObject(t)&&"wForgottenReturn"in t&&(K=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ie.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=c,n.prototype._propagateFrom=d,n.prototype._onCancel=u,n.prototype._setOnCancel=s,n.prototype._attachCancellationCallback=l,n.prototype._execute=i,ne=d,ie.cancellation=!0}"monitoring"in e&&(e.monitoring&&!ie.monitoring?(ie.monitoring=!0,n.prototype._fireEvent=te):!e.monitoring&&ie.monitoring&&(ie.monitoring=!1,n.prototype._fireEvent=o))},n.prototype._fireEvent=o,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var ne=f,re=function(){return!1},ae=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;L.inherits(j,Error),r.CapturedTrace=j,j.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,a=this;void 0!==a;++r)t.push(a),a=a._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var i=t[r].stack,l=n[i];if(void 0!==l&&l!==r){l>0&&(t[l-1]._parent=void 0,t[l-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;l<e-1?(u._parent=t[l+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var s=u._length+1,c=r-2;c>=0;--c)t[c]._length=s,s++;return}}}},j.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=k(e),n=t.message,r=[t.stack],a=this;void 0!==a;)r.push(E(a.stack.split("\n"))),a=a._parent;w(r),b(r),L.notEnumerableProp(e,"stack",g(n,r)),L.notEnumerableProp(e,"__stackCleaned__",!0)}};var oe=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():T(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=e,W=t;var n=Error.captureStackTrace;return re=function(e){return B.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return U=/@/,W=t,Y=!0,function(e){e.stack=(new Error).stack};var a;try{throw new Error}catch(o){a="stack"in o}return"stack"in r||!a||"number"!=typeof Error.stackTraceLimit?(W=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?T(t):t.toString()},null):(U=e,W=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(D=function(e){console.warn(e)},L.isNode&&t.stderr.isTTY?D=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:L.isNode||"string"!=typeof(new Error).stack||(D=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ie={warnings:Q,longStackTraces:!1,cancellation:!1,monitoring:!1};return G&&n.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return p},checkForgottenReturns:_,setBounds:S,warn:y,deprecated:v,CapturedTrace:j,fireDomEvent:J,fireGlobalEvent:Z}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var a=function(){return r};return this.caught(n,a)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function r(e,n){return a(e,n,t,t)}var a=e.reduce,o=e.all;e.prototype.each=function(e){return a(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return a(this,e,t,t)},e.each=function(e,r){return a(e,r,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=r}},{}],12:[function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(d(this,"message","string"==typeof r?r:t),d(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return c(n,Error),n}function a(e){return this instanceof a?(d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new a(e)}var o,i,l=e("./es5"),u=l.freeze,s=e("./util"),c=s.inherits,d=s.notEnumerableProp,f=r("Warning","warning"),p=r("CancellationError","cancellation error"),h=r("TimeoutError","timeout error"),m=r("AggregateError","aggregate error");try{o=TypeError,i=RangeError}catch(_){o=r("TypeError","type error"),i=r("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<v.length;++y)"function"==typeof Array.prototype[v[y]]&&(m.prototype[v[y]]=Array.prototype[v[y]]);l.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var g=0;m.prototype.toString=function(){var e=Array(4*g+1).join(" "),t="\n"+e+"AggregateError of:\n";g++,e=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",a=r.split("\n"),o=0;o<a.length;++o)a[o]=e+a[o];r=a.join("\n"),t+=r+"\n"}return g--,t},c(a,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:p,TimeoutError:h,OperationalError:a,RejectionError:a,AggregateError:m}),l.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:i,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var a={}.hasOwnProperty,o={}.toString,i={}.constructor.prototype,l=function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t},u=function(e,t){return{value:e[t]}},s=function(e,t,n){return e[t]=n.value,e},c=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(t){return i}},f=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};t.exports={isArray:f,keys:l,names:l,defineProperty:s,getDescriptor:u,freeze:c,getPrototypeOf:d,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,a){return n(e,r,a,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function a(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function i(){return u.call(this,this.promise._target()._settledValue())}function l(e){if(!o(this,e))return d.e=e,d}function u(e){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var s=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),e);if(void 0!==s){r._setReturnedNonUndefined();var f=n(s,r);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var p=new c("late cancellation observer");return r._attachExtraTrace(p),d.e=p,d}f.isPending()&&f._attachCancellationCallback(new a(this))}return f._then(i,l,void 0,this,void 0)}}}return r.isRejected()?(o(this),d.e=e,d):(o(this),e)}var s=e("./util"),c=t.CancellationError,d=s.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,a){return"function"!=typeof e?this.then():this._then(n,a,void 0,new r(this,t,e),void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,u,u)},t.prototype.tap=function(e){return this._passThrough(e,1,u)},r}},{"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,a,o,i){function l(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var i=p(n[o])(e);if(r._popContext(),i===f){r._pushContext();var l=t.reject(f.e);return r._popContext(),l}var u=a(i,r);if(u instanceof t)return u}return null}function u(e,n,a,o){if(i.cancellation()){var l=new t(r),u=this._finallyPromise=new t(r);this._promise=l.lastly(function(){return u}),l._captureStackTrace(),l._setOnCancel(this)}else{var s=this._promise=new t(r);s._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof a?[a].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}var s=e("./errors"),c=s.TypeError,d=e("./util"),f=d.errorObj,p=d.tryCatch,h=[];d.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,i.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),e=p(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=p(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},u.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=p(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(e){var n=this._promise;if(e===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=a(r,this._promise);if(!(o instanceof t)&&(o=l(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var i=o._bitField;0===(50397184&i)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&i)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&i)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=u,a=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r((void 0),(void 0),n,a),i=o.promise();return o._generator=t,o._promiseFulfilled(void 0),i}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new c("expecting a function but got "+d.classString(e));h.push(e)},t.spawn=function(e){if(i.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(e,this),a=r.promise();return r._run(t.spawn),a}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,a,o,i){var l=e("./util");l.canEvaluate,l.tryCatch,l.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}var a=[].slice.call(arguments);e&&a.pop();var r=new n(a).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,a,o,i){function l(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var a=s();this._callback=null===a?t:c.domainBind(a,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function u(e,n,a,o){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var i=0;if(void 0!==a){if("object"!=typeof a||null===a)return t.reject(new TypeError("options argument must be an object but it is "+c.classString(a)));if("number"!=typeof a.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(a.concurrency)));i=a.concurrency}return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new l(e,n,i,o).promise()}var s=t._getDomain,c=e("./util"),d=c.tryCatch,f=c.errorObj,p=t._async;c.inherits(l,n),l.prototype._asyncInit=function(){this._init$(void 0,-2)},l.prototype._init=function(){},l.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),l=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=e,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=e,this._queue.push(n),!1;null!==l&&(l[n]=e);var s=this._promise,c=this._callback,p=s._boundValue();s._pushContext();var h=d(c).call(p,e,n,o),m=s._popContext();if(i.checkForgottenReturns(h,m,null!==l?"Promise.filter":"Promise.map",s),h===f)return this._reject(h.e),!0;var _=a(h,this._promise);if(_ instanceof t){_=_._target();var v=_._bitField;if(0===(50397184&v))return u>=1&&this._inFlight++,r[n]=_,_._proxy(this,(n+1)*-1),!1;if(0===(33554432&v))return 0!==(16777216&v)?(this._reject(_._reason()),!0):(this._cancel(),!0);h=_._value()}r[n]=h}var y=++this._totalResolved;return y>=o&&(null!==l?this._filter(r,l):this._resolve(r),!0)},l.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},l.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),a=0,o=0;o<n;++o)e[o]&&(r[a++]=t[o]);r.length=a,this._resolve(r)},l.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return u(this,e,t,null)},t.map=function(e,t,n,r){return u(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,a,o){var i=e("./util"),l=i.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+i.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var a=l(e).apply(this,arguments),i=r._popContext();return o.checkForgottenReturns(a,i,"Promise.method",r),r._resolveFromSyncValue(a),r}},t.attempt=t["try"]=function(e){if("function"!=typeof e)return a("expecting a function but got "+i.classString(e));var r=new t(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var s=arguments[1],c=arguments[2];u=i.isArray(s)?l(e).apply(c,s):l(e).call(c,s)}else u=l(e)();var d=r._popContext();return o.checkForgottenReturns(u,d,"Promise.try",r),r._resolveFromSyncValue(u),r},t.prototype._resolveFromSyncValue=function(e){e===i.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}function a(e){var t;if(r(e)){t=new s(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=c.keys(e),a=0;a<n.length;++a){var o=n[a];d.test(o)||(t[o]=e[o])}return t}return i.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=a(l(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var i=[].slice.call(arguments,1);e._fulfill(i)}else e._fulfill(r);e=null}}}var i=e("./util"),l=i.maybeWrapAsError,u=e("./errors"),s=u.OperationalError,c=e("./es5"),d=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var a=l(t).apply(n._boundValue(),[null].concat(e));a===u&&i.throwLater(a.e)}function r(e,t){var n=this,r=n._boundValue(),a=void 0===e?l(t).call(r,null):l(t).call(r,null,e);a===u&&i.throwLater(a.e)}function a(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var a=l(t).call(n._boundValue(),e);a===u&&i.throwLater(a.e)}var o=e("./util"),i=t._async,l=o.tryCatch,u=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,a,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,n,r){"use strict";n.exports=function(){function r(){}function a(e,t){if("function"!=typeof t)throw new g("expecting a function but got "+h.classString(t));if(e.constructor!==o)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function o(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==w&&(a(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function i(e){this.promise._resolveCallback(e)}function l(e){this.promise._rejectCallback(e,!1)}function u(e){var t=new o(w);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var s,c=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},d=function(){return new o.PromiseInspection(this._target())},f=function(e){return o.reject(new g(e))},p={},h=e("./util");s=h.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},h.notEnumerableProp(o,"_getDomain",s);var m=e("./es5"),_=e("./async"),v=new _;m.defineProperty(o,"_async",{value:v});var y=e("./errors"),g=o.TypeError=y.TypeError;o.RangeError=y.RangeError;var b=o.CancellationError=y.CancellationError;o.TimeoutError=y.TimeoutError,o.OperationalError=y.OperationalError,o.RejectionError=y.OperationalError,o.AggregateError=y.AggregateError;var w=function(){},E={},C={},k=e("./thenables")(o,w),N=e("./promise_array")(o,w,k,f,r),P=e("./context")(o),T=P.create,M=e("./debuggability")(o,P),O=(M.CapturedTrace,e("./finally")(o,k)),x=e("./catch_filter")(C),S=e("./nodeback"),j=h.errorObj,R=h.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),a=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!h.isObject(o))return f("expecting an object but got A catch statement predicate "+h.classString(o));r[a++]=o}return r.length=a,e=arguments[n],this.then(void 0,x(r,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){return this._then(d,d,void 0,this,void 0)},o.prototype.then=function(e,t){if(M.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+h.classString(e);arguments.length>1&&(n+=", "+h.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?f("expecting a function but got "+h.classString(e)):this.all()._then(e,void 0,void 0,E,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new N(this).promise()},o.prototype.error=function(e){return this.caught(h.originatesFromRejection,e)},o.getNewLibraryCopy=n.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(w);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=R(e)(S(t,n));return r===j&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new N(e).promise()},o.cast=function(e){var t=k(e);return t instanceof o||(t=new o(w),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(w);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new g("expecting a function but got "+h.classString(e));return v.setScheduler(e)},o.prototype._then=function(e,t,n,r,a){var i=void 0!==a,l=i?a:new o(w),u=this._target(),c=u._bitField;i||(l._propagateFrom(this,3),l._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,l));var d=s();if(0!==(50397184&c)){var f,p,m=u._settlePromiseCtx;0!==(33554432&c)?(p=u._rejectionHandler0,f=e):0!==(16777216&c)?(p=u._fulfillmentHandler0,f=t,u._unsetRejectionIsUnhandled()):(m=u._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),u._attachExtraTrace(p),f=t),v.invoke(m,u,{handler:null===d?f:"function"==typeof f&&h.domainBind(d,f),promise:l,receiver:r,value:p})}else u._addCallbacks(e,t,l,r,d);return l},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){v.hasCustomScheduler()||(this._bitField=134217728|this._bitField);
},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==p)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,a=e._receiverAt(0);void 0===a&&(a=p),this._addCallbacks(t,n,r,a,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),a=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=p),this._addCallbacks(n,r,a,o,null)},o.prototype._addCallbacks=function(e,t,n,r,a){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===a?e:h.domainBind(a,e)),"function"==typeof t&&(this._rejectionHandler0=null===a?t:h.domainBind(a,t));else{var i=4*o-4;this[i+2]=n,this[i+3]=r,"function"==typeof e&&(this[i+0]=null===a?e:h.domainBind(a,e)),"function"==typeof t&&(this[i+1]=null===a?t:h.domainBind(a,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(c(),!1);var n=k(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(c());var a=r._bitField;if(0===(50397184&a)){var i=this._length();i>0&&r._migrateCallback0(this);for(var l=1;l<i;++l)r._migrateCallbackAt(this,l);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&a))this._fulfill(r._value());else if(0!==(16777216&a))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(e,t,n){var r=h.ensureErrorObject(e),a=r===e;if(!a&&!n&&M.warnings()){var o="a promise was rejected with a non-error: "+h.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&a),this._reject(e)},o.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)},o.prototype._settlePromiseFromHandler=function(e,t,n,r){var a=r._bitField;if(0===(65536&a)){r._pushContext();var o;t===E?n&&"number"==typeof n.length?o=R(e).apply(this._boundValue(),n):(o=j,o.e=new g("cannot .spread() a non-array: "+h.classString(n))):o=R(e).call(t,n);var i=r._popContext();a=r._bitField,0===(65536&a)&&(o===C?r._reject(n):o===j?r._rejectCallback(o.e,!1):(M.checkForgottenReturns(o,i,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,a){var i=e instanceof o,l=this._bitField,u=0!==(134217728&l);0!==(65536&l)?(i&&e._invokeInternalOnCancel(),n instanceof O&&n.isFinallyHandler()?(n.cancelPromise=e,R(t).call(n,a)===j&&e._reject(j.e)):t===d?e._fulfill(d.call(n)):n instanceof r?n._promiseCancelled(e):i||e instanceof N?e._cancel():n.cancel()):"function"==typeof t?i?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,a,e)):t.call(n,a,e):n instanceof r?n._isResolved()||(0!==(33554432&l)?n._promiseFulfilled(a,e):n._promiseRejected(a,e)):i&&(u&&e._setAsyncGuaranteed(),0!==(33554432&l)?e._fulfill(a):e._reject(a))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,a=e.value;"function"==typeof t?n instanceof o?this._settlePromiseFromHandler(t,r,a,n):t.call(r,a,n):n instanceof o&&n._reject(a)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var r=this._promise0,a=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,a,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=c();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():v.settlePromises(this))}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?v.fatalError(e,h.isNode):void((65535&t)>0?v.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),a=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(a,r,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),a=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(a,r,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){M.deprecated("Promise.defer","new Promise");var e=new o(w);return{promise:e,resolve:i,reject:l}},h.notEnumerableProp(o,"_makeSelfResolutionError",c),e("./method")(o,w,k,f,M),e("./bind")(o,w,k,M),e("./cancel")(o,N,f,M),e("./direct_resolve")(o),e("./synchronous_inspection")(o),e("./join")(o,N,k,w,v,s),o.Promise=o,o.version="3.4.6",e("./map.js")(o,N,f,k,w,M),e("./call_get.js")(o),e("./using.js")(o,f,k,T,w,M),e("./timers.js")(o,w,M),e("./generators.js")(o,f,w,k,r,M),e("./nodeify.js")(o),e("./promisify.js")(o,w),e("./props.js")(o,N,k,f),e("./race.js")(o,w,k,f),e("./reduce.js")(o,N,f,k,w,M),e("./settle.js")(o,N,M),e("./some.js")(o,N,f),e("./filter.js")(o,w),e("./each.js")(o,w),e("./any.js")(o),h.toFastProperties(o),h.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),M.setBounds(_.firstLineError,h.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,a,o){function i(e){switch(e){case-2:return[];case-3:return{}}}function l(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=e("./util");u.isArray;return u.inherits(l,o),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function s(e,n){var o=r(this._values,this._promise);if(o instanceof t){o=o._target();var l=o._bitField;if(this._values=o,0===(50397184&l))return this._promise._setAsyncGuaranteed(),o._then(s,this._reject,void 0,this,n);if(0===(33554432&l))return 0!==(16777216&l)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var c=a("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(c,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(i(n))):void this._iterate(o)},l.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var a=this._promise,o=!1,i=null,l=0;l<n;++l){var u=r(e[l],a);u instanceof t?(u=u._target(),i=u._bitField):i=null,o?null!==i&&u.suppressUnhandledRejections():null!==i?0===(50397184&i)?(u._proxy(this,l),this._values[l]=u):o=0!==(33554432&i)?this._promiseFulfilled(u._value(),l):0!==(16777216&i)?this._promiseRejected(u._reason(),l):this._promiseCancelled(l):o=this._promiseFulfilled(u,l)}o||a._setAsyncGuaranteed()},l.prototype._isResolved=function(){return null===this._values},l.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},l.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},l.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},l.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(e){return e},l}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!E.test(e)}function a(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var r=p.getDataPropertyOrDefault(e,t+n,b);return!!r&&a(r)}function i(e,t,n){for(var r=0;r<e.length;r+=2){var a=e[r];if(n.test(a))for(var o=a.replace(n,""),i=0;i<e.length;i+=2)if(e[i]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function l(e,t,n,r){for(var l=p.inheritedDataKeys(e),u=[],s=0;s<l.length;++s){var c=l[s],d=e[c],f=r===C||C(c,d,e);"function"!=typeof d||a(d)||o(e,c,t)||!r(c,d,e,f)||u.push(c,d)}return i(u,t,n),u}function u(e,r,a,o,i,l){function u(){var a=r;r===f&&(a=this);var o=new t(n);o._captureStackTrace();var i="string"==typeof c&&this!==s?this[c]:e,u=h(o,l);try{i.apply(a,m(arguments,u))}catch(d){o._rejectCallback(_(d),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var s=function(){return this}(),c=e;return"string"==typeof c&&(e=o),p.notEnumerableProp(u,"__isPromisified__",!0),u}function s(e,t,n,r,a){for(var o=new RegExp(k(t)+"$"),i=l(e,t,o,n),u=0,s=i.length;u<s;u+=2){var c=i[u],d=i[u+1],h=c+t;if(r===N)e[h]=N(c,f,c,d,t,a);else{var m=r(d,function(){return N(c,f,c,d,t,a)});p.notEnumerableProp(m,"__isPromisified__",!0),e[h]=m}}return p.toFastProperties(e),e}function c(e,t,n){return N(e,t,void 0,e,null,n)}var d,f={},p=e("./util"),h=e("./nodeback"),m=p.withAppended,_=p.maybeWrapAsError,v=p.canEvaluate,y=e("./errors").TypeError,g="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],E=new RegExp("^(?:"+w.join("|")+")$"),C=function(e){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},k=function(e){return e.replace(/([$])/,"\\$")},N=v?d:u;t.promisify=function(e,t){if("function"!=typeof e)throw new y("expecting a function but got "+p.classString(e));if(a(e))return e;t=Object(t);var n=void 0===t.context?f:t.context,o=!!t.multiArgs,i=c(e,n,o);return p.copyDescriptors(e,i,r),i},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r=g);var a=t.filter;"function"!=typeof a&&(a=C);var o=t.promisifier;if("function"!=typeof o&&(o=N),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var i=p.inheritedDataKeys(e),l=0;l<i.length;++l){var u=e[i[l]];"constructor"!==i[l]&&p.isClass(u)&&(s(u.prototype,r,a,o,n),s(u,r,a,o,n))}return s(e,r,a,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,a){function o(e){var t,n=!1;if(void 0!==l&&e instanceof l)t=d(e),n=!0;else{var r=c.keys(e),a=r.length;t=new Array(2*a);for(var o=0;o<a;++o){var i=r[o];t[o]=e[i],t[o+a]=i}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function i(e){var n,i=r(e);return s(i)?(n=i instanceof t?i._then(t.props,void 0,void 0,void 0,void 0):new o(i).promise(),i instanceof t&&n._propagateFrom(i,2),n):a("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var l,u=e("./util"),s=u.isObject,c=e("./es5");"function"==typeof Map&&(l=Map);var d=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var a=new Array(2*r.size);return r.forEach(e,a),a}}(),f=function(e){for(var t=new l,n=e.length/2|0,r=0;r<n;++r){var a=e[n+r],o=e[r];t.set(a,o)}return t};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=f(this._values);else{r={};for(var a=this.length(),o=0,i=this.length();o<i;++o)r[this._values[o+a]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return i(this)},t.props=function(e){return i(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e,t,n,r,a){for(var o=0;o<a;++o)n[o+r]=e[o+t],e[o+t]=void 0}function a(e){this._capacity=e,this._length=0,this._front=0}a.prototype._willBeOverCapacity=function(e){return this._capacity<e},a.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},a.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&t-1^t)-t;this[r]=e,this._front=r,this._length=this.length()+1},a.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},a.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var a=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[a+0&o]=e,this[a+1&o]=t,this[a+2&o]=n,this._length=r},a.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},a.prototype.length=function(){return this._length},a.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},a.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,a=this._length,o=n+a&t-1;r(this,0,this,t,o)},t.exports=a},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,a){function o(e,o){var u=r(e);if(u instanceof t)return l(u);if(e=i.asArray(e),null===e)return a("expecting an array or an iterable object but got "+i.classString(e));var s=new t(n);void 0!==o&&s._propagateFrom(o,3);for(var c=s._fulfill,d=s._reject,f=0,p=e.length;f<p;++f){var h=e[f];(void 0!==h||f in e)&&t.cast(h)._then(c,d,void 0,s,null)}return s}var i=e("./util"),l=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,a,o,i){function l(e,n,r,a){this.constructor$(e);var i=f();this._fn=null===i?n:p.domainBind(i,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,a===o?this._eachValues=Array(this._length):0===a?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function s(e,t,n,a){if("function"!=typeof t)return r("expecting a function but got "+p.classString(t));var o=new l(e,t,n,a);return o.promise()}function c(e){this.accum=e,this.array._gotAccum(e);var n=a(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(e){var n=this.array,r=n._promise,a=h(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?a.call(r._boundValue(),e,this.index,this.length):a.call(r._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var l=r._popContext();return i.checkForgottenReturns(o,l,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var f=t._getDomain,p=e("./util"),h=p.tryCatch;p.inherits(l,n),l.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},l.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},l.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},l.prototype._iterate=function(e){this._values=e;var n,r,a=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<a;++r){var o={accum:null,value:e[r],index:r,length:a,array:this};n=n._then(c,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},t.prototype.reduce=function(e,t){return s(this,e,t,null)},t.reduce=function(e,t,n,r){return s(e,t,n,r)}}},{"./util":36}],29:[function(e,a,o){"use strict";var i,l=e("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},s=l.getNativePromise();if(l.isNode&&"undefined"==typeof MutationObserver){var c=n.setImmediate,d=t.nextTick;i=l.isRecentNode?function(e){c.call(n,e)}:function(e){d.call(t,e)}}else if("function"==typeof s&&"function"==typeof s.resolve){var f=s.resolve();i=function(e){f.then(e)}}else i="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof r?function(e){r(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:u:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),a=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});a.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}();a.exports=i},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){function a(e){this.constructor$(e)}var o=t.PromiseInspection,i=e("./util");i.inherits(a,n),a.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},a.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new a(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){function a(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new a(e),o=n.promise();return n.setHowMany(t),n.init(),o}var i=e("./util"),l=e("./errors").RangeError,u=e("./errors").AggregateError,s=i.isArray,c={};i.inherits(a,n),a.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},a.prototype.init=function(){this._initialized=!0,this._init()},a.prototype.setUnwrap=function(){this._unwrap=!0},a.prototype.howMany=function(){return this._howMany},a.prototype.setHowMany=function(e){this._howMany=e},a.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},a.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},a.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},a.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new u,t=this.length();t<this._values.length;++t)this._values[t]!==c&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},a.prototype._fulfilled=function(){return this._totalResolved},a.prototype._rejected=function(){return this._values.length-this.length()},a.prototype._addRejected=function(e){this._values.push(e)},a.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},a.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},a.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new l(t)},a.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=a}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},a=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},i=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},l=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return i.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return a.call(this._target())},e.prototype.isResolved=function(){return l.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(c(e)){if(e instanceof t)return e;var a=o(e);if(a===s){r&&r._pushContext();var u=t.reject(a.e);return r&&r._popContext(),u}if("function"==typeof a){if(i(e)){var u=new t(n);return e._then(u._fulfill,u._reject,void 0,u,null),u}return l(e,a,r)}}return e}function a(e){return e.then}function o(e){try{return a(e)}catch(t){return s.e=t,s}}function i(e){try{return d.call(e,"_promise0")}catch(t){return!1}}function l(e,r,a){function o(e){l&&(l._resolveCallback(e),l=null)}function i(e){l&&(l._rejectCallback(e,d,!0),l=null)}var l=new t(n),c=l;a&&a._pushContext(),l._captureStackTrace(),a&&a._popContext();var d=!0,f=u.tryCatch(r).call(e,o,i);return d=!1,l&&f===s&&(l._rejectCallback(f.e,!0,!0),l=null),c}var u=e("./util"),s=u.errorObj,c=u.isObject,d={}.hasOwnProperty;return r}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){function a(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function i(e){throw clearTimeout(this.handle),e}var l=e("./util"),u=t.TimeoutError;a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return c(+this).thenReturn(e)},c=t.delay=function(e,o){var i,l;return void 0!==o?(i=t.resolve(o)._then(s,null,null,e,void 0),r.cancellation()&&o instanceof t&&i._setOnCancel(o)):(i=new t(n),l=setTimeout(function(){i._fulfill()},+e),r.cancellation()&&i._setOnCancel(new a(l)),i._captureStackTrace()),i._setAsyncGuaranteed(),i};t.prototype.delay=function(e){return c(e,this)};var d=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new u("operation timed out"):new u(t),l.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,l,u=new a(setTimeout(function(){n.isPending()&&d(n,t,l)},e));return r.cancellation()?(l=this.then(),n=l._then(o,i,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,i,void 0,u,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,a,o,i){function l(e){setTimeout(function(){throw e},0)}function u(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function s(e,n){function a(){if(i>=s)return c._fulfill();var o=u(e[i++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(d){return l(d)}if(o instanceof t)return o._then(a,l,null,null,null)}a()}var i=0,s=e.length,c=new t(o);return a(),c}function c(e,t,n){this._data=e,this._promise=t,this._context=n}function d(e,t,n){this.constructor$(e,t,n)}function f(e){return c.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function p(e){this.length=e,this.promise=null,this[e-1]=null}var h=e("./util"),m=e("./errors").TypeError,_=e("./util").inherits,v=h.errorObj,y=h.tryCatch,g={};c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},c.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==g?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},c.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},_(d,c),d.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},p.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var a=arguments[e-1];if("function"!=typeof a)return n("expecting a function but got "+h.classString(a));var o,l=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,l=!1):(o=arguments,e--);for(var u=new p(e),d=0;d<e;++d){var m=o[d];if(c.isDisposer(m)){var _=m;m=m.promise(),m._setDisposable(_)}else{var g=r(m);g instanceof t&&(m=g._then(f,null,null,{resources:u,index:d},void 0))}u[d]=m}for(var b=new Array(u.length),d=0;d<b.length;++d)b[d]=t.resolve(u[d]).reflect();var w=t.all(b).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return v.e=n.error(),v;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}E._pushContext(),a=y(a);var r=l?a.apply(void 0,e):a(e),o=E._popContext();return i.checkForgottenReturns(r,o,"Promise.using",E),r}),E=w.lastly(function(){var e=new t.PromiseInspection(w);return s(u,e)});return u.promise=E,E._setOnCancel(u),E},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,a());throw new m}}},{"./errors":12,"./util":36}],36:[function(e,r,a){"use strict";function o(){try{var e=S;return S=null,e.apply(this,arguments)}catch(t){return x.e=t,x}}function i(e){return S=e,o}function l(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function u(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return l(e)?new Error(y(e)):e}function c(e,t){var n,r=e.length,a=new Array(r+1);for(n=0;n<r;++n)a[n]=e[n];return a[n]=t,a}function d(e,t,n){if(!M.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function f(e,t,n){if(l(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return M.defineProperty(e,t,r),e}function p(e){throw e}function h(e){try{if("function"==typeof e){var t=M.names(e.prototype),n=M.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),a=D.test(e+"")&&M.names(e).length>0;if(n||r||a)return!0}return!1}catch(o){return!1}}function m(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function _(e){return F.test(e)}function v(e,t,n){for(var r=new Array(e),a=0;a<e;++a)r[a]=t+a+n;return r}function y(e){try{return e+""}catch(t){return"[no string representation]"}}function g(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function b(e){try{f(e,"isOperational",!0)}catch(t){}}function w(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function E(e){return g(e)&&M.propertyIsWritable(e,"stack")}function C(e){return{}.toString.call(e)}function k(e,t,n){for(var r=M.names(e),a=0;a<r.length;++a){var o=r[a];if(n(o))try{M.defineProperty(t,o,M.getDescriptor(e,o))}catch(i){}}}function N(e,t){return H?{NODE_ENV:"production",BROWSER:!0,API_ROOT:"https://content.novayagazeta.ru"}[e]:t}function P(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}}function T(e,t){return e.bind(t)}var M=e("./es5"),O="undefined"==typeof navigator,x={e:{}},S,j="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof n?n:void 0!==this?this:null,R=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n]);
}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},A=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(M.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],a=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(i){return r}for(var l=0;l<o.length;++l){var u=o[l];if(!a[u]){a[u]=!0;var s=Object.getOwnPropertyDescriptor(e,u);null!=s&&null==s.get&&null==s.set&&r.push(u)}}e=M.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var a=[];e:for(var o in n)if(r.call(n,o))a.push(o);else{for(var i=0;i<e.length;++i)if(r.call(e[i],o))continue e;a.push(o)}return a}}(),D=/this\s*\.\s*\S+\s*=/,F=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(e){return E(e)?e:new Error(y(e))}:function(e){if(E(e))return e;try{throw new Error(y(e))}catch(t){return t}}}(),V=function(e){return M.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var L="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};V=function(e){return M.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?L(e):null}}var H="undefined"!=typeof t&&"[object process]"===C(t).toLowerCase(),B={isClass:h,isIdentifier:_,inheritedDataKeys:A,getDataPropertyOrDefault:d,thrower:p,isArray:M.isArray,asArray:V,notEnumerableProp:f,isPrimitive:l,isObject:u,isError:g,canEvaluate:O,errorObj:x,tryCatch:i,inherits:R,withAppended:c,maybeWrapAsError:s,toFastProperties:m,filledRange:v,toString:y,canAttachTrace:E,ensureErrorObject:I,originatesFromRejection:w,markAsOriginatingFromRejection:b,classString:C,copyDescriptors:k,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:H,env:N,global:j,getNativePromise:P,domainBind:T};B.isRecentNode=B.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),B.isNode&&B.toFastProperties(t);try{throw new Error}catch(z){B.lastLineError=z}r.exports=B},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(146),function(){return this}(),n(220).setImmediate)},,,,,,,function(e,t){e.exports={root:"_1Hhx-",socials:"_2HV7D",item:"_1XJK_",link:"_1VyYd",icon:"HPOuk",Facebook:"_2h8-h",Vkontakte:"_10tuR",Odnoklassniki:"b6VJu",Twitter:"_1QT2q",Google:"_2c_o_",wrapper:"_3HBoQ",comments:"_1nPE6",button:"_1JGAF",close:"_1w80c"}},function(e,t){e.exports={root:"_1MZ9D",container:"QhiTy",close:"oL2if",caption:"_2Hg63",title:"_1jJpZ",register:"KfoAV"}},function(e,t){e.exports={root:"_144Gp",button:"_3HnEJ",frame:"_24Oft"}},function(e,t){e.exports={root:"_3biZ4",rubric:"_2-kr7",soon:"_1TIkj",cover:"_4lYXV",wrapper:"_18vuu",container:"_2MAYH",info:"YjBfz",item:"_3rexZ",list:"_2hE6X",caption:"e2k_t",elements:"_3apco",film:"_2p22p",trailer:"_2gfiv"}},function(e,t){e.exports={root:"_1nqF8",rubric:"utB43",pageTitle:"_2nVoN",subtitle:"_1pg2_",wrapper:"_1pcY6",container:"_2fUtD",feature:"_2WvFJ",index:"_12BvG",overlay:"_1X6a8",genre:"_8a817",picture:"_3Fklu",title:"Ju1pA",lead:"_2MHYH",reference:"YaKHR"}},function(e,t){e.exports={root:"_3YmXR",wrapper:"zDdMX",lead:"_2ZAL9",title:"m_3QS"}},function(e,t){e.exports={root:"eTzfr",rubric:"_2l3LN",wrapper:"-Bk-2",container:"_3AiAY",figure:"iHwXo",img:"e9J-N",material:"_2jxOx"}},,,,,,function(e,t){e.exports={root:"_2zzyS",background:"_3UawY",container:"_3t7ci",caption:"Oc-XT",wrapper:"_1oA3u",genre:"_1lixP",title:"_1edSN",lead:"_3PMtL",rootWrapper:"sXTA9"}},function(e,t){e.exports={root:"_1kOfc",container:"_1aN3B",quatro:"_24RA9"}},function(e,t){e.exports={root:"_2bRsd",container:"_1KPr2",quatro:"_1AFst"}},,,function(e,t){function n(e){return u.test(e)}var r="\\ud800-\\udfff",a="\\u0300-\\u036f\\ufe20-\\ufe23",o="\\u20d0-\\u20f0",i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+r+a+o+i+"]");e.exports=n},,,function(e,t,n){(function(e){var r=n(12),a=n(283),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,l=i&&i.exports===o,u=l?r.Buffer:void 0,s=u?u.isBuffer:void 0,c=s||a;e.exports=c}).call(t,n(195)(e))},function(e,t,n){function r(e){if(l(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||o(e)))return!e.length;var t=a(e);if(t==d||t==f)return!e.size;if(_||s(e))return!c(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}var a=n(301),o=n(228),i=n(45),l=n(160),u=n(281),s=n(279),c=n(304),d="[object Map]",f="[object Set]",p=Object.prototype,h=p.hasOwnProperty,m=p.propertyIsEnumerable,_=!m.call({valueOf:1},"valueOf");e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function s(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(1),_=r(m),v=n(455),y=r(v),g=function(){},b=(d=c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:null,minHeight:-(1/0),maxHeight:1/0},n._onNextFrameActionId=null,n._rootDOMNode=null,n._onChange=n._onChange.bind(n),n._resizeComponent=n._resizeComponent.bind(n),n._onRootDOMNode=n._onRootDOMNode.bind(n),n}return l(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.valueLink,n=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,a(e,["valueLink","minRows","maxRows","onHeightChange","useCacheForDOMMeasurements"]));"object"===("undefined"==typeof t?"undefined":p(t))&&(n.value=t.value),n.style=f({},n.style,{height:this.state.height||0});var r=Math.max(n.style.maxHeight?n.style.maxHeight:1/0,this.state.maxHeight);return r<this.state.height&&(n.style.overflow="hidden"),_["default"].createElement("textarea",f({},n,{onChange:this._onChange,ref:this._onRootDOMNode}))}},{key:"componentDidMount",value:function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent)}},{key:"componentWillReceiveProps",value:function(){this._clearNextFrame(),this._onNextFrameActionId=u(this._resizeComponent)}},{key:"componentDidUpdate",value:function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)}},{key:"componentWillUnmount",value:function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)}},{key:"_clearNextFrame",value:function(){this._onNextFrameActionId&&s(this._onNextFrameActionId)}},{key:"_onRootDOMNode",value:function(e){this._rootDOMNode=e}},{key:"_onChange",value:function(e){this._resizeComponent();var t=this.props,n=t.valueLink,r=t.onChange;n?n.requestChange(e.target.value):r(e)}},{key:"_resizeComponent",value:function(){var e=this.props.useCacheForDOMMeasurements;this.setState((0,y["default"])(this._rootDOMNode,e,this.props.rows||this.props.minRows,this.props.maxRows))}},{key:"focus",value:function(){this._rootDOMNode.focus()}},{key:"blur",value:function(){this._rootDOMNode.blur()}},{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(_["default"].Component),c.propTypes={value:_["default"].PropTypes.string,onChange:_["default"].PropTypes.func,onHeightChange:_["default"].PropTypes.func,useCacheForDOMMeasurements:_["default"].PropTypes.bool,rows:_["default"].PropTypes.number,minRows:_["default"].PropTypes.number,maxRows:_["default"].PropTypes.number},c.defaultProps={onChange:g,onHeightChange:g,useCacheForDOMMeasurements:!1},d);t["default"]=b},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(55),l=r(i),u=n(1),s=r(u),c=n(10),d=r(c),f=function(e){var t=e.to,n=e.external,r=(0,l["default"])(e,["to","external"]);return n?s["default"].createElement("a",(0,o["default"])({href:t},r)):s["default"].createElement(d["default"],(0,o["default"])({to:t},r))};f.displayName="Base/Elements/Link",f.propTypes={external:u.PropTypes.bool,to:u.PropTypes.string.isRequired},t["default"]=f},,,,,,,,,,,,,,,,,function(e,t,n){function r(e,t,n){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(i);return o(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),a(e,t,{leading:r,maxWait:t,trailing:l})}var a=n(434),o=n(28),i="Expected a function";e.exports=r},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(7),v=r(_),y=n(378),g=r(y),b=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"componentDidMount",value:function(){if(window.twttr&&window.twttr.widgets&&window.twttr.widgets.load)try{window.twttr.widgets.load()}catch(e){}window.iframely&&window.iframely.load()}},{key:"render",value:function(){return m["default"].createElement("div",{className:(0,v["default"])(g["default"].root,"selection-range-available"),dangerouslySetInnerHTML:{__html:this.props.html}})}}]),t}(h.Component);t["default"]=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(27),y=a(v),g=n(1),b=a(g),w=n(7),E=a(w),C=n(78),k=a(C),N=n(54),P=r(N),T=n(379),M=a(T),O=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.state={isOpen:!1,path:""},o.handleClick=o.handleClick.bind(o),o.handleWindowClick=o.handleWindowClick.bind(o),o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e,t=this,n=this.state,r=n.isOpen,a=n.path,o=n.query,l=this.props,u=l.count,s=l.white,c=l.style,d=(0,E["default"])(M["default"].root,this.props.className,(e={},(0,i["default"])(e,M["default"].open,r),(0,i["default"])(e,M["default"].whiteTheme,s),e));return b["default"].createElement("button",{type:"button",className:d,onClick:this.handleClick,style:c},b["default"].createElement("span",{className:M["default"].value},u),b["default"].createElement("ul",{className:M["default"].list},P.post.socials.map(function(e,n){var r=e.icon,i=e.url,l=e.title;return b["default"].createElement("li",{className:M["default"].item,key:n},b["default"].createElement("a",{className:M["default"].link,onClick:(0,y["default"])(t.share,i+encodeURIComponent(a+o),l),href:i+encodeURIComponent(a+o)},b["default"].createElement(k["default"],{type:r,className:(0,E["default"])(M["default"].icon,M["default"][r])})))})))}},{key:"componentDidMount",value:function(){var e=this.props.query,t=e?"?"+e:"";this.setState({path:window.location.href,query:t}),window.addEventListener("click",this.handleWindowClick,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleWindowClick,!1)}},{key:"share",value:function(e,t,n){n.preventDefault(),window.open(e,t,"width=626,height=436")}},{key:"handleClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!this.state.isOpen})}},{key:"handleWindowClick",value:function(){this.state.isOpen&&this.setState({isOpen:!1})}}]),t}(g.Component);O.displayName="Base/Elements/ShareDropdown",t["default"]=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(380),w=r(b),E=function(e){function t(){return(0,s["default"])(this,t),(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).apply(this,arguments))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=(0,g["default"])(w["default"].root,(0,o["default"])({},n,Boolean(n)));return v["default"].createElement("aside",{className:r},t)}}]),t}(_.Component);t["default"]=E},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(10),v=r(_),y=n(394),g=r(y),b=[{title:"Залечь на дно в Брюгге",description:"2007; Великобритания, США; Драма, комедия, криминал",date:"01.05.2016",href:"/news"}],w=m["default"].createElement("svg",{viewBox:"0 0 143 143"},m["default"].createElement("path",{d:"M71 138c-36.7 0-66.5-29.8-66.5-66.5S34.3 5 71 5s66.5 29.8 66.5 66.5S107.7 138 71 138zM71 7C35.4 7 6.5 35.9 6.5 71.5S35.4 136 71 136s64.5-28.9 64.5-64.5S106.6 7 71 7z"}),m["default"].createElement("path",{d:"M107 103H35V66h72v37zm-70-2h68V68H37v33z"}),m["default"].createElement("path",{d:"M107 68H35V58h72v10zm-70-2h68v-6H37v6z"}),m["default"].createElement("path",{d:"M44.323 58.262l1.415 1.415-7.99 7.99-1.415-1.414zm10.001 0l1.414 1.414-7.99 7.99-1.415-1.414zm10 0l1.414 1.414-7.99 7.99-1.415-1.414zm10 0l1.414 1.414-7.99 7.99-1.415-1.414zm10 0l1.414 1.414-7.99 7.99-1.415-1.414zm10 0l1.414 1.414-7.99 7.99-1.415-1.414zm10 0l1.414 1.414-7.99 7.99-1.415-1.414zM35.3 60.2l-2.7-9.6L102 31.4l2.7 9.6-69.4 19.2zm-.2-8.2l1.6 5.8 65.5-18.2-1.6-5.8L35.1 52z"}),m["default"].createElement("path",{d:"M35.331 50.147l9.836 5.564-.985 1.74-9.836-5.563zm9.618-2.712l9.835 5.564-.985 1.74-9.835-5.563zm9.652-2.577l9.835 5.564-.985 1.74-9.835-5.564zm9.622-2.716l9.835 5.564-.985 1.741-9.835-5.564zm9.614-2.712l9.836 5.564-.985 1.74-9.835-5.563zm9.705-2.665l9.835 5.564-.984 1.741-9.836-5.564zm9.573-2.629l9.835 5.564-.985 1.74-9.835-5.564zM36 91h70v2H36zm3-17h32v2H39zm0 4h32v2H39zm0 4h19v2H39z"})),E=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){return m["default"].createElement("div",{className:g["default"].root},m["default"].createElement("h2",{className:g["default"].title},"Кинопоказ"),m["default"].createElement("figure",{className:g["default"].figure},w),m["default"].createElement("ul",{className:g["default"].list},b.map(function(e,t){var n=e.title,r=e.description,a=e.date,o=e.href;return m["default"].createElement("li",{key:t,className:g["default"].item},m["default"].createElement(v["default"],{to:o,className:g["default"].link},m["default"].createElement("time",{className:g["default"].time},a),m["default"].createElement("p",{className:g["default"].text},m["default"].createElement("strong",null,n),m["default"].createElement("small",null,r))))})))}}]),t}(h.Component);t["default"]=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(11),l=r(i),u=n(1),s=r(u),c=n(7),d=r(c),f=n(47),p=r(f),h=n(10),m=r(h),_=n(77),v=r(_),y=n(18),g=n(395),b=r(g),w=function(e){var t=e.data,n=e.noMargin;return t&&t.length?s["default"].createElement("div",{className:(0,d["default"])(b["default"].root,(0,o["default"])({},b["default"].noMargin,n))},s["default"].createElement("h2",{className:b["default"].title},"Лекторий"),t.map(function(e,t){var n,r=e.code,a=e.title,i=e.picture,u=e.type,c=e.lecture_rubric;return s["default"].createElement(m["default"],{to:"articles/"+r,className:b["default"].article,key:t},s["default"].createElement(p["default"],{type:u,className:b["default"].icon,color:(0,l["default"])(c,"color")}),i?s["default"].createElement("div",{className:b["default"].figureBlock},s["default"].createElement("div",{className:(0,d["default"])((n={},(0,o["default"])(n,b["default"].lecture,"lecture"===u),(0,o["default"])(n,b["default"].lecturePlaylist,"lecture_playlist"===u),n))}),s["default"].createElement(v["default"],{className:b["default"].gradient,color:(0,y.withoutHashtag)((0,l["default"])(c,"color"))}),s["default"].createElement("figure",{className:b["default"].figure,style:{backgroundImage:"url('"+i+"')"}})):null,s["default"].createElement("h2",{className:b["default"].text},a))})):null};w.propTypes={data:u.PropTypes.arrayOf(u.PropTypes.shape({lecture_rubric:u.PropTypes.object,code:u.PropTypes.string.isRequired,id:u.PropTypes.number.isRequired,title:u.PropTypes.string.isRequired,picture:u.PropTypes.string,type:u.PropTypes.string}).isRequired),noMargin:u.PropTypes.bool},t["default"]=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(1),l=r(i),u=n(10),s=r(u),c=n(7),d=r(c),f=n(396),p=r(f),h=function(e){var t=e.currentCode,n=e.data,r=e.noMargin;return n&&n.length?l["default"].createElement("div",{className:(0,d["default"])(p["default"].root,(0,o["default"])({},p["default"].noMargin,r))},l["default"].createElement("h2",{className:p["default"].title},"Картина дня"),n.map(function(e,n){var r=e.code,a=e.title,o=e.picture,i=e.type;return t!==r?l["default"].createElement(s["default"],{to:"/"+("news_entry"===i?"news":"articles")+"/"+r,className:p["default"].article,key:n},o?l["default"].createElement("figure",{className:p["default"].figure,style:{backgroundImage:"url('"+o+"')"}}):null,l["default"].createElement("h2",{className:p["default"].text},a)):null})):null};h.propTypes={currentCode:i.PropTypes.string,data:i.PropTypes.arrayOf(i.PropTypes.shape({code:i.PropTypes.string.isRequired,id:i.PropTypes.number.isRequired,title:i.PropTypes.string.isRequired,picture:i.PropTypes.string,type:i.PropTypes.string}).isRequired),noMargin:i.PropTypes.bool},t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(11),l=r(i),u=n(120),s=r(u),c=n(1),d=r(c),f=n(18),p=n(47),h=r(p),m=n(10),_=r(m),v=n(7),y=r(v),g=n(397),b=r(g),w=function(e){var t=e.data,n=e.noMargin;if(t&&t.length){var r=(0,s["default"])(t);return d["default"].createElement("div",{className:(0,y["default"])(b["default"].root,(0,o["default"])({},b["default"].noMargin,n))},d["default"].createElement("h2",{className:b["default"].title},"Мультимедиа"),d["default"].createElement(_["default"],{to:"/"+("news_entry"===r.type?"news":"articles")+"/"+r.code},d["default"].createElement("figure",{className:b["default"].figure},d["default"].createElement("div",{className:b["default"].image},d["default"].createElement("img",{src:r.picture})))),d["default"].createElement("ul",{className:b["default"].list},t.map(function(e,t){var n=e.image,r=e.title,a=e.type,o=e.code,i=e.lecture_rubric;return d["default"].createElement("li",{key:t,className:b["default"].item},d["default"].createElement(_["default"],{to:"/"+("news_entry"===a?"news":"articles")+"/"+o,className:b["default"].link},d["default"].createElement(h["default"],{type:a,className:b["default"].icon,color:(0,f.withoutHashtag)((0,l["default"])(i,"color"))}),n?d["default"].createElement("figure",{className:b["default"].picture,style:{backgroundImage:"url('"+n+"')"}}):null,d["default"].createElement("h2",{className:b["default"].text},r)))})))}};t["default"]=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(11),l=r(i),u=n(1),s=r(u),c=n(47),d=r(c),f=n(10),p=r(f),h=n(18),m=n(7),_=r(m),v=n(398),y=r(v),g=function(e){var t=e.data,n=e.noMargin;return t&&t.length?s["default"].createElement("div",{className:(0,_["default"])(y["default"].root,(0,o["default"])({},y["default"].noMargin,n))},s["default"].createElement("h2",{className:y["default"].title},"Топ 5"),s["default"].createElement("ul",{className:y["default"].list},(t||[]).slice(0,5).map(function(e,t){var n=e.title,r=e.type,a=e.code,o=e.lecture_rubric;return s["default"].createElement("li",{key:t,className:y["default"].item},s["default"].createElement("h3",{className:y["default"].index},t+1),s["default"].createElement(p["default"],{to:"/"+("news_entry"===r?"news":"articles")+"/"+a,className:y["default"].link},"lecture"===r||"test"===r||"photo"===r||"video"===r?s["default"].createElement(d["default"],{type:r,color:(0,h.withoutHashtag)((0,l["default"])(o,"color"))}):null,s["default"].createElement("span",null,n)))}))):null};g.propTypes={data:u.PropTypes.arrayOf(u.PropTypes.shape({code:u.PropTypes.string.isRequired,id:u.PropTypes.number.isRequired,title:u.PropTypes.string.isRequired,picture:u.PropTypes.string,type:u.PropTypes.string,lecture_rubric:u.PropTypes.object}).isRequired),noMargin:u.PropTypes.bool},t["default"]=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MainSet=t.Lectures=t.Multimedia=t.Cinema=t.Top=void 0;var a=n(325),o=r(a),i=n(321),l=r(i),u=n(324),s=r(u),c=n(322),d=r(c),f=n(323),p=r(f);t.Top=o["default"],t.Cinema=l["default"],t.Multimedia=s["default"],t.Lectures=d["default"],t.MainSet=p["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function o(e){return"number"==typeof e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),l=a(i),u=n(25),s=n(7),c=a(s),d=n(319),f=a(d),p=n(118),h=a(p),m=n(17),_=a(m),v=n(326),y=r(v),g=n(399),b=a(g),w=l["default"].createElement(h["default"],{type:"skyscraper",position:"articles"}),E=l["default"].createElement(h["default"],{type:"skyscraper",position:"news_main"}),C=l["default"].createElement(h["default"],{type:"skyscraper",position:"news_main"}),k=l["default"].createElement(h["default"],{type:"skyscraper",position:"news_main"}),N=l["default"].createElement(h["default"],{type:"skyscraper",position:"news_main"}),P=function(e){var t=e.code,n=e.hidden,r=e.isNews,a=e.className,i=e.widgets,u=e.index;return l["default"].createElement(f["default"],{className:(0,c["default"])(b["default"].root,a)},n||r?null:w,o(u)?(0,_["default"])(u%8,{0:E,1:l["default"].createElement(y.MainSet,{data:i.main_set,currentCode:t,noMargin:!0}),2:C,3:l["default"].createElement(y.Top,{data:i.top_views,noMargin:!0}),4:k,5:l["default"].createElement(y.Multimedia,{data:i.multimedia,noMargin:!0}),6:N,7:l["default"].createElement(y.Lectures,{data:i.lectures,noMargin:!0})},null):l["default"].createElement(y.MainSet,{data:i.main_set,currentCode:t}),n?null:l["default"].createElement(h["default"],{className:b["default"].margin,type:"skyscraper",position:"inner"})," ",n||r?null:l["default"].createElement(h["default"],{className:b["default"].margin,type:"skyscraper",position:"news_additional"})," ")};P.displayName="Modules/Material/Aside",P.defaultProps={hidden:!1,hideMainSet:!1,hideTop:!1,hideMultimedia:!1,hideLectures:!1};var T=function(e){var t=e.aside;return{widgets:t.widgets}};t["default"]=(0,u.connect)(T,null)(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(17),v=r(_),y=n(10),g=r(y),b=n(382),w=r(b),E=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props.materials;return m["default"].createElement("div",{className:w["default"].root},m["default"].createElement("h4",{className:w["default"].title},"Читайте по теме"),m["default"].createElement("ul",{className:w["default"].list},e.map(function(e,t){var n=e.title,r=(e.id,e.type),a=e.code;return m["default"].createElement("li",{key:t,className:w["default"].item},m["default"].createElement(g["default"],{children:n,className:w["default"].link,to:(0,v["default"])(r,{NewsEntry:"/news/"+a,news_entry:"/news/"+a},"/articles/"+a)}))})))}}]),t}(h.Component);t["default"]=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(119),w=r(b),E=n(19),C=r(E),k=n(10),N=r(k),P=n(452),T=r(P),M=n(383),O=r(M),x=v["default"].createElement(w["default"],null),S=v["default"].createElement("span",null),j=v["default"].createElement("span",null),R=function(e){function t(){var e;(0,s["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,p["default"])(this,(e=t.__proto__||(0,l["default"])(t)).call.apply(e,[this].concat(r)));return o.onHandlePageClick=function(e){var t=e.selected,n=o.props,r=n.items,a=void 0===r?[]:r,i=n.loadSchedule,l=n.totalLoaded,u=n.maxCount,s=o.state.limit;if(l===u)return o.setState({page:t,nextPage:t});var c=(t+1)*s;if(c>a.length){var d=c-a.length;return i(l,d),o.setState({nextPage:t})}o.setState({page:t,nextPage:t})},o.state={treshold:2,page:0,nextPage:0,"short":!0,limit:10,maxPages:Math.ceil(o.props.maxArchiveCount/10)},o.handleShowAll=o.handleShowAll.bind(o),o.handleShowShort=o.handleShowShort.bind(o),o}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"componentWillUpdate",value:function(e){e.isPending===this.props.isPending||e.isPending||this.setState({page:this.state.nextPage})}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.isPending,r=this.state,a=r["short"],i=r.limit,l=r.treshold,u=r.page,s=r.maxPages,c=t.length>l,d=a?t.slice(0,l):t.slice(u*i,i*(u+1));return v["default"].createElement("div",{className:O["default"].root},v["default"].createElement("h2",{className:O["default"].title},"Архив кинопоказов"),v["default"].createElement("ul",{className:O["default"].list},v["default"].createElement("li",{className:(0,g["default"])(O["default"].preloader,(0,o["default"])({},O["default"].show,n))},n&&x),d&&d.map(function(e,t){var n=e.cinema_content,r=e.title,a=e.code;return v["default"].createElement("li",{key:t,className:O["default"].item},v["default"].createElement("time",{className:O["default"].time},(0,C["default"])(n.dtime_from).format("DD.MM.YYYY")),v["default"].createElement("p",{className:O["default"].info},v["default"].createElement(N["default"],{to:"/articles/"+a},v["default"].createElement("strong",null,r)),v["default"].createElement("small",null,(0,C["default"])(n.release_date).format("YYYY")+"; "+n.country+"; "+n.genres)))})),v["default"].createElement("ul",null,a?null:v["default"].createElement("li",{key:"pagination"},v["default"].createElement(T["default"],{previousLabel:"назад",nextLabel:"далее",breakLabel:" ",breakClassName:O["default"]["break"],pageNum:s,marginPagesDisplayed:1,pageRangeDisplayed:4,clickCallback:this.onHandlePageClick,containerClassName:O["default"].pagination,previousClassName:O["default"].prev,nextClassName:O["default"].next,pageClassName:O["default"].paginateItem,disabledClassName:O["default"].disabled,activeClassName:O["default"].active})),c&&a?v["default"].createElement("li",{key:"more",className:O["default"].more,onClick:this.handleShowAll},"весь архив"):null,c&&!a?v["default"].createElement("li",{key:"more",className:O["default"].more,onClick:this.handleShowShort},"скрыть",v["default"].createElement("i",{className:O["default"].cross},S,j)):null))}},{key:"handleShowAll",value:function(){this.setState({"short":!1})}},{key:"handleShowShort",value:function(){this.setState({"short":!0})}}]),t}(_.Component);R.displayName="Modules/Material/_/Content/_/Cinema/_Archive",t["default"]=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(19),v=r(_),y=n(10),g=r(y),b=n(384),w=r(b),E=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props.items;return m["default"].createElement("div",{className:w["default"].root},m["default"].createElement("h2",{className:w["default"].title},"Расписание кинопоказов"),m["default"].createElement("ul",null,e&&e.map(function(e,t){var n=e.cinema_content,r=e.title,a=e.code;return m["default"].createElement("li",{key:t,className:w["default"].item},m["default"].createElement("time",{className:w["default"].time},(0,v["default"])(n.dtime_from).format("DD.MM.YYYY")),m["default"].createElement("p",{className:w["default"].info},m["default"].createElement(g["default"],{to:"/articles/"+a},m["default"].createElement("strong",null,r)),m["default"].createElement("small",null,(0,v["default"])(n.dtime_from).format("YYYY")+"; "+n.country+"; "+n.genres)))})))}}]),t}(h.Component);E.displayName="Modules/Material/_/Content/_/Cinema/_/Schedule",t["default"]=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Archive=t.Schedule=void 0;var a=n(330),o=r(a),i=n(329),l=r(i);t.Schedule=o["default"],t.Archive=l["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(11),_=a(m),v=n(1),y=a(v),g=n(19),b=a(g),w=n(331),E=r(w),C=function(e){function t(){var e;(0,u["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,f["default"])(this,(e=t.__proto__||(0,i["default"])(t)).call.apply(e,[this].concat(r)));return o.state={scheduleItems:[],archiveItems:[]},o.generateData=o.generateData.bind(o),o}return(0,h["default"])(t,e),(0,c["default"])(t,[{
key:"componentDidMount",value:function(){this.generateData(this.props)}},{key:"componentWillUpdate",value:function(e){(0,_["default"])(e,"schedule.items",[]).length!==(0,_["default"])(this.props,"schedule.items",[]).length&&this.generateData(e)}},{key:"generateData",value:function(e){var t=(0,_["default"])(e,"schedule.items",[]),n=(0,b["default"])().subtract(1,"days"),r=[],a=[];t.forEach(function(e){if((0,_["default"])(e,"cinema_content"))return(0,b["default"])((0,_["default"])(e,"cinema_content.dtime_from")).isAfter(n)?r.push(e):void a.push(e)}),this.setState({scheduleItems:r,archiveItems:a})}},{key:"render",value:function(){var e=this.state,t=e.scheduleItems,n=e.archiveItems,r=this.props,a=r.schedule,o=r.isPending,i=(0,_["default"])(a,"count",0);return i&&(i-=t.length),y["default"].createElement("div",null,t.length?y["default"].createElement(E.Schedule,{items:t}):null,n.length?y["default"].createElement(E.Archive,{items:n,maxCount:(0,_["default"])(a,"count",0),maxArchiveCount:i,loadSchedule:this.props.loadSchedule,isPending:o,totalLoaded:(0,_["default"])(a,"items",[]).length}):null)}}]),t}(v.Component);C.displayName="Modules/Material/Content/_/Cinema",t["default"]=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(400),l=r(i),u=function(e){var t=e.text;return o["default"].createElement("section",{className:l["default"].root},t)};t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(11),v=r(_),y=n(1),g=r(y),b=n(19),w=r(b),E=n(284),C=r(E),k=n(7),N=r(k),P=n(401),T=r(P),M=function(e){function t(e,n){(0,s["default"])(this,t);var r=(0,p["default"])(this,(t.__proto__||(0,l["default"])(t)).call(this,e,n)),a=!e.forbidCommenting&&Number(e.justAdded)!==e.comment.id&&Number(e.active)===e.comment.id;return r.$root=null,r.state={timeClickDiff:Number(new Date),isFormShown:a,parent:a?e.comment:e.parent||null,body:"",chars:0},r.getRootDOMNode=r.getRootDOMNode.bind(r),r.handlePlusClick=r.handleRate.bind(r,!1),r.handleMinusClick=r.handleRate.bind(r,!0),r.handleAnswerShow=r.handleAnswerShow.bind(r),r.handleAnswerHide=r.handleAnswerHide.bind(r),r.handleBodyChange=r.handleBodyChange.bind(r),r.handleSubmit=r.handleSubmit.bind(r),r.handleRemove=r.handleRemove.bind(r),r}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e,n=this,r=this.props,a=r.comment,i=r.profile,l=r.active,u=r.onScrollToComment,s=r.forbidCommenting,c=r.regular,d=this.state.parent,f=!!c.settings.comments_active&&this.state.isFormShown,p="moderator"===a.owner,h=(0,v["default"])(a,"user.id"),m=(0,v["default"])(a,"user.avatar"),_=!!c.settings.comments_active&&(!s&&i.user&&i.user.id!==h),y=!s&&!p&&i.user&&i.user.id!==h&&(0,v["default"])(a,"rater_ids",[]).indexOf(i.user.id)===-1,b=i.user&&i.user.id===h,E=(0,v["default"])(a,"companion");return g["default"].createElement("article",{className:T["default"].root,ref:this.getRootDOMNode},g["default"].createElement("div",{className:(0,N["default"])(T["default"].wrapper,(0,o["default"])({},T["default"].opacity,a.rating<=-3))},g["default"].createElement("header",{className:T["default"].header},g["default"].createElement("figure",{className:T["default"].avatar,style:m?{backgroundImage:"url('"+m+"')"}:{}}),g["default"].createElement("h2",{className:T["default"].title},g["default"].createElement("strong",null,g["default"].createElement("span",null,"user"===a.owner?a.user.name+" "+a.user.surname:"Модератор"),E&&E.user?g["default"].createElement("small",null,E.user.name+" "+E.user.surname):null),g["default"].createElement("time",null,(0,w["default"])(a.dtime).locale("ru").format("D MMMM YYYY, HH:mm"))),g["default"].createElement("figure",{className:T["default"].controls},g["default"].createElement("figure",{children:a.rating,className:(0,N["default"])(T["default"].rate,(e={},(0,o["default"])(e,T["default"].positive,a.rating>=0),(0,o["default"])(e,T["default"].negative,a.rating<0),e))}),y?g["default"].createElement("button",{type:"button",onClick:this.handleMinusClick,className:T["default"].minus}):null,y?g["default"].createElement("button",{type:"button",onClick:this.handlePlusClick,className:T["default"].plus}):null,_?g["default"].createElement("button",{type:"button",className:T["default"].answer,onClick:this.handleAnswerShow},f?"Закрыть":"Ответить"):null,b?g["default"].createElement("button",{type:"button",className:T["default"].remove,onClick:this.handleRemove},"Удалить"):null)),g["default"].createElement("p",{className:T["default"].text},a.body)),f&&d&&(0,v["default"])(i,"user")?g["default"].createElement("form",{onClick:this.stopPropagation,onSubmit:this.handleSubmit,className:T["default"].editing},g["default"].createElement("header",{className:T["default"].header},g["default"].createElement("figure",{className:T["default"].avatar,style:i.user.avatar?{backgroundImage:"url('"+i.user.avatar+"')"}:{}}),g["default"].createElement("h2",{className:T["default"].title},g["default"].createElement("strong",null,g["default"].createElement("span",null,i.user.name+" "+i.user.surname),g["default"].createElement("small",null,d.user.name+" "+d.user.surname)))),g["default"].createElement(C["default"],{name:"body",value:this.state.body,className:T["default"].textarea,onChange:this.handleBodyChange}),g["default"].createElement("span",{className:T["default"].counter},1e3-this.state.chars," символов"),a.errors?g["default"].createElement("div",{className:T["default"].errorContainer},a.errors.map(function(e,t){return g["default"].createElement("p",{key:t,className:T["default"].error},e)})):null,g["default"].createElement("button",{type:"submit",className:T["default"].submit},"Опубликовать")):null,a.children&&a.children.length?g["default"].createElement("div",{className:T["default"].answers},g["default"].createElement("div",{className:T["default"].container},a.children.map(function(e){return g["default"].createElement(t,{onScrollToComment:u,onAnswerAdd:n.props.onAnswerAdd,clearMeta:n.props.clearMeta,onRate:n.props.onRate,onRemove:n.props.onRemove,justAdded:n.props.justAdded,profile:i,comment:e,parent:a,active:l,key:e.id,forbidCommenting:s,regular:c})}))):null)}},{key:"getRootDOMNode",value:function(e){e&&(this.$root=e)}},{key:"componentDidMount",value:function(){var e=Number(this.props.active)===this.props.comment.id,t=Number(this.props.justAdded)===this.props.comment.id;if(this.$root&&(e||t)){var n=document.documentElement,r=(window.pageYOffset||n.scrollTop)-(n.clientTop||0);this.props.onScrollToComment(this.$root.getBoundingClientRect().top+r-120)}}},{key:"shouldComponentUpdate",value:function(e,t){return t.timeClickDiff===this.state.timeClickDiff}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.comment.send,n=e.comment.send;n&&t!==n&&this.setState({isFormShown:!1,parent:null,body:"",chars:0})}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"handleBodyChange",value:function(e){var t=e.target.value,n=t.length;n>1e3||(this.props.comment.errors&&this.props.clearMeta(this.props.comment.id),this.setState({body:t,chars:n}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.parent.id;this.props.onAnswerAdd(this.state.body,(0,v["default"])(this.props,"parent.id",t),t)}},{key:"handleRemove",value:function(){this.props.onRemove(this.props.comment.id)}},{key:"handleRate",value:function(e){var t=Number(new Date),n=t-this.state.timeClickDiff;this.setState({timeClickDiff:t}),!this.props.isPending&&n>1e3&&this.props.onRate(this.props.comment.id,e)}},{key:"handleAnswerHide",value:function(){this.setState({isFormShown:!1,parent:null,body:"",chars:0})}},{key:"handleAnswerShow",value:function(e){return e.stopPropagation(),this.state.isFormShown?this.handleAnswerHide():void this.setState({isFormShown:!0,parent:this.props.comment})}}]),t}(y.Component);M.displayName="Modules/Material/Content/_/Comments/_/Comment",t["default"]=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(284),v=r(_),y=n(402),g=r(y),b=function(e){function t(){var e;(0,l["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=(0,d["default"])(this,(e=t.__proto__||(0,o["default"])(t)).call.apply(e,[this].concat(r)));return i.state={value:"",chars:0},i.handleSubmit=i.handleSubmit.bind(i),i.handleChange=i.handleChange.bind(i),i}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.send,n=e.send;n&&t!==n&&this.setState({value:"",chars:0})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.errors;return m["default"].createElement("form",{onSubmit:this.handleSubmit,className:g["default"].root,action:"/comments",method:"POST"},m["default"].createElement("figure",{className:g["default"].person},m["default"].createElement("figure",{className:g["default"].avatar,style:t.avatar?{backgroundImage:"url('"+t.avatar+"')"}:{}}),m["default"].createElement("h2",{className:g["default"].title},t.name+" "+t.surname)),m["default"].createElement(v["default"],{name:"comment",value:this.state.value,className:g["default"].textarea,onChange:this.handleChange,placeholder:"Оставьте комментарий"}),m["default"].createElement("span",{className:g["default"].counter},1e3-this.state.chars," символов"),n?m["default"].createElement("div",{className:g["default"].errorContainer},n.map(function(e,t){return m["default"].createElement("p",{key:t,className:g["default"].error},e)})):null,m["default"].createElement("button",{className:g["default"].button,type:"submit"},"Опубликовать"))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.value)}},{key:"handleChange",value:function(e){var t=e.target.value,n=t.length;n>1e3||(this.props.errors&&this.props.clearMeta(),this.setState({value:t,chars:n,typing:!0}))}}]),t}(h.Component);b.displayName="Modules/Material/Content/_/Comments/_/Form",t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(95),s=r(u),c=n(3),d=r(c),f=n(4),p=r(f),h=n(6),m=r(h),_=n(5),v=r(_),y=n(1),g=r(y),b=n(7),w=r(b),E=n(43),C=n(385),k=r(C),N=g["default"].createElement("svg",{viewBox:"0 0 20 20"},g["default"].createElement("path",{d:"M4 10l8.7-8.7 1.4 1.4L6.8 10l7.3 7.3-1.4 1.4z"})),P=g["default"].createElement("span",null,"Назад"),T=g["default"].createElement("span",null,"далее"),M=g["default"].createElement("svg",{viewBox:"0 0 20 20"},g["default"].createElement("path",{d:"M4 10l8.7-8.7 1.4 1.4L6.8 10l7.3 7.3-1.4 1.4z"})),O=function(e){function t(){var e;(0,d["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,m["default"])(this,(e=t.__proto__||(0,l["default"])(t)).call.apply(e,[this].concat((0,s["default"])(r))));return o.state={max:7},o.handleResize=o.handleResize.bind(o),o.handlePrevClick=o.handlePrevClick.bind(o),o.handleNextClick=o.handleNextClick.bind(o),o}return(0,v["default"])(t,e),(0,p["default"])(t,[{key:"render",value:function(){var e=this,t=this.state.max,n=this.props,r=n.count,a=n.limit,i=n.offset,l=Math.ceil(r/a),u=Math.floor(i/a),s=(0,E.paging)(u,l,t);return s.length?g["default"].createElement("div",{className:k["default"].root},g["default"].createElement("button",{onClick:this.handlePrevClick,type:"button",className:(0,w["default"])(k["default"].prev,(0,o["default"])({},k["default"].disabled,0===i))},N,P),g["default"].createElement("ul",{className:k["default"].list},s.map(function(t,n){return g["default"].createElement("li",{key:n,className:(0,w["default"])(k["default"].page,(0,o["default"])({},k["default"].active,u===t))},"..."===t?t:g["default"].createElement("button",{type:"button",children:t+1,onClick:function(){return e.props.onChange(a,t*a)},className:k["default"].link}))})),g["default"].createElement("button",{onClick:this.handleNextClick,type:"button",className:(0,w["default"])(k["default"].next,(0,o["default"])({},k["default"].disabled,i>=r-a))},T,M)):null}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize,!1),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize,!1)}},{key:"handleResize",value:function(){this.setState({max:window.innerWidth<=720?5:7})}},{key:"handleNextClick",value:function(){this.props.onChange(this.props.limit,Math.min(this.props.count-this.props.limit,this.props.offset+this.props.limit))}},{key:"handlePrevClick",value:function(){this.props.onChange(this.props.limit,Math.max(this.props.offset-this.props.limit,0))}}]),t}(y.Component);O.displayName="Screens/Tag/_/Paging",t["default"]=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(320),v=r(_),y=n(403),g=r(y),b=function(e){function t(){var e;(0,l["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=(0,d["default"])(this,(e=t.__proto__||(0,o["default"])(t)).call.apply(e,[this].concat(r)));return i.state={popup:null},i.handleLoginClick=i.handleClick.bind(i,"login"),i.handleSignClick=i.handleClick.bind(i,"sign"),i.handleClose=i.handleClick.bind(i,null),i}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.state.popup;return m["default"].createElement("div",{className:g["default"].root},m["default"].createElement("p",{className:g["default"].text},"Оставлять комментарии могут только зарегистрированные пользователи"),m["default"].createElement("div",{className:g["default"].buttons},m["default"].createElement("button",{type:"button",className:g["default"].button,onClick:this.handleLoginClick},"Войти"),m["default"].createElement("button",{type:"button",className:g["default"].button,onClick:this.handleSignClick},"Зарегистрироваться")),e?m["default"].createElement(v["default"],{type:e,onClose:this.handleClose}):null)}},{key:"handleClick",value:function(e){this.setState({popup:e})}}]),t}(h.Component);b.displayName="Modules/Material/Content/Comments/Unauthorized",t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Ad=t.Unauthorized=t.Comment=t.Paging=t.Form=void 0;var a=n(335),o=r(a),i=n(336),l=r(i),u=n(334),s=r(u),c=n(337),d=r(c),f=n(333),p=r(f);t.Form=o["default"],t.Paging=l["default"],t.Comment=s["default"],t.Unauthorized=d["default"],t.Ad=p["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(1),b=a(g),w=n(25),E=n(48),C=n(132),k=r(C),N=n(125),P=r(N),T=n(338),M=r(T),O=n(404),x=a(O),S=b["default"].createElement(M.Unauthorized,null),j=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.$root=null,o.handleRate=o.handleRate.bind(o),o.getRootDOMNode=o.getRootDOMNode.bind(o),o.handleCommentAdd=o.handleCommentAdd.bind(o),o.onHandleClearMeta=o.onHandleClearMeta.bind(o),o.handlePagingChange=o.handlePagingChange.bind(o),o.handleCommentRemove=o.handleCommentRemove.bind(o),o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.profile,r=t.active,a=t.comments,o=t.count,l=t.limit,u=t.offset,s=t.articles,c=t.justAdded,d=t.forbidCommenting,f=t.regular,p=t.errors,h=t.send;return b["default"].createElement("div",{className:x["default"].root,ref:this.getRootDOMNode},f.settings.comments_active?d?null:n.user?b["default"].createElement(M.Form,(0,i["default"])({onSubmit:this.handleCommentAdd},n,{errors:p,send:h,clearMeta:this.onHandleClearMeta})):S:b["default"].createElement(M.Ad,{text:f.settings.comments_text}),(0,y["default"])(a,"length")?a.map(function(t){return b["default"].createElement(M.Comment,{onScrollToComment:e.props.onScrollToComment,onRemove:e.handleCommentRemove,onAnswerAdd:e.handleCommentAdd,clearMeta:e.onHandleClearMeta,onRate:e.handleRate,comment:t,profile:n,justAdded:c,key:t.id,active:r,isPending:(0,y["default"])(s,"isPending"),forbidCommenting:d,regular:f})}):null,o>10?b["default"].createElement(M.Paging,{count:o,limit:l,offset:u,onChange:this.handlePagingChange}):null)}},{key:"getRootDOMNode",value:function(e){e&&(this.$root=e)}},{key:"handleCommentRemove",value:function(e){this.props.onCommentRemove(this.props.id,this.props.code,e)}},{key:"handleCommentAdd",value:function(e,t,n){this.props.addComment(this.props.id,this.props.code,e,t,n)}},{key:"onHandleClearMeta",value:function(e){this.props.clearMeta(this.props.code,e)}},{key:"handleRate",value:function(e,t){this.props.rate(e,t,this.props.code)}},{key:"handlePagingChange",value:function(e,t){var n=document.documentElement,r=(window.pageYOffset||n.scrollTop)-(n.clientTop||0);(0,E.scrollTo)(this.$root.getBoundingClientRect().top+r-80),this.props.load(this.props.id,this.props.code,e,t)}}]),t}(g.Component);j.displayName="Modules/Material/Content/_/Comments";var R=function(e){var t=e.profile,n=e.articles,r=e.regular;return{profile:t,articles:n,regular:r}},A=function(e,t){var n=t.pageType;return{load:function(){var t,r;return e("news"===n?(t=P.actions.comments).load.apply(t,arguments):(r=k.actions.comments).load.apply(r,arguments))},addComment:function(){var t,r;return e("news"===n?(t=P.actions.comments).add.apply(t,arguments):(r=k.actions.comments).add.apply(r,arguments))},onCommentRemove:function(){var t,r;return e("news"===n?(t=P.actions.comments).remove.apply(t,arguments):(r=k.actions.comments).remove.apply(r,arguments))},rate:function(){var t,r;return e("news"===n?(t=P.actions.comments).rate.apply(t,arguments):(r=k.actions.comments).rate.apply(r,arguments))},clearMeta:function(){var t,r;return e("news"===n?(t=P.actions.comments).clearMeta.apply(t,arguments):(r=k.actions.comments).clearMeta.apply(r,arguments))}}};t["default"]=(0,w.connect)(R,A)(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(10),l=r(i),u=n(386),s=r(u),c=function(e){var t=e.tags;return o["default"].createElement("div",{className:s["default"].root},o["default"].createElement("h5",{className:s["default"].title},"Теги: "),t.map(function(e,t){var n=e.title,r=e.code;return o["default"].createElement("span",{key:t,className:s["default"].item},0===t?null:", ",o["default"].createElement(l["default"],{to:"/tags/"+r,className:s["default"].tag},n))}))};t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(11),l=r(i),u=n(1),s=r(u),c=n(19),d=r(c),f=n(7),p=r(f),h=n(405),m=r(h),_=function(e){var t=e.onButtonClick,n=e.comments,r=e.comments_count;return n?s["default"].createElement("div",{className:m["default"].root},s["default"].createElement("h2",{className:m["default"].title},"Популярные комментарии"),s["default"].createElement("div",{className:m["default"].list},n.map(function(e){var t;return s["default"].createElement("article",{key:e.id,className:m["default"].comment},s["default"].createElement("header",{className:m["default"].header},s["default"].createElement("figure",{className:m["default"].avatar,style:(0,l["default"])(e,"user.avatar")?{backgroundImage:"url('"+(0,l["default"])(e,"user.avatar")+"')"}:{}}),s["default"].createElement("h2",{className:m["default"].info},s["default"].createElement("strong",null,"user"===e.owner?e.user.name+" "+e.user.surname:"Модератор"),s["default"].createElement("time",null,(0,d["default"])(e.dtime).locale("ru").format("D MMMM YYYY, HH:mm"))),s["default"].createElement("figure",{className:m["default"].controls},s["default"].createElement("figure",{children:e.rating,className:(0,p["default"])(m["default"].rate,(t={},(0,o["default"])(t,m["default"].positive,e.rating>=0),(0,o["default"])(t,m["default"].negative,e.rating<0),t))}))),s["default"].createElement("p",{className:m["default"].text},e.body))})),r>3?s["default"].createElement("button",{type:"button",className:m["default"].button,onClick:t},"Читать все"):null):null};_.displayName="Modules/Material/Content/TopComments",_.propTypes={comments_count:u.PropTypes.number,onButtonClick:u.PropTypes.func.isRequired,comments:u.PropTypes.arrayOf(u.PropTypes.shape({id:u.PropTypes.number.isRequired,dtime:u.PropTypes.string.isRequired,rating:u.PropTypes.number.isRequired,body:u.PropTypes.string.isRequired}))},t["default"]=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TopComments=t.Comments=t.Cinema=t.Footer=t.Tags=t.Also=void 0;var a=n(328),o=r(a),i=n(340),l=r(i),u=n(234),s=r(u),c=n(332),d=r(c),f=n(339),p=r(f),h=n(341),m=r(h);t.Also=o["default"],t.Tags=l["default"],t.Footer=s["default"],t.Cinema=d["default"],t.Comments=p["default"],t.TopComments=m["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(141),i=a(o),l=n(9),u=a(l),s=n(8),c=a(s),d=n(2),f=a(d),p=n(3),h=a(p),m=n(4),_=a(m),v=n(6),y=a(v),g=n(5),b=a(g),w=n(11),E=a(w),C=n(1),k=a(C),N=n(7),P=a(N),T=n(317),M=a(T),O=n(118),x=a(O),S=n(342),j=r(S),R=n(406),A=a(R),D=k["default"].createElement(x["default"],{type:"mobile",position:"inner"}),F=function(e){function t(e,n){(0,h["default"])(this,t);var r=(0,y["default"])(this,(t.__proto__||(0,f["default"])(t)).call(this,e,n));return r.state={commentsShown:Boolean((0,E["default"])(e,"location.query.comment_id")||(0,E["default"])(e,"commentTriger")),isScrolledToComment:!1},r.handleCommentsTrigger=r.handleCommentsTrigger.bind(r),r.handleScrollToComment=r.handleScrollToComment.bind(r),r}return(0,b["default"])(t,e),(0,_["default"])(t,[{key:"componentWillUpdate",value:function(e,t){e.commentTrigger!==this.props.commentTrigger&&e.commentTrigger&&this.setState({commentsShown:!0}),this.props.dropCommentTrigger&&t.commentsShown!==this.state.commentsShown&&!t.commentsShown&&this.props.dropCommentTrigger()}},{key:"render",value:function(){var e=this.state.commentsShown,t=this.props,n=t.code,r=t.pageType,a=t.disable_comments,o=t.comments_count,i=t.body,l=t.lead,s=t.children,d=t.tags,f=t.related_items,p=t.className,h=t.offset;return k["default"].createElement("div",{"data-code":"/"+("news"===r?"news":"articles")+"/"+n,className:(0,P["default"])(A["default"].root,p,(0,c["default"])({},A["default"].offset,h))},l?k["default"].createElement("p",{className:A["default"].description},l):null,i?k["default"].createElement(M["default"],{html:i}):s||null,d&&d.length?k["default"].createElement(j.Tags,{tags:d}):null,"news"===r?null:k["default"].createElement("div",{className:A["default"].banners},k["default"].createElement(x["default"],{className:A["default"].banner+" "+A["default"].banner_big,type:"skyscraper",position:"news_bottom"}),k["default"].createElement(x["default"],{className:A["default"].banner+" "+A["default"].banner_small,type:"skyscraper",position:"news_bottom_3"}),k["default"].createElement(x["default"],{className:A["default"].banner,type:"skyscraper",position:"news_bottom_2"})),this.props.cinema&&k["default"].createElement(j.Cinema,(0,u["default"])({loadSchedule:this.props.loadSchedule},this.props.schedule)),this.props.hideShares?null:k["default"].createElement(j.Footer,(0,u["default"])({},this.props,{commentsShown:e,forbidCommenting:a,commentsCount:o,onButtonClick:this.handleCommentsTrigger,onAppearInViewport:this.props.onCommentsAppearInViewport})),D,k["default"].createElement("div",{className:"ignore-typo comments_block"+(this.props.pageType?this.props.id:"")},e?k["default"].createElement(j.Comments,(0,u["default"])({},this.props.comments,{id:this.props.id,code:this.props.code,pageType:this.props.pageType,onScrollToComment:this.handleScrollToComment,justAdded:this.props.justAdded,forbidCommenting:a,active:(0,E["default"])(this.props,"location.query.comment_id")})):0!==(0,E["default"])(this.props,"comments.top_comments.length")?k["default"].createElement(j.TopComments,{onButtonClick:this.handleCommentsTrigger,comments:(0,E["default"])(this.props,"comments.top_comments"),comments_count:(0,E["default"])(this.props,"comments.count")}):null),f&&f.length?k["default"].createElement(j.Also,{materials:f}):null)}},{key:"componentDidMount",value:function(){var e=(0,E["default"])(this.props,"location.query.comment_id");e&&this.props.onCommentsAppearInViewport(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.justAdded!==this.props.justAdded){var n=function(){var n=e.justAdded;return"number"!=typeof n?{v:void 0}:void t.setState({isScrolledToComment:!1},function(){t.props.onCommentsAppearInViewport(null,n)})}();if("object"===("undefined"==typeof n?"undefined":(0,i["default"])(n)))return n.v}}},{key:"handleScrollToComment",value:function(e){this.state.isScrolledToComment||this.setState({isScrolledToComment:!0},function(){window.scrollTo(0,e)})}},{key:"handleCommentsTrigger",value:function(){this.setState({commentsShown:!this.state.commentsShown})}}]),t}(C.Component);t["default"]=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(1),l=r(i),u=n(10),s=r(u),c=n(45),d=r(c),f=n(282),p=r(f),h=n(7),m=r(h),_=n(387),v=r(_),y=function(e){var t,n=e.className,r=e.authors,a=e.subgenre;if(!(0,d["default"])(r)||(0,p["default"])(r))return l["default"].createElement("h4",{className:(0,m["default"])(v["default"].root,v["default"].empty,(0,o["default"])({},n,Boolean(n)))});var i=r.length;return l["default"].createElement("h4",{className:(0,m["default"])(v["default"].root,(t={},(0,o["default"])(t,n,Boolean(n)),(0,o["default"])(t,v["default"].pictured,1===i&&r[0].avatar&&"column"===a),t))},1===i&&r[0].avatar&&"column"===a?l["default"].createElement("figure",{className:v["default"].figure},l["default"].createElement("img",{src:r[0].avatar,className:v["default"].photo})):null,1===i&&l["default"].createElement("div",null,"hidden"===r[0].status?l["default"].createElement("span",{className:v["default"].name},r[0].name+" "+r[0].surname):l["default"].createElement("span",{className:v["default"].name},l["default"].createElement(s["default"],{to:"/authors/"+r[0].code},r[0].name+" "+r[0].surname)),r[0].position?l["default"].createElement("small",{className:v["default"].rank},r[0].position):null),i>3&&l["default"].createElement("span",{className:v["default"].name},"«Новая газета»"),i>1&&i<4&&l["default"].createElement("div",null,r.map(function(e,t){var n=e.code,r=e.name,a=e.surname,o=e.status;return"hidden"===o?l["default"].createElement("span",{className:v["default"].name,key:t},r+" "+a):l["default"].createElement("span",{key:t,className:v["default"].name},l["default"].createElement(s["default"],{to:"/authors/"+n},r+" "+a))}),l["default"].createElement("small",{className:v["default"].rank},"«Новая газета»")))};t["default"]=y},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(1),y=a(v),g=n(7),b=a(g),w=n(19),E=a(w),C=n(318),k=a(C),N=n(10),P=a(N),T=n(161),M=n(13),O=r(M),x=n(344),S=a(x),j=n(388),R=a(j),A=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.handleButtonClick=o.handleButtonClick.bind(o),o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.dtime,r=e.real_views_count,a=e.vote_count,o=e.comments_count,l=e.disable_comments,u=e.photo,s=e.type,c=e.rubric,d=e.authors,f=e.shares,p=e.subgenre,h=e.className,m=(0,b["default"])(R["default"].root,h,(0,i["default"])({},R["default"].phototype,"photo"===s));return y["default"].createElement("header",{className:m},t?y["default"].createElement("h1",{className:R["default"].title},t):null,y["default"].createElement("div",{className:R["default"].footer},y["default"].createElement("div",{className:R["default"].info},c?y["default"].createElement(P["default"],{to:"/"+c.code,className:R["default"].rubric},c.title):null,"quiz"===s?y["default"].createElement(P["default"],{to:"/quizzes",className:(0,b["default"])(R["default"].rubric,R["default"].quiz)},"ОПРОС"):null,n?y["default"].createElement("time",{className:R["default"].datetime,dateTime:n},(0,E["default"])(n).locale("ru").format("HH:mm")+" "+(0,E["default"])(n).locale("ru").format("DD MMMM YYYY")):null,r?y["default"].createElement(O.Views,{views:r,className:R["default"].views}):null),"number"==typeof a?y["default"].createElement("div",{className:(0,b["default"])(R["default"].info,R["default"].voted_info)},y["default"].createElement("div",{className:R["default"].vote_count},a),y["default"].createElement("div",{className:(0,b["default"])(R["default"].datetime,R["default"].voted)},"Проголосовало")):null,y["default"].createElement(S["default"],{subgenre:p,className:R["default"].author,photo:u,authors:d}),y["default"].createElement("div",{className:(0,b["default"])(R["default"].stats)},r?y["default"].createElement(O.Views,{views:r,className:R["default"].views}):null,y["default"].createElement(k["default"],{count:f,className:R["default"].share_dropdown}),y["default"].createElement(O.Comments,{comments:o,className:R["default"].comments,onHandleButtonClick:this.handleButtonClick})),!o&&l?null:y["default"].createElement("div",{onClick:this.handleButtonClick,className:(0,b["default"])(R["default"].wrapper)},y["default"].createElement("button",{type:"button",className:(0,b["default"])(R["default"].button)},y["default"].createElement("span",null,l?"К комментариям":"Обсудить")))))}},{key:"handleButtonClick",value:function(){this.props.handleButtonClick()}},{key:"shouldComponentUpdate",value:function(e){return T.shouldComponentUpdate.call(this,e)}}]),t}(v.Component);A.displayName="Modules/Material/Header",t["default"]=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(14),l=r(i),u=n(10),s=r(u),c=n(389),d=r(c),f=function(e){var t=e.code,n=e.title,r=e.picture;return o["default"].createElement("div",{className:d["default"].root},o["default"].createElement(l["default"],{className:d["default"].container},o["default"].createElement("section",{className:d["default"].info},o["default"].createElement("figure",{className:d["default"].imageContainer},o["default"].createElement("div",{className:d["default"].picture,style:r?{backgroundImage:"url("+r+")"}:{}})),o["default"].createElement("span",{className:d["default"].caption},"Этот материал вышел в "+n)),o["default"].createElement(s["default"],{to:"/issues/"+t,
className:d["default"].buttonMobile},"Читать"),o["default"].createElement(s["default"],{to:"/issues/"+t,className:d["default"].button},"Читать номер")))};t["default"]=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(1),_=a(m),v=n(13),y=r(v),g=n(17),b=a(g),w=n(57),E=a(w),C=n(14),k=a(C),N=n(10),P=a(N),T=n(407),M=a(T),O=function(e){function t(){return(0,u["default"])(this,t),(0,f["default"])(this,(t.__proto__||(0,i["default"])(t)).apply(this,arguments))}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this.props.read_also_items;return e&&e.length?_["default"].createElement(k["default"],{className:M["default"].root,block:!0},_["default"].createElement("h2",{className:M["default"].header},"Читайте также"),_["default"].createElement("div",{className:M["default"].container},e.map(function(e,t){var n=e.picture,r=e.title,a=e.code,o=e.subgenre,i=e.type,l=_["default"].createElement("img",{src:n});return _["default"].createElement("article",{key:t,className:M["default"].material},_["default"].createElement(P["default"],{to:"/articles/"+a,className:M["default"].link},n?(0,b["default"])(o,{column:function(){return _["default"].createElement("figure",{className:M["default"].figure},_["default"].createElement("figure",{className:M["default"].photo},l))}},function(){return _["default"].createElement("figure",{className:M["default"].figure},_["default"].createElement(E["default"],{className:M["default"].image,src:n}))}):_["default"].createElement("figure",{className:M["default"].figure},_["default"].createElement(E["default"],{src:n,className:M["default"].image})),_["default"].createElement("h4",{className:M["default"].title},"video"===i||"photo"===i?_["default"].createElement(y.Icon,{type:i,className:M["default"].icon}):null,r)))}))):null}}]),t}(m.Component);O.displayName="Modules/Material/Related",t["default"]=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(95),l=r(i),u=n(2),s=r(u),c=n(3),d=r(c),f=n(4),p=r(f),h=n(6),m=r(h),_=n(5),v=r(_),y=n(27),g=r(y),b=n(1),w=r(b),E=n(14),C=r(E),k=n(57),N=r(k),P=n(289),T=r(P),M=n(362),O=r(M),x=n(7),S=r(x),j=n(408),R=r(j),A=function(e){function t(){var e;(0,d["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,m["default"])(this,(e=t.__proto__||(0,s["default"])(t)).call.apply(e,[this].concat(r)));return o.state={relapData:[],appeared:!1,index:o.props.index+1},o.RelapCallback=o.RelapCallback.bind(o),o.initRelapScript=o.initRelapScript.bind(o),o.getTitleNode=o.getTitleNode.bind(o),o.appearInViewport=o.appearInViewport.bind(o),o.loadGif=o.loadGif.bind(o),o}return(0,v["default"])(t,e),(0,p["default"])(t,[{key:"componentDidMount",value:function(){var e=this.state.index,t=e?e:"";window["RelapCallback"+t]=this.RelapCallback,this.initRelapScript()}},{key:"componentWillUnmount",value:function(){var e=this.state.index,t=e?e:"";window.removeEventListener("scroll",this.appearInViewport),delete window["RelapCallback"+t];try{document.getElementById("relapSimilarPages"+t).remove()}catch(n){}}},{key:"initRelapScript",value:function(){var e=this.state.index,t=this.props,n=t.pageType,r=t.code,a=e?e:"";try{document.getElementById("relapSimilarPages"+a).remove()}catch(o){}var i=document.createElement("script"),l="/"+("news"===n?"news":"articles")+"/"+r;i.src="https://relap.io/api/v2/similar_pages_jsonp.js?url="+encodeURIComponent("https://www.novayagazeta.ru"+l)+"&limit=8&advBlocksCount=2&callback=RelapCallback"+a,i.id="relapSimilarPages"+a,document.body.appendChild(i)}},{key:"componentWillUpdate",value:function(e){var t=this,n=e.location,r=this.state.index;r||n.pathname===this.props.location.pathname||this.setState({relapData:[]},function(){t.initRelapScript()})}},{key:"RelapCallback",value:function(e){var t=this;window.removeEventListener("scroll",this.appearInViewport),this.setState({relapData:[{rec_id:null,is_ad:!1,thumb:null,title:"Читайте также",url:"",read_more:!0}].concat((0,l["default"])((0,O["default"])([].concat((0,l["default"])(e.recs))))),recGroupId:e.rec_group_id,appeared:!1},function(){t.appearInViewport(),window.addEventListener("scroll",t.appearInViewport,{passive:!0})})}},{key:"loadGif",value:function(e){var t=new Image;t.src="https://relap.io/api/v2/pixel.gif?rid="+encodeURIComponent(e)}},{key:"appearInViewport",value:function(){var e=this,t=this.state,n=t.appeared,r=t.recGroupId;if(!n){var a=this.$title,o=document.documentElement.offsetHeight||window.innerHeight;if(a&&a.getBoundingClientRect().top<o){this.setState({appeared:!0},function(){window.removeEventListener("scroll",e.appearInViewport)});var i=new Image;i.src="//relap.io/api/v2/pixel.gif?rgid="+encodeURIComponent(r)}}}},{key:"getTitleNode",value:function(e){this.$title=e}},{key:"render",value:function(){var e=this,t=this.state.relapData;return w["default"].createElement(C["default"],{className:R["default"].root,block:!0},w["default"].createElement("h2",{className:R["default"].header,ref:this.getTitleNode},"Читайте также"),w["default"].createElement("div",{className:R["default"].container},t.map(function(t,n){var r=t.rec_id,a=t.is_ad,i=t.thumb,l=t.title,u=t.url,s=t.read_more;return w["default"].createElement("article",{key:n,className:R["default"].material},w["default"].createElement(T["default"],{to:u,target:"_blank",rel:"noopener noreferrer",className:R["default"].link,external:!0,onClick:(0,g["default"])(e.loadGif,r)},!s&&w["default"].createElement("figure",{className:R["default"].figure},w["default"].createElement(N["default"],{src:i,className:R["default"].image})),w["default"].createElement("h4",{className:s?R["default"].readMore:(0,S["default"])(R["default"].title,(0,o["default"])({},R["default"].margin,a))},l),a?w["default"].createElement("h6",{className:R["default"].adv},"Реклама"):null))})))}}]),t}(b.Component);A.displayName="Modules/Material/RelatedRelap",t["default"]=A},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(27),_=a(m),v=n(11),y=a(v),g=n(1),b=a(g),w=n(139),E=a(w),C=n(7),k=a(C),N=n(78),P=a(N),T=n(54),M=r(T),O=n(185),x=n(390),S=a(x),j=function(e){function t(){var e;(0,u["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,f["default"])(this,(e=t.__proto__||(0,i["default"])(t)).call.apply(e,[this].concat(r)));return o.state={path:"",height:null},o.getRootDOMNode=o.getRootDOMNode.bind(o),o.handleScroll=o.handleScroll.bind(o),o}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.path,r=t.height;return b["default"].createElement(O.Elevator,{className:S["default"].root,style:r?{height:r}:{},ref:this.getRootDOMNode},b["default"].createElement(O.Cabin,{className:S["default"].list,component:"ul",upScrollTopDelay:80,downScrollTopDelay:20},M.post.socials.map(function(t,r){var a=t.icon,o=t.url,i=t.title;return b["default"].createElement("li",{className:S["default"].item,key:r},b["default"].createElement("a",{className:S["default"].link,onClick:(0,_["default"])(e.share,o+n,i),href:o+n},b["default"].createElement(P["default"],{type:a,className:(0,k["default"])(S["default"].icon,S["default"][a])})))})))}},{key:"getRootDOMNode",value:function(e){if(e&&!this.$root){var t=E["default"].findDOMNode(e);t&&(this.$root=t)}}},{key:"handleScroll",value:function(){this.setHeight()}},{key:"componentWillReceiveProps",value:function(e){if(e.code!==this.props.code){var t=e.pageType?window.location.origin+"/"+e.pageType+"/"+e.code:window.location.href;this.setState({path:t})}if((0,y["default"])(e,"article.code")!==(0,y["default"])(this.props,"article.code")){var n=window.location.origin+"/articles/"+(0,y["default"])(e,"article.code");this.setState({path:n})}}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll,{passive:!0});var e=this.props.pageType?window.location.origin+"/"+this.props.pageType+"/"+this.props.code:window.location.href;this.setState({path:e}),this.setHeight()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll,!1)}},{key:"setHeight",value:function(){this.$root&&this.$root.nextSibling&&this.setState({height:this.$root.nextSibling.getBoundingClientRect().height})}},{key:"share",value:function(e,t,n){n.preventDefault(),window.open(e,t,"width=626,height=436")}}]),t}(g.Component);t["default"]=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(55),l=r(i),u=n(1),s=r(u),c=n(7),d=r(c),f=n(14),p=r(f),h=n(409),m=r(h),_=function(e){var t=e.className,n=(0,l["default"])(e,["className"]);return s["default"].createElement(p["default"],(0,o["default"])({className:(0,d["default"])(m["default"].root,t)},n,{block:!0}))};t["default"]=_},,,,,,,,,,,,function(e,t){"use strict";function n(e){for(var t=e.length,n=void 0,r=void 0;t;)r=Math.floor(Math.random()*t--),n=e[t],e[t]=e[r],e[r]=n;return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},,,,,,,,,,,,,,,,function(e,t){e.exports={root:"_18b0-"}},function(e,t){e.exports={root:"_1Et4Z",open:"_1cRvF",whiteTheme:"stvd8",list:"_3KedU",item:"_1d4vT",link:"TSsxs",icon:"_159R1",Facebook:"_2desV",Vkontakte:"_3hDpA",Odnoklassniki:"_2CfgL",Twitter:"_3H8Zd",Google:"_3D5ai"}},function(e,t){e.exports={root:"fKP5Z"}},,function(e,t){e.exports={root:"_2_Vvl",title:"_3V8Lk",item:"_3ayPF",link:"_2N8-3"}},function(e,t){e.exports={root:"_2iYWQ",title:"_2i-4B",item:"_1Bl67",time:"KnXjB",info:"_3NXc2",more:"_3ijdk _1Bl67",pagination:"_15YYC",prev:"_3phFL",next:"_1ZmVc",paginateItem:"_2DbmK",active:"_1sIIN",disabled:"_3Lote",preloader:"_2PLP1",show:"_1I6lH",list:"_18W4U",cross:"EHEQg","break":"_6lW16"}},function(e,t){e.exports={root:"KuYbG",title:"_3RNCb",item:"JBa_V",time:"IdqkO",info:"_3v8HM",archiveTime:"_2uhSy",more:"_3ixIG JBa_V"}},function(e,t){e.exports={root:"bwueg",prev:"_1bxiP",next:"_1FbtK",page:"GroVo",list:"_1wgKz",link:"_2Bojh",disabled:"_2Zr1H",active:"_21K6J"}},function(e,t){e.exports={root:"_3DCic",title:"_1qpg1",item:"_3ZZkR",tag:"_2Aynr"}},function(e,t){e.exports={root:"_2S-n1",pictured:"_2_jAH",figure:"_3woJa",photo:"_3WuDn",name:"_3Ruix",rank:"_2AcGa",empty:"_1yRg9"}},function(e,t){e.exports={root:"_3JLpV",title:"Y5rDs",noborder:"_1jnGW",footer:"U1rqf",info:"RF0EP",views:"_2AgPm",rubric:"_3yIjM",datetime:"_3eSy7",stats:"_1O98t",author:"_1xYwd",votes:"IDf5g",quiz:"_3kPYa",hdrop:"_3wgWB",wrapper:"_3-Z-F",comments:"_3b_-b",button:"_2JXOm",close:"_12cSD",talk_button_wrapper:"_31LzY",voted_info:"_2lB5g",vote_count:"tUHoM",comments_info:"_3wB7v",statsh:"_1_7E6",share_dropdown:"_3fRJZ"}},function(e,t){e.exports={root:"_3SlpW",container:"_2hSj1",imageContainer:"_3uNVZ",picture:"_34R8f",info:"ZF2rF",caption:"_32Bev",buttonMobile:"_3p1Us",button:"G6gk9"}},function(e,t){e.exports={root:"_2iJpy",list:"lY2pg",item:"nibVx",link:"_3Yf8d",icon:"_1dNc_",Facebook:"Z13oE",Vkontakte:"_16FWF",Odnoklassniki:"_1d8J6",Twitter:"_1Nfir",Google:"_1xiIG"}},,,,function(e,t){e.exports={root:"_3H08X",title:"_3Cj_x",figure:"_26OYI",item:"_2Jxuz",time:"_3FmWZ",text:"_1MDTy",link:"_2FAtW"}},function(e,t){e.exports={root:"_3A-q4",noMargin:"tgqGY",title:"TnsSf",article:"Lyyet",figureBlock:"_1Ju-4",figure:"_3Dkkk",text:"_32Hbz",icon:"_2HM_F",gradient:"_17y0e",lecture:"_2Wkeg",lecturePlaylist:"_2EPpO"}},function(e,t){e.exports={root:"uwqgA",noMargin:"_12aPh",title:"_3j19x",article:"_6HOR",figure:"S-CpQ",text:"_1iSoJ"}},function(e,t){e.exports={root:"_3iooL",noMargin:"vl9F8",title:"_3Ij-q",figure:"XAg5H",image:"_2TfJh",item:"_2PnO8",icon:"_38OVn",text:"e3F6B",link:"JSZmM",picture:"_18aeH"}},function(e,t){e.exports={root:"wVqv0",noMargin:"_1QIYY",title:"_22BUH",item:"_2L18n",index:"_2KtlK",link:"_2lGZu"}},function(e,t){e.exports={root:"_32UVo",margin:"UQ8ka"}},function(e,t){e.exports={root:"_3oKt0",link:"_2uCtC"}},function(e,t){e.exports={root:"_1QeBA",header:"_3AG2l",wrapper:"_1wdpl",person:"_14QcI",avatar:"_3HStL",author:"_169Y8",moderator:"_2sNC3",title:"_2DUHk",regular:"_25Ahz",controls:"_2_GCA",minus:"_25JXK",plus:"_1V_KP",answer:"_26nky",remove:"_2VO3r",rate:"-F-nx",positive:"eXZO8",negative:"_2gecc",text:"_2d6oq",answers:"_2vaBH",container:"_16hzd",editing:"nf-V5",textarea:"_3I6V8",submit:"_2Rqcw",opacity:"_3aBtd",counter:"_3tRAY",errorContainer:"_2qeOu",error:"_2P_aI"}},function(e,t){e.exports={root:"_1xT08",person:"_2IfH_",avatar:"_1dvxg",title:"_1caSK",textarea:"yvRzZ",button:"_3zhQT",counter:"_1ZQdI",errorContainer:"_1oykx",error:"_2kQhM"}},function(e,t){e.exports={root:"_2KaI1",text:"_1pPH0",buttons:"_37xim",button:"_25URP"}},899,function(e,t){e.exports={title:"zFsPi",comment:"_28-PY",header:"Jd9fL",avatar:"_2tVBw",author:"xZu-0",info:"_3GhSJ",controls:"jVGtu",rate:"_38pJk",positive:"_1MzFj",negative:"_1dU31",text:"_1AUgH",button:"lnFKa"}},function(e,t){e.exports={root:"_1C9c3",description:"dBRdu",offset:"_37w2t",banners:"_3cQtR",banner:"_3VXWn",banner_small:"_1ASib",banner_big:"_4mKmx"}},function(e,t){e.exports={root:"li2ke",header:"_3BqPb",container:"_2mjBL",material:"vWwFD",link:"SnPKh",figure:"_1kHRx",image:"_3Ps0w",title:"_1_qlk",photo:"_2AVDh",icon:"_3a2zK",relapWrapper:"_2v4Le"}},function(e,t){e.exports={root:"yPDoS",header:"_2ndZk",readMore:"_2hqs9",container:"_2ybsa",material:"_3lh5Q",link:"_2N80T",figure:"rOevU",image:"_2d-6u",title:"_3eJTa",margin:"_2CNDe",adv:"Vi-cF",photo:"_1i6KK",icon:"_3ePIE",relapWrapper:"cN3Rp"}},function(e,t){e.exports={root:"_15sk0"}},,,,,,function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function r(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function a(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");"function"==typeof t&&(o=t,t={}),t=t||{},o=o||function(){},l.type=t.type||"text/javascript",l.charset=t.charset||"utf8",l.async=!("async"in t)||!!t.async,l.src=e,t.attrs&&n(l,t.attrs),t.text&&(l.text=""+t.text);var u="onload"in l?r:a;u(l,o),l.onload||r(l,o),i.appendChild(l)}},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e){return function(t){return e(t)}}function i(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function s(e,t){return function(n){return e(t(n))}}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function d(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(){this.__data__=Et?Et(null):{}}function p(e){return this.has(e)&&delete this.__data__[e]}function h(e){var t=this.__data__;if(Et){var n=t[e];return n===pe?void 0:n}return st.call(t,e)?t[e]:void 0}function m(e){var t=this.__data__;return Et?void 0!==t[e]:st.call(t,e)}function _(e,t){var n=this.__data__;return n[e]=Et&&void 0===t?pe:t,this}function v(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__=[]}function g(e){var t=this.__data__,n=L(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():mt.call(t,n,1),!0}function b(e){var t=this.__data__,n=L(t,e);return n<0?void 0:t[n][1]}function w(e){return L(this.__data__,e)>-1}function E(e,t){var n=this.__data__,r=L(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(){this.__data__={hash:new d,map:new(yt||v),string:new d}}function N(e){return G(this,e)["delete"](e)}function P(e){return G(this,e).get(e)}function T(e){return G(this,e).has(e)}function M(e,t){return G(this,e).set(e,t),this}function O(e){var t=-1,n=e?e.length:0;for(this.__data__=new C;++t<n;)this.add(e[t])}function x(e){return this.__data__.set(e,pe),this}function S(e){return this.__data__.has(e)}function j(e){this.__data__=new v(e)}function R(){this.__data__=new v}function A(e){return this.__data__["delete"](e)}function D(e){return this.__data__.get(e)}function F(e){return this.__data__.has(e)}function I(e,t){var n=this.__data__;if(n instanceof v){var r=n.__data__;if(!yt||r.length<fe-1)return r.push([e,t]),this;n=this.__data__=new C(r)}return n.set(e,t),this}function V(e,t){var n=St(e)||re(e)?a(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!st.call(e,i)||o&&("length"==i||X(i,r))||n.push(i);return n}function L(e,t){for(var n=e.length;n--;)if(ne(e[n][0],t))return n;return-1}function H(e){return ct.call(e)}function B(e,t,n,r,a){return e===t||(null==e||null==t||!se(e)&&!ce(t)?e!==e&&t!==t:z(e,t,B,n,r,a))}function z(e,t,n,r,a,o){var i=St(e),u=St(t),s=ye,c=ye;i||(s=xt(e),s=s==ve?Pe:s),u||(c=xt(t),c=c==ve?Pe:c);var d=s==Pe&&!l(e),f=c==Pe&&!l(t),p=s==c;if(p&&!d)return o||(o=new j),i||jt(e)?Y(e,t,n,r,a,o):$(e,t,s,n,r,a,o);if(!(a&me)){var h=d&&st.call(e,"__wrapped__"),m=f&&st.call(t,"__wrapped__");if(h||m){var _=h?e.value():e,v=m?t.value():t;return o||(o=new j),n(_,v,r,a,o)}}return!!p&&(o||(o=new j),Q(e,t,n,r,a,o))}function q(e){if(!se(e)||Z(e))return!1;var t=le(e)||l(e)?dt:We;return t.test(te(e))}function U(e){return ce(e)&&ue(e.length)&&!!$e[ct.call(e)]}function W(e){if(!ee(e))return _t(e);var t=[];for(var n in Object(e))st.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Y(e,t,n,a,o,i){var l=o&me,u=e.length,s=t.length;if(u!=s&&!(l&&s>u))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var d=-1,f=!0,p=o&he?new O:void 0;for(i.set(e,t),i.set(t,e);++d<u;){var h=e[d],m=t[d];if(a)var _=l?a(m,h,d,t,e,i):a(h,m,d,e,t,i);if(void 0!==_){if(_)continue;f=!1;break}if(p){if(!r(t,function(e,t){if(!p.has(t)&&(h===e||n(h,e,a,o,i)))return p.add(t)})){f=!1;break}}else if(h!==m&&!n(h,m,a,o,i)){f=!1;break}}return i["delete"](e),i["delete"](t),f}function $(e,t,n,r,a,o,i){switch(n){case Ae:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Re:return!(e.byteLength!=t.byteLength||!r(new pt(e),new pt(t)));case ge:case be:case Ne:return ne(+e,+t);case we:return e.name==t.name&&e.message==t.message;case Me:case xe:return e==t+"";case ke:var l=u;case Oe:var s=o&me;if(l||(l=c),e.size!=t.size&&!s)return!1;var d=i.get(e);if(d)return d==t;o|=he,i.set(e,t);var f=Y(l(e),l(t),r,a,o,i);return i["delete"](e),f;case Se:if(Ot)return Ot.call(e)==Ot.call(t)}return!1}function Q(e,t,n,r,a,o){var i=a&me,l=de(e),u=l.length,s=de(t),c=s.length;if(u!=c&&!i)return!1;for(var d=u;d--;){var f=l[d];if(!(i?f in t:st.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var h=!0;o.set(e,t),o.set(t,e);for(var m=i;++d<u;){f=l[d];var _=e[f],v=t[f];if(r)var y=i?r(v,_,f,t,e,o):r(_,v,f,e,t,o);if(!(void 0===y?_===v||n(_,v,r,a,o):y)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var g=e.constructor,b=t.constructor;g!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(h=!1)}return o["delete"](e),o["delete"](t),h}function G(e,t){var n=e.__data__;return J(t)?n["string"==typeof t?"string":"hash"]:n.map}function K(e,t){var n=i(e,t);return q(n)?n:void 0}function X(e,t){return t=null==t?_e:t,!!t&&("number"==typeof e||Ye.test(e))&&e>-1&&e%1==0&&e<t}function J(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Z(e){return!!lt&&lt in e}function ee(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ot;return e===n}function te(e){if(null!=e){try{return ut.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ne(e,t){return e===t||e!==e&&t!==t}function re(e){return oe(e)&&st.call(e,"callee")&&(!ht.call(e,"callee")||ct.call(e)==ve)}function ae(e){return null!=e&&ue(e.length)&&!le(e)}function oe(e){return ce(e)&&ae(e)}function ie(e,t){return B(e,t)}function le(e){var t=se(e)?ct.call(e):"";return t==Ee||t==Ce}function ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_e}function se(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ce(e){return!!e&&"object"==typeof e}function de(e){return ae(e)?V(e):W(e)}var fe=200,pe="__lodash_hash_undefined__",he=1,me=2,_e=9007199254740991,ve="[object Arguments]",ye="[object Array]",ge="[object Boolean]",be="[object Date]",we="[object Error]",Ee="[object Function]",Ce="[object GeneratorFunction]",ke="[object Map]",Ne="[object Number]",Pe="[object Object]",Te="[object Promise]",Me="[object RegExp]",Oe="[object Set]",xe="[object String]",Se="[object Symbol]",je="[object WeakMap]",Re="[object ArrayBuffer]",Ae="[object DataView]",De="[object Float32Array]",Fe="[object Float64Array]",Ie="[object Int8Array]",Ve="[object Int16Array]",Le="[object Int32Array]",He="[object Uint8Array]",Be="[object Uint8ClampedArray]",ze="[object Uint16Array]",qe="[object Uint32Array]",Ue=/[\\^$.*+?()[\]{}|]/g,We=/^\[object .+?Constructor\]$/,Ye=/^(?:0|[1-9]\d*)$/,$e={};$e[De]=$e[Fe]=$e[Ie]=$e[Ve]=$e[Le]=$e[He]=$e[Be]=$e[ze]=$e[qe]=!0,$e[ve]=$e[ye]=$e[Re]=$e[ge]=$e[Ae]=$e[be]=$e[we]=$e[Ee]=$e[ke]=$e[Ne]=$e[Pe]=$e[Me]=$e[Oe]=$e[xe]=$e[je]=!1;var Qe="object"==typeof e&&e&&e.Object===Object&&e,Ge="object"==typeof self&&self&&self.Object===Object&&self,Ke=Qe||Ge||Function("return this")(),Xe="object"==typeof t&&t&&!t.nodeType&&t,Je=Xe&&"object"==typeof n&&n&&!n.nodeType&&n,Ze=Je&&Je.exports===Xe,et=Ze&&Qe.process,tt=function(){try{return et&&et.binding("util")}catch(e){}}(),nt=tt&&tt.isTypedArray,rt=Array.prototype,at=Function.prototype,ot=Object.prototype,it=Ke["__core-js_shared__"],lt=function(){var e=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ut=at.toString,st=ot.hasOwnProperty,ct=ot.toString,dt=RegExp("^"+ut.call(st).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=Ke.Symbol,pt=Ke.Uint8Array,ht=ot.propertyIsEnumerable,mt=rt.splice,_t=s(Object.keys,Object),vt=K(Ke,"DataView"),yt=K(Ke,"Map"),gt=K(Ke,"Promise"),bt=K(Ke,"Set"),wt=K(Ke,"WeakMap"),Et=K(Object,"create"),Ct=te(vt),kt=te(yt),Nt=te(gt),Pt=te(bt),Tt=te(wt),Mt=ft?ft.prototype:void 0,Ot=Mt?Mt.valueOf:void 0;d.prototype.clear=f,d.prototype["delete"]=p,d.prototype.get=h,d.prototype.has=m,d.prototype.set=_,v.prototype.clear=y,v.prototype["delete"]=g,v.prototype.get=b,v.prototype.has=w,v.prototype.set=E,C.prototype.clear=k,C.prototype["delete"]=N,C.prototype.get=P,C.prototype.has=T,C.prototype.set=M,O.prototype.add=O.prototype.push=x,O.prototype.has=S,j.prototype.clear=R,j.prototype["delete"]=A,j.prototype.get=D,j.prototype.has=F,j.prototype.set=I;var xt=H;(vt&&xt(new vt(new ArrayBuffer(1)))!=Ae||yt&&xt(new yt)!=ke||gt&&xt(gt.resolve())!=Te||bt&&xt(new bt)!=Oe||wt&&xt(new wt)!=je)&&(xt=function(e){var t=ct.call(e),n=t==Pe?e.constructor:void 0,r=n?te(n):void 0;if(r)switch(r){case Ct:return Ae;case kt:return ke;case Nt:return Te;case Pt:return Oe;case Tt:return je}return t});var St=Array.isArray,jt=nt?o(nt):U;n.exports=ie}).call(t,function(){return this}(),n(195)(e))},,,,,,,function(e,t){function n(e){return e.split("")}e.exports=n},,,function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:a(e,t,n)}var a=n(138);e.exports=r},,function(e,t,n){function r(e){return function(t){t=l(t);var n=o(t)?i(t):void 0,r=n?n[0]:t.charAt(0),u=n?a(n,1).join(""):t.slice(1);return r[e]()+u}}var a=n(426),o=n(278),i=n(432),l=n(443);e.exports=r},,,,function(e,t,n){function r(e){return o(e)?i(e):a(e)}var a=n(423),o=n(278),i=n(433);e.exports=r},function(e,t){function n(e){return e.match(b)||[]}var r="\\ud800-\\udfff",a="\\u0300-\\u036f\\ufe20-\\ufe23",o="\\u20d0-\\u20f0",i="\\ufe0e\\ufe0f",l="["+r+"]",u="["+a+o+"]",s="\\ud83c[\\udffb-\\udfff]",c="(?:"+u+"|"+s+")",d="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",m=c+"?",_="["+i+"]?",v="(?:"+h+"(?:"+[d,f,p].join("|")+")"+_+m+")*",y=_+m+v,g="(?:"+[d+u+"?",u,f,p,l].join("|")+")",b=RegExp(s+"(?="+s+")|"+g+y,"g");e.exports=n},function(e,t,n){function r(e,t,n){function r(t){var n=y,r=g;return y=g=void 0,k=t,w=e.apply(r,n)}function c(e){return k=e,E=setTimeout(p,t),N?r(e):w}function d(e){var n=e-C,r=e-k,a=t-n;return P?s(a,b-r):a}function f(e){var n=e-C,r=e-k;return void 0===C||n>=t||n<0||P&&r>=b}function p(){var e=o();return f(e)?h(e):void(E=setTimeout(p,d(e)))}function h(e){return E=void 0,T&&y?r(e):(y=g=void 0,w)}function m(){void 0!==E&&clearTimeout(E),k=0,y=C=g=E=void 0}function _(){return void 0===E?w:h(o())}function v(){var e=o(),n=f(e);if(y=arguments,g=this,C=e,n){if(void 0===E)return c(C);if(P)return E=setTimeout(p,t),r(C)}return void 0===E&&(E=setTimeout(p,t)),w}var y,g,b,w,E,C,k=0,N=!1,P=!1,T=!0;if("function"!=typeof e)throw new TypeError(l);return t=i(t)||0,a(n)&&(N=!!n.leading,P="maxWait"in n,b=P?u(i(n.maxWait)||0,t):b,T="trailing"in n?!!n.trailing:T),v.cancel=m,v.flush=_,v}var a=n(28),o=n(52),i=n(442),l="Expected a function",u=Math.max,s=Math.min;e.exports=r},,function(e,t,n){function r(e,t){var n=l(e)?a:o;return n(e,i(t,3))}var a=n(50),o=n(213),i=n(227),l=n(45);e.exports=r},,,,function(e,t,n){function r(e){return"string"==typeof e||!a(e)&&o(e)&&u.call(e)==i}var a=n(45),o=n(121),i="[object String]",l=Object.prototype,u=l.toString;e.exports=r},,,,function(e,t,n){var r=n(428),a=r("toUpperCase");e.exports=a},,,function(e,t,n){e.exports=n(467).create},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),c=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.breakLabel,t=this.props.breakClassName||"break";return s["default"].createElement("li",{className:t},e)}}]),t}(s["default"].Component);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),s=r(u),c=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.pageLinkClassName,t=this.props.pageClassName,n=this.props.onClick;return this.props.selected&&(t="undefined"!=typeof t?t+" "+this.props.activeClassName:this.props.activeClassName),s["default"].createElement("li",{onClick:n,className:t},s["default"].createElement("a",{className:e},this.props.page))}}]),t}(s["default"].Component);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),d=n(7),f=r(d),p=n(447),h=r(p),m=n(450),_=r(m),v=n(449),y=r(v),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePreviousPage=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,n.state.selected>0&&n.handlePageSelected(n.state.selected-1,e)},n.handleNextPage=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,n.state.selected<n.props.pageNum-1&&n.handlePageSelected(n.state.selected+1,e)},n.handlePageSelected=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1,n.state.selected!==e&&(n.setState({selected:e}),n.callCallback(e))},n.callCallback=function(e){"undefined"!=typeof n.props.clickCallback&&"function"==typeof n.props.clickCallback&&n.props.clickCallback({selected:e})},n.pagination=function(){var e={};if(n.props.pageNum<=n.props.pageRangeDisplayed)for(var t=0;t<n.props.pageNum;t++)e["key"+t]=c["default"].createElement(_["default"],{onClick:n.handlePageSelected.bind(null,t),selected:n.state.selected===t,pageClassName:n.props.pageClassName,pageLinkClassName:n.props.pageLinkClassName,activeClassName:n.props.activeClassName,page:t+1});else{var r=n.props.pageRangeDisplayed/2,a=n.props.pageRangeDisplayed-r;n.state.selected>n.props.pageNum-n.props.pageRangeDisplayed/2?(a=n.props.pageNum-n.state.selected,r=n.props.pageRangeDisplayed-a):n.state.selected<n.props.pageRangeDisplayed/2&&(r=n.state.selected,a=n.props.pageRangeDisplayed-r);var o=void 0,i=void 0,l=void 0;for(o=0;o<n.props.pageNum;o++){i=o+1;var u=c["default"].createElement(_["default"],{onClick:n.handlePageSelected.bind(null,o),selected:n.state.selected===o,pageClassName:n.props.pageClassName,pageLinkClassName:n.props.pageLinkClassName,activeClassName:n.props.activeClassName,page:o+1});if(i<=n.props.marginPagesDisplayed)e["key"+o]=u;else if(i>n.props.pageNum-n.props.marginPagesDisplayed)e["key"+o]=u;else if(o>=n.state.selected-r&&o<=n.state.selected+a)e["key"+o]=u;else{
var s=Object.keys(e),d=s[s.length-1],f=e[d];n.props.breakLabel&&f!==l&&(l=c["default"].createElement(y["default"],{breakLabel:n.props.breakLabel,breakClassName:n.props.breakClassName}),e["key"+o]=l)}}}return e},n.state={selected:e.initialSelected?e.initialSelected:e.forceSelected?e.forceSelected:0},n}return l(t,e),u(t,[{key:"componentDidMount",value:function(){"undefined"!=typeof this.props.initialSelected&&this.callCallback(this.props.initialSelected)}},{key:"componentWillReceiveProps",value:function(e){"undefined"!=typeof e.forceSelected&&this.props.forceSelected!==e.forceSelected&&this.setState({selected:e.forceSelected})}},{key:"render",value:function(){var e=this.props.disabledClassName,t=(0,f["default"])(this.props.previousClassName,a({},e,0===this.state.selected)),n=(0,f["default"])(this.props.nextClassName,a({},e,this.state.selected===this.props.pageNum-1));return c["default"].createElement("ul",{className:this.props.containerClassName},c["default"].createElement("li",{onClick:this.handlePreviousPage,className:t},c["default"].createElement("a",{className:this.props.previousLinkClassName},this.props.previousLabel)),(0,h["default"])(this.pagination()),c["default"].createElement("li",{onClick:this.handleNextPage,className:n},c["default"].createElement("a",{className:this.props.nextLinkClassName},this.props.nextLabel)))}}]),t}(s.Component);g.propTypes={pageNum:s.PropTypes.number.isRequired,pageRangeDisplayed:s.PropTypes.number.isRequired,marginPagesDisplayed:s.PropTypes.number.isRequired,previousLabel:s.PropTypes.node,nextLabel:s.PropTypes.node,breakLabel:s.PropTypes.node,clickCallback:s.PropTypes.func,initialSelected:s.PropTypes.number,forceSelected:s.PropTypes.number,containerClassName:s.PropTypes.string,pageClassName:s.PropTypes.string,pageLinkClassName:s.PropTypes.string,activeClassName:s.PropTypes.string,previousClassName:s.PropTypes.string,nextClassName:s.PropTypes.string,previousLinkClassName:s.PropTypes.string,nextLinkClassName:s.PropTypes.string,disabledClassName:s.PropTypes.string,breakClassName:s.PropTypes.string},g.defaultProps={pageNum:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousClassName:"previous",nextClassName:"next",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",disabledClassName:"disabled"},t["default"]=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(451),o=r(a);e.exports=o["default"]},,,function(e,t){"use strict";function n(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=arguments.length<=3||void 0===arguments[3]?null:arguments[3];l||(l=document.createElement("textarea"),document.body.appendChild(l));var i=r(e,t),u=i.paddingSize,s=i.borderSize,c=i.boxSizing,d=i.sizingStyle;l.setAttribute("style",d+";"+a),l.value=e.value||e.placeholder||"x";var f=-(1/0),p=1/0,h=l.scrollHeight;if("border-box"===c?h+=s:"content-box"===c&&(h-=u),null!==n||null!==o){l.value="x";var m=l.scrollHeight-u;null!==n&&(f=m*n,"border-box"===c&&(f=f+u+s),h=Math.max(f,h)),null!==o&&(p=m*o,"border-box"===c&&(p=p+u+s),h=Math.min(p,h))}return{height:h,minHeight:f,maxHeight:p}}function r(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&i[n])return i[n];var r=window.getComputedStyle(e),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),l=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),u=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=o.map(function(e){return e+":"+r.getPropertyValue(e)}).join(";"),c={sizingStyle:s,paddingSize:l,borderSize:u,boxSizing:a};return t&&n&&(i[n]=c),c}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",o=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],i={},l=void 0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(e.videoId!==t.videoId)return!0;var n=e.opts.playerVars||{},r=t.opts.playerVars||{};return n.start!==r.start||n.end!==r.end}function u(e){return f({},e,{playerVars:f({},e.playerVars,{autoplay:0,start:0,end:0})})}function s(e,t){return!(0,_["default"])(u(e.opts),u(t.opts))}function c(e,t){return e.id===t.id||e.className===t.className}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(1),h=r(p),m=n(416),_=r(m),v=n(489),y=r(v),g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPlayerReady=function(e){return n.props.onReady(e)},n.onPlayerError=function(e){return n.props.onError(e)},n.onPlayerStateChange=function(e){switch(n.props.onStateChange(e),e.data){case t.PlayerState.ENDED:n.props.onEnd(e);break;case t.PlayerState.PLAYING:n.props.onPlay(e);break;case t.PlayerState.PAUSED:n.props.onPause(e);break;default:return}},n.onPlayerPlaybackRateChange=function(e){return n.props.onPlaybackRateChange(e)},n.onPlayerPlaybackQualityChange=function(e){return n.props.onPlaybackQualityChange(e)},n.createPlayer=function(){if("undefined"!=typeof document){var e=f({},n.props.opts,{videoId:n.props.videoId});n.internalPlayer=(0,y["default"])(n.container,e),n.internalPlayer.on("ready",n.onPlayerReady),n.internalPlayer.on("error",n.onPlayerError),n.internalPlayer.on("stateChange",n.onPlayerStateChange),n.internalPlayer.on("playbackRateChange",n.onPlayerPlaybackRateChange),n.internalPlayer.on("playbackQualityChange",n.onPlayerPlaybackQualityChange)}},n.resetPlayer=function(){return n.internalPlayer.destroy().then(n.createPlayer)},n.updatePlayer=function(){n.internalPlayer.getIframe().then(function(e){e.setAttribute("id",n.props.id),e.setAttribute("class",n.props.className)})},n.updateVideo=function(){if("undefined"==typeof n.props.videoId||null===n.props.videoId)return void n.internalPlayer.stopVideo();var e=!1,t={videoId:n.props.videoId};return"playerVars"in n.props.opts&&(e=1===n.props.opts.playerVars.autoplay,"start"in n.props.opts.playerVars&&(t.startSeconds=n.props.opts.playerVars.start),"end"in n.props.opts.playerVars&&(t.endSeconds=n.props.opts.playerVars.end)),e?void n.internalPlayer.loadVideoById(t):void n.internalPlayer.cueVideoById(t)},n.refContainer=function(e){n.container=e},n.container=null,n.internalPlayer=null,n}return i(t,e),d(t,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){c(e,this.props)&&this.updatePlayer(),s(e,this.props)&&this.resetPlayer(),l(e,this.props)&&this.updateVideo()}},{key:"componentWillUnmount",value:function(){this.internalPlayer.destroy()}},{key:"render",value:function(){return h["default"].createElement("span",null,h["default"].createElement("div",{id:this.props.id,className:this.props.className,ref:this.refContainer}))}}]),t}(h["default"].Component);g.propTypes={videoId:h["default"].PropTypes.string,id:h["default"].PropTypes.string,className:h["default"].PropTypes.string,opts:h["default"].PropTypes.object,onReady:h["default"].PropTypes.func,onError:h["default"].PropTypes.func,onPlay:h["default"].PropTypes.func,onPause:h["default"].PropTypes.func,onEnd:h["default"].PropTypes.func,onStateChange:h["default"].PropTypes.func,onPlaybackRateChange:h["default"].PropTypes.func,onPlaybackQualityChange:h["default"].PropTypes.func},g.defaultProps={opts:{},onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},g.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},t["default"]=g},,,,,,,,,,,function(e,t,n){"use strict";var r=n(41),a=n(311),o=n(162),i=n(58),l=(n(20),n(42),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(o.isValidElement(e))return e;1===e.nodeType?r("0"):void 0;var t=[];for(var n in e)a.mapIntoWithKeyPrefixInternal(e[n],t,n,i.thatReturnsArgument);return t}});e.exports=l},,,,,,,,,,,,,,function(e,t){(function(t){function n(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);n!=-1&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,a=t[e];if(a)for(r=a.length;r--;)a[r].handler(n)},e}t.gajus=t.gajus||{},t.gajus.Sister=n,e.exports=n}).call(t,function(){return this}())},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(444),o=r(a),i=n(436),l=r(i);Object.defineProperty(t,"__esModule",{value:!0});var u=n(488),s=r(u),c=n(487),d=r(c),f=void 0;f={},f.proxyEvents=function(e){var t=void 0;return t={},(0,l["default"])(d["default"],function(n){var r=void 0;r="on"+(0,o["default"])(n),t[r]=function(t){e.trigger(n,t)}}),t},f.promisifyPlayer=function(e){var t=void 0;return t={},(0,l["default"])(s["default"],function(n){t[n]=function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.then(function(e){return e[n].apply(e,r)})}}),t},t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange"],e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","clearVideo","getVideoBytesLoaded","getVideoBytesTotal","getVideoLoadedFraction","getVideoStartBytes","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","getPlaylistId","loadModule","unloadModule","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getDebugText","getVideoData","addCueRange","removeCueRange","getApiInterface","showVideoInfo","hideVideoInfo","G","C","R","aa","$","Z","getVideoEmbedCode","getOptions","getOption","Y","X","addEventListener","destroy","A","P","J","setSize","getIframe"],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=n(440),o=r(a);Object.defineProperty(t,"__esModule",{value:!0});var i=n(481),l=r(i),u=n(254),s=r(u),c=n(490),d=r(c),f=n(486),p=r(f),h=void 0;t["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=void 0,r=void 0,a=void 0;if(h||(h=(0,d["default"])()),r={},n=(0,l["default"])(),t.events)throw new Error("Event handlers cannot be overwritten.");if((0,o["default"])(e)&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');return t.events=p["default"].proxyEvents(n),a=new s["default"](function(r){h.then(function(n){return new n.Player(e,t)}).then(function(e){n.on("ready",function(){r(e)})})}),r=p["default"].promisifyPlayer(a),r.on=n.on,r},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(254),o=r(a),i=n(415),l=r(i);t["default"]=function(){var e=void 0;return e=new o["default"](function(e){var t=void 0;t=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){t&&t(),e(window.YT)}}),(0,l["default"])("https://www.youtube.com/iframe_api"),e},e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(2),l=r(i),u=n(3),s=r(u),c=n(4),d=r(c),f=n(6),p=r(f),h=n(5),m=r(h),_=n(1),v=r(_),y=n(7),g=r(y),b=n(10),w=r(b),E=n(862),C=r(E),k=v["default"].createElement("span",null,"2 077"),N=v["default"].createElement("small",null,"Проголосовало"),P=function(e){function t(){var e;(0,s["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,p["default"])(this,(e=t.__proto__||(0,l["default"])(t)).call.apply(e,[this].concat(r)));return o.state={value:null,isSubmitted:!1},o.handleChange=o.handleChange.bind(o),o.handleSubmit=o.handleSubmit.bind(o),o}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(){var e,t=this,n=this.props.mode,r=this.props.content,a=this.state.isSubmitted,i=(0,g["default"])(C["default"].root,(e={},(0,o["default"])(e,C["default"].submitted,a),(0,o["default"])(e,C["default"].simple,"simple"===n),e));return v["default"].createElement("form",{className:i,onSubmit:this.handleSubmit,id:"quiz-form-"+r.id,name:"quiz-form-"+r.id},v["default"].createElement("div",{className:C["default"].container},"simple"===n?null:v["default"].createElement("h3",{className:C["default"].caption},"Опрос"),"simple"===n?null:v["default"].createElement("h2",{className:C["default"].title},r.title),v["default"].createElement("ul",{className:C["default"].options},r.options.map(function(e,n){var o=e.id,i=e.title,l=e.count;return v["default"].createElement("li",{key:n,className:C["default"].option},v["default"].createElement("label",{className:C["default"].label},v["default"].createElement("input",{type:"radio",value:o,name:r.id,className:C["default"].input,onChange:t.handleChange,id:"quiz-radio-"+r.id+"-"+n}),v["default"].createElement("div",{className:C["default"].radio})),v["default"].createElement("div",{className:C["default"].graph,style:{width:a?l+"%":0}}),v["default"].createElement("p",{className:C["default"].value},i),v["default"].createElement("div",{className:C["default"].percent},l+"%"))})),v["default"].createElement("footer",{className:C["default"].footer},v["default"].createElement("div",{className:C["default"]["submit-container"]},"simple"===n?null:v["default"].createElement("p",{className:C["default"].voters},k,N),v["default"].createElement("button",{type:"submit",className:C["default"].submit},"Проголосовать")),"simple"===n?null:v["default"].createElement(w["default"],{to:"/quizzes/1",className:C["default"].link},"Обсудить"),"simple"===n?null:v["default"].createElement(w["default"],{to:"/quizzes",className:C["default"].all},"Все опросы"))))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.value&&this.setState({isSubmitted:!0})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}}]),t}(_.Component);P.displayName="Modules/Belts/Quiz",P.defaultProps={mode:"belt"},t["default"]=P},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(165),b=a(g),w=n(1),E=a(w),C=n(25),k=n(139),N=a(k),P=n(48),T=n(14),M=a(T),O=n(197),x=r(O),S=n(186),j=r(S),R=E["default"].createElement(j.Socials,null),A=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.handleCommentsAppearInViewport=o.handleCommentsAppearInViewport.bind(o),o.triggerCommentShow=o.triggerCommentShow.bind(o),o.dropCommentTrigger=o.dropCommentTrigger.bind(o),o.getRootDOMNode=o.getRootDOMNode.bind(o),o.state={commentTrigger:!1},o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"componentWillMount",value:function(){var e=this.props.schedule;0===(0,y["default"])(e,"schedule.count",0)&&this.props.loadSchedule(0,25)}},{key:"render",value:function(){var e=this.props,t=e.article,n=e.schedule,r=e.loadSchedule;return E["default"].createElement("div",{ref:this.getRootDOMNode},E["default"].createElement(x.Cinema,(0,i["default"])({profile:this.props.profile,cover:(0,y["default"])(t,"picture"),title:(0,y["default"])(t,"title")},(0,y["default"])(t,"cinema_content"))),E["default"].createElement(M["default"],{block:!0},E["default"].createElement(j.Header,(0,i["default"])({},(0,b["default"])(t,"title"),{handleButtonClick:this.triggerCommentShow})),E["default"].createElement(j.Wrapper,null,R,E["default"].createElement(j.Content,(0,i["default"])({cinema:!0,loadSchedule:r},t,{schedule:n,location:this.props.location,justAdded:this.props.justAdded,onCommentsAppearInViewport:this.handleCommentsAppearInViewport,commentTrigger:this.state.commentTrigger,dropCommentTrigger:this.dropCommentTrigger})),"photo"===t.type?null:E["default"].createElement(j.Aside,t))),E["default"].createElement(j.RelatedRelap,(0,i["default"])({location:this.props.location},t)))}},{key:"handleCommentsAppearInViewport",value:function(e,t){this.props.article.comments&&!t||this.props.loadComments(this.props.article.id,this.props.article.code,void 0,void 0,e||t)}},{key:"getRootDOMNode",value:function(e){if(e&&!this.$root){var t=N["default"].findDOMNode(e);t&&(this.$root=t)}}},{key:"triggerCommentShow",value:function(){var e=this.$root.querySelector(".comments_block");if(e){var t=document.documentElement,n=(window.pageYOffset||t.scrollTop)-(t.clientTop||0);(0,P.scrollTo)(e.getBoundingClientRect().top+n)}this.setState({commentTrigger:!0})}},{key:"dropCommentTrigger",value:function(){this.setState({commentTrigger:!1})}}]),t}(w.Component);A.displayName="Screens/Cinema",t["default"]=(0,C.connect)(function(e){var t=e.profile,n=e.schedule;return{profile:t,schedule:n}})(A)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(144),y=a(v),g=n(11),b=a(g),w=n(1),E=a(w),C=n(14),k=a(C),N=n(197),P=r(N),T=n(186),M=r(T),O=n(175),x=a(O),S=E["default"].createElement(M.Wrapper,null),j=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.article,n=e.article.lecture_content,r=(0,y["default"])(n.items,1);return E["default"].createElement("div",{ref:this.getRootDOMNode},E["default"].createElement(P.Lecture,t),E["default"].createElement(k["default"],{block:!0},r.length?E["default"].createElement(M.Wrapper,null,E["default"].createElement(x["default"],{materials:r,count:r.length+1,showIndexes:!0,indexOfset:1})):S),E["default"].createElement(M.RelatedRelap,(0,i["default"])({location:this.props.location},t)))}},{key:"componentDidMount",value:function(){(0,b["default"])(this.props,"article.code")&&this.props.shares(window.location.href,this.props.article.code)}}]),t}(w.Component);j.displayName="Screens/Article/Post",t["default"]=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(8),l=r(i),u=n(2),s=r(u),c=n(3),d=r(c),f=n(4),p=r(f),h=n(6),m=r(h),_=n(5),v=r(_),y=n(306),g=r(y),b=n(1),w=r(b),E=n(139),C=r(E),k=n(7),N=r(k),P=n(19),T=r(P),M=n(185),O=n(937),x=r(O),S=function(e){function t(){var e;(0,d["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,m["default"])(this,(e=t.__proto__||(0,s["default"])(t)).call.apply(e,[this].concat(r)));return o.handleClick=o.handleClick.bind(o),o}return(0,v["default"])(t,e),(0,p["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.dtime,n=e.title,r=e.isActive;return w["default"].createElement("li",{className:(0,N["default"])(x["default"].item,(0,l["default"])({},x["default"].active,r)),onClick:this.handleClick},w["default"].createElement("div",{className:x["default"].container},w["default"].createElement("time",{className:x["default"].time},T["default"].unix(t).format("HH:mm")),w["default"].createElement("h3",{className:x["default"].title},n)))}},{key:"handleClick",value:function(){this.props.onClick(this.props.id)}}]),t}(b.Component);S.displayName="Screens/__tmp__/Online/_/Aside/Moment";var j=function(e){function t(){var e;(0,d["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,m["default"])(this,(e=t.__proto__||(0,s["default"])(t)).call.apply(e,[this].concat(r)));return o.state={isOpen:!1,height:null},o.handleTriggerClick=o.handleTriggerClick.bind(o),o.getRootDOMNode=o.getRootDOMNode.bind(o),o.handleScroll=(0,g["default"])(o.handleScroll,500).bind(o),o}return(0,v["default"])(t,e),(0,p["default"])(t,[{key:"render",value:function(){var e=this.state,t=e.isOpen,n=e.height,r=this.props,a=r.moments,i=void 0===a?[]:a,u=r.onClick,s=r.activeIndex,c=r.className;return w["default"].createElement(M.Elevator,{style:n?{height:n}:{},className:(0,N["default"])(x["default"].root,c,(0,l["default"])({},x["default"].open,t)),component:"aside",ref:this.getRootDOMNode},w["default"].createElement(M.Cabin,{className:x["default"].wrapper,component:"div",upScrollTopDelay:80,downScrollTopDelay:20},w["default"].createElement("h2",{className:x["default"].header,onClick:this.handleTriggerClick},"Ключевые моменты"),w["default"].createElement("ul",{className:x["default"].list},i.map(function(e,t){return w["default"].createElement(S,(0,o["default"])({},e,{isActive:e.id===s,index:t,key:t,onClick:u}))}))))}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.setHeight()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll,!1)}},{key:"handleTriggerClick",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"handleScroll",value:function(){this.setHeight()}},{key:"getRootDOMNode",value:function(e){if(e&&!this.$root){var t=C["default"].findDOMNode(e);t&&(this.$root=t)}}},{key:"setHeight",value:function(){this.$root&&this.$root.previousSibling&&this.setState({height:this.$root.previousSibling.getBoundingClientRect().height})}}]),t}(b.Component);j.displayName="Screens/__tmp__/Online/_/Aside",t["default"]=j},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(8),u=a(l),s=n(2),c=a(s),d=n(3),f=a(d),p=n(4),h=a(p),m=n(6),_=a(m),v=n(5),y=a(v),g=n(11),b=a(g),w=n(485),E=r(w),C=n(1),k=a(C),N=n(7),P=a(N),T=n(17),M=a(T),O=n(19),x=a(O),S=n(57),j=a(S),R=n(289),A=a(R),D=n(1102),F=a(D),I=n(456),V=a(I),L=n(938),H=a(L),B=function(e){function t(){var e;(0,f["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,_["default"])(this,(e=t.__proto__||(0,c["default"])(t)).call.apply(e,[this].concat(r))),i=(0,b["default"])(o.props,"attachment.type"),l=(0,M["default"])(i,{tweet:"tweet",post:"post",news_entry:"post",youtube:"youtube",picture:"picture",instagram:"instagram",facebook:"facebook"},"");return o.state={type:i,isPost:"post"===i||"news_entry"===i,postType:l},o.handleRef=o.handleRef.bind(o),o.initTweet=o.initTweet.bind(o),o.mount=o.mount.bind(o),o}return(0,y["default"])(t,e),(0,h["default"])(t,[{key:"componentDidMount",value:function(){"tweet"===this.state.postType&&this.initTweet(),"facebook"===this.state.postType&&window.FB.init({appId:"193613297358329",version:"v2.5",status:!0,xfbml:!0})}},{key:"initTweet",value:function(){var e=this,t=(0,b["default"])(this.props,"attachment.url"),n=null;try{n=(0,b["default"])((0,b["default"])(E.parse(t),"pathname","").split("status/"),"[1]")}catch(r){}window.twttr.ready(function(){e.tweetNode&&n&&window.twttr.widgets.createTweet(n,e.tweetNode,{theme:"light"})})}},{key:"mount",value:function(){this.initTweet()}},{key:"handleRef",value:function(e){this.tweetNode=e}},{key:"render",value:function(){var e=this.props,t=e.dtime,n=e.body,r=e.title,a=e.isActive,o=e.big,l=e.attachment,s=this.state,c=s.isPost,d=s.postType,f=(0,b["default"])(this.props,"attachment.type"),p=(0,b["default"])(l,"url",""),h=c?p||"/"+("news_entry"===f?"news":"articles")+"/"+(0,b["default"])(l,"post.code",""):"",m=(0,b["default"])(l,"picture"),_=k["default"].createElement(F["default"],{url:p,hideCaption:!0,containerTagName:"div"}),v=k["default"].createElement("div",{className:"fb-post","data-width":"auto","data-href":p});return k["default"].createElement("article",{className:(0,P["default"])(H["default"].root,(0,u["default"])({},H["default"].active,a))},k["default"].createElement("time",{className:H["default"].time},x["default"].unix(t).calendar(null,{sameDay:"HH:mm, [сегодня]",lastDay:"HH:mm, [вчера]",lastWeek:"HH:mm, DD.MM.YYYY",sameElse:"HH:mm, DD.MM.YYYY"})),k["default"].createElement("h3",{className:H["default"].title},r),k["default"].createElement("div",{className:(0,P["default"])(H["default"].text,(0,u["default"])({},H["default"].big,o)),dangerouslySetInnerHTML:{__html:n}}),(0,M["default"])(d,{tweet:k["default"].createElement("div",{ref:this.handleRef}),post:k["default"].createElement(A["default"],(0,i["default"])({to:h,className:H["default"].embeddedInnerPost,external:p},{target:"_blank",rel:"noopener noreferrer"}),k["default"].createElement(j["default"],{src:(0,b["default"])(l,"post.picture",""),color:"#212226",className:H["default"].embeddedImage}),k["default"].createElement("div",{className:H["default"].embeddedContent},k["default"].createElement("h3",{className:H["default"].embeddedTitle},(0,b["default"])(l,"post.title","")),k["default"].createElement("p",{className:H["default"].hostname},(0,b["default"])(l,"resource")||"www.novayagazeta.ru"))),youtube:function(){var e=(0,b["default"])(p.split("watch?v="),"[1]");return k["default"].createElement("div",{className:H["default"].videoContainer},e?k["default"].createElement(V["default"],{videoId:e,opts:{height:"100%",width:"100%",frameBorder:"0",playerVars:{autoplay:0,loop:0,showinfo:0,rel:0}}}):null)},picture:k["default"].createElement("div",{className:H["default"].imageContainer},k["default"].createElement(j["default"],{className:H["default"].image,src:m,color:"#212226"})),instagram:function(){return _},facebook:function(){return v}},null))}}]),t}(C.Component);B.displayName="Screens/__tmp__/Online/_/Moment",t["default"]=B},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(118),v=r(_),y=n(10),g=r(y),b=n(57),w=r(b),E=n(19),C=r(E),k=n(939),N=r(k),P=m["default"].createElement(v["default"],{type:"skyscraper",position:"others"}),T=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props.refresh,t="Обновлено "+C["default"].unix(e).fromNow();return m["default"].createElement("div",{className:N["default"].root},m["default"].createElement("div",{className:N["default"].container},m["default"].createElement(w["default"],{src:this.props.picture,color:"#212226",className:N["default"].image}),m["default"].createElement("div",{className:N["default"].info},m["default"].createElement(g["default"],{to:"/",className:N["default"].type},"ОНЛАЙН"),m["default"].createElement("small",{className:N["default"].refresh},t)),m["default"].createElement("h1",{className:N["default"].title},this.props.title)),m["default"].createElement("aside",{className:N["default"].aside},P))}}]),t}(h.Component);T.displayName="Screens/__tmp__/Online/_/Preview",t["default"]=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Aside=t.Moment=t.Preview=void 0;var a=n(664),o=r(a),i=n(663),l=r(i),u=n(662),s=r(u);t.Preview=o["default"],t.Moment=l["default"],t.Aside=s["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=a(o),l=n(95),u=a(l),s=n(44),c=a(s),d=n(9),f=a(d),p=n(2),h=a(p),m=n(3),_=a(m),v=n(4),y=a(v),g=n(6),b=a(g),w=n(5),E=a(w),C=n(120),k=a(C),N=n(11),P=a(N),T=n(1),M=a(T),O=n(139),x=a(O),S=n(48),j=n(14),R=a(j),A=n(186),D=r(A),F=n(484),I=a(F),V=n(43),L=n(124),H=r(L),B=n(665),z=r(B),q=n(7),U=a(q),W=n(940),Y=a(W),$=M["default"].createElement(D.Socials,null),Q=function(e){function t(){var e;(0,_["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,b["default"])(this,(e=t.__proto__||(0,h["default"])(t)).call.apply(e,[this].concat(r)));return o.state=o.getDefaultState(o.props),o.moments=(0,P["default"])(o.props,"article.online_content.messages",[]).reverse().map(function(e,t){return(0,f["default"])({},e,{id:t})}).reverse(),o.importants=o.moments.filter(function(e){return e.important}),o.handleAsideClick=o.handleAsideClick.bind(o),o.mountSocket=o.mountSocket.bind(o),o.unmountSocket=o.unmountSocket.bind(o),o.mountPinger=o.mountPinger.bind(o),o.unmountPinger=o.unmountPinger.bind(o),o.handleShowMore=o.handleShowMore.bind(o),o.updateImportants=o.updateImportants.bind(o),o.handleCommentsAppearInViewport=o.handleCommentsAppearInViewport.bind(o),o.triggerCommentShow=o.triggerCommentShow.bind(o),o.dropCommentTrigger=o.dropCommentTrigger.bind(o),o.getRootDOMNode=o.getRootDOMNode.bind(o),o}return(0,E["default"])(t,e),(0,y["default"])(t,[{key:"componentDidMount",value:function(){this.mountPinger();var e=this.props.location,t=(0,P["default"])(e,"query.id");t&&this.handleAsideClick(t,!0)}},{key:"componentWillUnmount",value:function(){this.unmountPinger()}},{key:"getDefaultState",value:function(e){return{commentTrigger:!1,activeIndex:-1,stack:[],stackCount:0,sorting:1,done:(0,P["default"])(e,"online_content.done",!1)}}},{key:"componentWillUpdate",value:function(e,t){t.sorting!==this.state.sorting&&(this.moments.reverse(),
this.updateImportants()),e.article.id!==this.props.article.id&&(this.unmountPinger(),this.mountPinger(e),this.setState(this.getDefaultState()),this.moments=(0,P["default"])(this.props,"article.online_content.messages",[]).reverse().map(function(e,t){return(0,f["default"])({},e,{id:t})}),this.importants=this.moments.filter(function(e){return e.important}))}},{key:"unmountSocket",value:function(){this.socket=null}},{key:"unmountPinger",value:function(){clearInterval(this.$interval)}},{key:"mountPinger",value:function(e){var t=this;if(!this.state.done){var n=e||this.props;this.$interval=setInterval(function(){var e=(0,k["default"])(t.moments),r=new c["default"](function(t,r){I["default"].get(H.root+"/"+H.endpoints.online).query({count:!0,postId:n.article.id,dtime:e?e.dtime:""}).end(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.body;return e?r(a||e):t(a)})});r.then(function(e){var n=(0,P["default"])(e,"count",0);n&&t.setState({stackCount:n})})["catch"](function(e){e&&e.errors&&e.errors.length&&"Трансляция не найдена"===(0,k["default"])(e.errors)&&t.unmountPinger()})},6e4)}}},{key:"mountSocket",value:function(e){var t=this,n=e||this.props;this.socket=window.ActionCable.createConsumer("wss://staging-content.novayagazeta.ru/cable").subscriptions.create({channel:"OnlineMessagesChannel",post_id:n.article.id},{connected:function(){t.setState({connected:!0})},received:function(e){if((0,P["default"])(e,"done",!1))return setState({done:!0});var n=(0,P["default"])(t.moments,"length",0)+(0,P["default"])(t.state,"stack.length",0),r=[].concat((0,u["default"])(t.state.stack),[(0,f["default"])({},e,{id:n})]);t.setState({stack:r})}})}},{key:"handleShowMore",value:function(){var e=this,t=(0,k["default"])(this.moments),n=new c["default"](function(n,r){I["default"].get(H.root+"/"+H.endpoints.online).query({postId:e.props.article.id,dtime:t?t.dtime:""}).end(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.body;return e?r(a||e):n(a)})});n.then(function(t){var n=(0,P["default"])(t,"items",[]).reverse();n.length&&!function(){var t=e.moments.length;e.moments=[].concat((0,u["default"])(n.map(function(e,n){return(0,f["default"])({},e,{id:t+n})})),(0,u["default"])(e.moments)),e.updateImportants(),e.setState({stackCount:0})}()})["catch"](function(t){t&&t.errors&&t.errors.length&&"Трансляция не найдена"===(0,k["default"])(t.errors)&&e.unmountPinger()})}},{key:"updateImportants",value:function(){this.importants=this.moments.filter(function(e){return e.important})}},{key:"handleSwapSorting",value:function(e){this.setState({sorting:e?1:-1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeIndex,r=t.stackCount,a=t.done,o=this.props.article,l=r,u=this.moments.reduce(function(e,t){return Math.max(e,t.dtime)},0);return M["default"].createElement("div",{className:Y["default"].root,ref:this.getRootDOMNode},M["default"].createElement(R["default"],{block:!0},M["default"].createElement(z.Preview,(0,f["default"])({},o,{refresh:u})),M["default"].createElement(R["default"],{block:!0},M["default"].createElement(D.Header,(0,f["default"])({className:Y["default"].header},(0,f["default"])({},o,{title:void 0}),{handleButtonClick:this.triggerCommentShow})),M["default"].createElement(D.Wrapper,{className:Y["default"].wrapper},$,M["default"].createElement(D.Content,(0,f["default"])({},(0,f["default"])({},o,{body:void 0}),{className:Y["default"].content,onCommentsAppearInViewport:this.handleCommentsAppearInViewport,commentTrigger:this.state.commentTrigger,location:this.props.location,justAdded:this.props.justAdded,dropCommentTrigger:this.dropCommentTrigger}),M["default"].createElement(z.Aside,{moments:this.importants,activeIndex:n,className:Y["default"].mobile,onClick:this.handleAsideClick}),l?M["default"].createElement("div",{className:Y["default"].notifier,onClick:this.handleShowMore},"показать "+l+" "+(0,V.declOfNum)(l,["обновление","обновления","обновлений"])):null,a&&M["default"].createElement("div",{className:Y["default"].sorting},M["default"].createElement("span",{className:(0,U["default"])((0,i["default"])({},Y["default"].active,this.state.sorting===-1)),onClick:this.handleSwapSorting.bind(this,!1)},"в хронологическом порядке"),M["default"].createElement("span",{className:(0,U["default"])((0,i["default"])({},Y["default"].active,1===this.state.sorting)),onClick:this.handleSwapSorting.bind(this,!0)},"в обратном порядке")),M["default"].createElement("div",null,this.moments.map(function(t,r){return M["default"].createElement(z.Moment,(0,f["default"])({},t,{ref:t.id,key:t.id,isActive:n===t.id,amount:e.moments.length}))}))),M["default"].createElement(z.Aside,{moments:this.importants,activeIndex:n,className:Y["default"].desktop,onClick:this.handleAsideClick})))))}},{key:"handleAsideClick",value:function(e,t){var n=this,r=this.state.activeIndex;e!==r&&!function(){var r=document.documentElement,a=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),o=x["default"].findDOMNode(n.refs[e]),i=o.getBoundingClientRect().top+a,l=i-a-120;t||n.setState({activeIndex:e}),(0,S.animate)(300,"ease",function(e){window.scrollTo(0,a+l*e);var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!0,!0,window,1),window.dispatchEvent(t)})}()}},{key:"handleCommentsAppearInViewport",value:function(e,t){this.props.article.comments&&!t||this.props.loadComments(this.props.article.id,this.props.article.code,void 0,void 0,e||t)}},{key:"getRootDOMNode",value:function(e){if(e&&!this.$root){var t=x["default"].findDOMNode(e);t&&(this.$root=t)}}},{key:"triggerCommentShow",value:function(){var e=this.$root.querySelector(".comments_block");if(e){var t=document.documentElement,n=(window.pageYOffset||t.scrollTop)-(t.clientTop||0);(0,S.scrollTo)(e.getBoundingClientRect().top+n)}this.setState({commentTrigger:!0})}},{key:"dropCommentTrigger",value:function(){this.setState({commentTrigger:!1})}}]),t}(T.Component);Q.displayName="Screens/Online",t["default"]=Q},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(165),b=a(g),w=n(1),E=a(w),C=n(139),k=a(C),N=n(17),P=a(N),T=n(48),M=n(14),O=a(M),x=n(197),S=r(x),j=n(186),R=r(j),A=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.handleCommentsAppearInViewport=o.handleCommentsAppearInViewport.bind(o),o.triggerCommentShow=o.triggerCommentShow.bind(o),o.dropCommentTrigger=o.dropCommentTrigger.bind(o),o.getRootDOMNode=o.getRootDOMNode.bind(o),o.state={commentTrigger:!1},o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props.article,t=(0,y["default"])(this.props,"article.issue");return E["default"].createElement("div",{ref:this.getRootDOMNode},(0,P["default"])(e.type,{video:function(){return E["default"].createElement(S.Photo,e)},photo:function(){return E["default"].createElement(S.Photo,e)}},function(){return e.picture?E["default"].createElement(S.Article,e):E["default"].createElement(S.Photo,e)}),t?E["default"].createElement(R.Issue,t):null,E["default"].createElement(O["default"],{block:!0},E["default"].createElement(R.Header,(0,i["default"])({},(0,b["default"])(e,"title"),{handleButtonClick:this.triggerCommentShow})),E["default"].createElement(R.Wrapper,null,E["default"].createElement(R.Socials,this.props),E["default"].createElement(R.Content,(0,i["default"])({},e,{location:this.props.location,justAdded:this.props.justAdded,onCommentsAppearInViewport:this.handleCommentsAppearInViewport,commentTrigger:this.state.commentTrigger,dropCommentTrigger:this.dropCommentTrigger})),"photo"===e.type?null:E["default"].createElement(R.Aside,e))),E["default"].createElement(R.RelatedRelap,(0,i["default"])({location:this.props.location},e)))}},{key:"handleCommentsAppearInViewport",value:function(e,t){this.props.article.comments&&!t||this.props.loadComments(this.props.article.id,this.props.article.code,void 0,void 0,e||t)}},{key:"getRootDOMNode",value:function(e){if(e&&!this.$root){var t=k["default"].findDOMNode(e);t&&(this.$root=t)}}},{key:"triggerCommentShow",value:function(){var e=this.$root.querySelector(".comments_block");if(e){var t=document.documentElement,n=(window.pageYOffset||t.scrollTop)-(t.clientTop||0);(0,T.scrollTo)(e.getBoundingClientRect().top+n)}this.setState({commentTrigger:!0})}},{key:"dropCommentTrigger",value:function(){this.setState({commentTrigger:!1})}},{key:"componentDidMount",value:function(){(0,y["default"])(this.props,"article.code")&&this.props.shares(window.location.href,this.props.article.code)}}]),t}(w.Component);A.displayName="Screens/Article/Post",t["default"]=A},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(1),b=a(g),w=n(139),E=a(w),C=n(611),k=a(C),N=n(14),P=a(N),T=n(186),M=r(T),O=n(48),x=n(883),S=a(x),j=b["default"].createElement(M.Aside,null),R=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.handleCommentsAppearInViewport=o.handleCommentsAppearInViewport.bind(o),o.triggerCommentShow=o.triggerCommentShow.bind(o),o.dropCommentTrigger=o.dropCommentTrigger.bind(o),o.getRootDOMNode=o.getRootDOMNode.bind(o),o.state={commentTrigger:!1},o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props.article,t={id:(0,y["default"])(e,"id"),title:(0,y["default"])(e,"title"),options:(0,y["default"])(e,"quiz_content.answers",[])};return b["default"].createElement("div",{className:S["default"].root,ref:this.getRootDOMNode},b["default"].createElement(P["default"],{block:!0},b["default"].createElement(M.Header,{title:(0,y["default"])(e,"title"),type:(0,y["default"])(e,"type"),dtime:(0,y["default"])(e,"dtime"),comment_count:(0,y["default"])(e,"comments_count"),views_count:(0,y["default"])(e,"views_count"),vote_count:(0,y["default"])(e,"quiz_content.votes_count"),handleButtonClick:this.triggerCommentShow,hideShares:!0}),b["default"].createElement(M.Wrapper,null,b["default"].createElement(M.Content,{comments:(0,y["default"])(e,"comments"),justAdded:this.props.justAdded,tags:(0,y["default"])(e,"tags"),related_items:(0,y["default"])(e,"related_items"),location:this.props.location,onCommentsAppearInViewport:this.handleCommentsAppearInViewport,commentTrigger:this.state.commentTrigger,dropCommentTrigger:this.dropCommentTrigger,offset:!0},b["default"].createElement(k["default"],{mode:"simple",content:t})),j),b["default"].createElement(M.RelatedRelap,(0,i["default"])({location:this.props.location},e))))}},{key:"handleCommentsAppearInViewport",value:function(e,t){this.props.article.comments&&!t||this.props.loadComments(this.props.article.id,this.props.article.code,void 0,void 0,e||t)}},{key:"getRootDOMNode",value:function(e){if(e&&!this.$root){var t=E["default"].findDOMNode(e);t&&(this.$root=t)}}},{key:"triggerCommentShow",value:function(){var e=this.$root.querySelector(".comments_block");if(e){var t=document.documentElement,n=(window.pageYOffset||t.scrollTop)-(t.clientTop||0);(0,O.scrollTo)(e.getBoundingClientRect().top+n)}this.setState({commentTrigger:!0})}},{key:"dropCommentTrigger",value:function(){this.setState({commentTrigger:!1})}}]),t}(g.Component);R.displayName="Screens/Quizzes/Quiz",t["default"]=R},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(1),y=a(v),g=n(7),b=a(g),w=n(14),E=a(w),C=n(13),k=r(C),N=n(941),P=a(N),T=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||(0,u["default"])(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.activeIndex,n=e.picture,r=e.title,a=e.subtitle,o=e.views_count,l=e.dtime;return y["default"].createElement("section",{className:P["default"].root,style:n?{backgroundImage:"url('"+n+"')"}:{}},y["default"].createElement("div",{className:P["default"].gradient},y["default"].createElement(E["default"],{block:!0,className:P["default"].container},y["default"].createElement("div",{className:P["default"].wrapper},y["default"].createElement("h2",{className:P["default"].caption},"Тест"),y["default"].createElement("h1",{className:P["default"].title},r),a?y["default"].createElement("p",{className:P["default"].description},a):null,y["default"].createElement(k.Footer,{className:P["default"].footer},y["default"].createElement(k.DateTime,{dateTime:l}),y["default"].createElement(k.Views,{views:o})),y["default"].createElement("button",{type:"button",className:(0,b["default"])(P["default"].button,(0,i["default"])({},P["default"].hidden,0!==t)),onClick:this.props.onStart},"Начать тест")))))}}]),t}(v.Component);T.displayName="Screens/Test/_/Preview",t["default"]=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(8),l=r(i),u=n(2),s=r(u),c=n(3),d=r(c),f=n(4),p=r(f),h=n(6),m=r(h),_=n(5),v=r(_),y=n(554),g=r(y),b=n(1),w=r(b),E=n(7),C=r(E),k=n(942),N=r(k),P=function(e){function t(){var e;(0,d["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,m["default"])(this,(e=t.__proto__||(0,s["default"])(t)).call.apply(e,[this].concat(r)));return o.handleClick=o.handleClick.bind(o),o}return(0,v["default"])(t,e),(0,p["default"])(t,[{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.description,a=t.value,o=t.choosen,i=t.answer,u=(0,C["default"])(N["default"].option,(e={},(0,l["default"])(e,N["default"].correct,a===i&&null!==o),(0,l["default"])(e,N["default"].wrong,a!==i&&a===o),e));return w["default"].createElement("li",{className:u,onClick:this.handleClick},w["default"].createElement("span",null,n),r&&(a===i&&null!==o||a!==i&&a===o)?w["default"].createElement("small",null,r):null)}},{key:"handleClick",value:function(){this.props.onAnswer(this.props.value)}}]),t}(b.Component),T=function(e){function t(){var e;(0,d["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,m["default"])(this,(e=t.__proto__||(0,s["default"])(t)).call.apply(e,[this].concat(r)));return o.state={choosen:null},o.handleAnswer=o.handleAnswer.bind(o),o.handleButtonClick=o.handleButtonClick.bind(o),o}return(0,v["default"])(t,e),(0,p["default"])(t,[{key:"render",value:function(){var e,t=this,n=this.state.choosen,r=this.props,a=r.picture,i=r.index,u=r.count,s=r.title,c=r.answers,d=r.activeIndex,f=(0,g["default"])(c,function(e){var t=e.correct;return t===!0}),p=(0,C["default"])(N["default"].root,"test-question",(e={},(0,l["default"])(e,N["default"].correct,f===n),(0,l["default"])(e,N["default"].wrong,null!==n&&f!==n),e));return w["default"].createElement("div",{className:p},w["default"].createElement("header",{className:N["default"].header},w["default"].createElement("h3",{className:N["default"].index},i+"/"+u),w["default"].createElement("h2",{className:N["default"].title},s)),a?w["default"].createElement("figure",{className:N["default"].figure,style:{backgroundImage:"url('"+a+"')"}}):null,w["default"].createElement("ul",{className:N["default"].container},c.map(function(e,r){return w["default"].createElement(P,(0,o["default"])({onAnswer:t.handleAnswer,choosen:n,answer:f,value:r,key:r},e))})),null!==n&&d===i?w["default"].createElement("button",{onClick:this.handleButtonClick,type:"button",className:N["default"].button},i===u?"Показать результат":"Дальше"):null)}},{key:"handleAnswer",value:function(e){null===this.state.choosen&&this.setState({choosen:e})}},{key:"handleButtonClick",value:function(){this.props.onNext(this.state.choosen===(0,g["default"])(this.props.answers,function(e){var t=e.correct;return t===!0}))}}]),t}(b.Component);T.displayName="Screens/Test/_/Question",t["default"]=T},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=a(o),l=n(3),u=a(l),s=n(4),c=a(s),d=n(6),f=a(d),p=n(5),h=a(p),m=n(27),_=a(m),v=n(1),y=a(v),g=n(7),b=a(g),w=n(78),E=a(w),C=n(54),k=r(C),N=n(884),P=a(N),T=function(e){function t(){var e;(0,u["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,f["default"])(this,(e=t.__proto__||(0,i["default"])(t)).call.apply(e,[this].concat(r)));return o.state={path:""},o}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"render",value:function(){var e=this,t=this.state.path;return y["default"].createElement("ul",{className:P["default"].root},k.post.socials.map(function(n,r){var a=n.icon,o=n.url,i=n.title;return y["default"].createElement("li",{className:P["default"].item,key:r},y["default"].createElement("a",{className:P["default"].link,onClick:(0,_["default"])(e.share,o+t,i),href:o+t},y["default"].createElement(E["default"],{type:a,className:(0,b["default"])(P["default"].icon,P["default"][a])})))}))}},{key:"componentDidMount",value:function(){this.setState({path:window.location.href})}},{key:"share",value:function(e,t,n){n.preventDefault(),window.open(e,t,"width=626,height=436")}}]),t}(v.Component);t["default"]=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(3),l=r(i),u=n(4),s=r(u),c=n(6),d=r(c),f=n(5),p=r(f),h=n(1),m=r(h),_=n(76),v=r(_),y=n(7),g=r(y),b=n(671),w=r(b),E=n(943),C=r(E),k=m["default"].createElement(w["default"],null),N=function(e){function t(){return(0,l["default"])(this,t),(0,d["default"])(this,(t.__proto__||(0,o["default"])(t)).apply(this,arguments))}return(0,p["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.answered,n=e.count,r=e.result,a=e.onRepeat;return m["default"].createElement("div",{className:(0,g["default"])(C["default"].root,"test-result")},m["default"].createElement("h3",{className:C["default"].caption},"Ваш результат"),m["default"].createElement("h2",{className:C["default"].result},t+"/"+n),m["default"].createElement("p",{className:C["default"].text},r.description),m["default"].createElement("button",{type:"button",className:C["default"].button,onClick:a},"Пройти еще раз"),k)}},{key:"componentDidMount",value:function(){v["default"].replace({pathname:window.location.pathname,query:{share_result:this.props.result.code}})}}]),t}(h.Component);N.displayName="Screens/Test/_/Result",t["default"]=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Result=t.Question=t.Preview=void 0;var a=n(669),o=r(a),i=n(670),l=r(i),u=n(672),s=r(u);t.Preview=o["default"],t.Question=l["default"],t.Result=s["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=a(o),l=n(8),u=a(l),s=n(2),c=a(s),d=n(3),f=a(d),p=n(4),h=a(p),m=n(6),_=a(m),v=n(5),y=a(v),g=n(11),b=a(g),w=n(191),E=a(w),C=n(1),k=a(C),N=n(7),P=a(N),T=n(14),M=a(T),O=n(48),x=n(186),S=r(x),j=n(673),R=r(j),A=n(944),D=a(A),F=k["default"].createElement(S.Socials,null),I=function(e){function t(){var e;(0,f["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,_["default"])(this,(e=t.__proto__||(0,c["default"])(t)).call.apply(e,[this].concat(r)));return o.state={activeIndex:0,answered:0},o.getRootDOMNode=o.getRootDOMNode.bind(o),o.handleStart=o.handleStart.bind(o),o.handleNext=o.handleNext.bind(o),o.handleRepeat=o.handleRepeat.bind(o),o}return(0,y["default"])(t,e),(0,h["default"])(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.activeIndex,r=t.answered,a=this.props,o=a.article,l=a.article.test_content,s=(0,b["default"])(l,"questions",[]),c=(0,b["default"])(l,"results",[]);return k["default"].createElement("div",{className:(0,P["default"])(D["default"].root,(0,u["default"])({},D["default"].initial,0===n)),ref:this.getRootDOMNode},k["default"].createElement(R.Preview,(0,i["default"])({},o,{activeIndex:n,onStart:this.handleStart})),n?k["default"].createElement(M["default"],{block:!0,className:D["default"].container},k["default"].createElement(S.Wrapper,{className:D["default"].wrapper},F,k["default"].createElement(S.Content,{className:D["default"].content,hideShares:!0,hideComments:!0,justAdded:this.props.justAdded,comments:this.props.comments,onCommentsAppearInViewport:this.handleCommentsAppearInViewport},s.slice(0,n).map(function(t,r){return k["default"].createElement(R.Question,(0,i["default"])({key:r,index:r+1,activeIndex:n,count:s.length,onNext:e.handleNext},t))}),n>s.length?k["default"].createElement(R.Result,{result:(0,E["default"])(c,function(e){var t=e.min,n=e.max;return r>=t&&r<=n})||c[0],answered:r,count:s.length,onRepeat:this.handleRepeat}):null),k["default"].createElement(S.Aside,{className:D["default"].aside}))):null)}},{key:"getRootDOMNode",value:function(e){e&&!this.$root&&(this.$root=e)}},{key:"handleStart",value:function(){this.setState({activeIndex:1},function(){return(0,O.scrollTo)(window.innerHeight)})}},{key:"handleCommentsAppearInViewport",value:function(e,t){this.props.article.comments&&!t||this.props.loadComments(this.props.article.id,this.props.article.code,void 0,void 0,e||t)}},{key:"handleNext",value:function(e){var t=this,n=this.state.answered;this.setState({activeIndex:this.state.activeIndex+1,answered:e?n+1:n},function(){var e=t.$root.querySelector(".test-question:last-child")||t.$root.querySelector(".test-result");if(e){var n=document.documentElement,r=(window.pageYOffset||n.scrollTop)-(n.clientTop||0);(0,O.scrollTo)(e.getBoundingClientRect().top+r-60)}})}},{key:"handleRepeat",value:function(){var e=this;(0,O.scrollTo)(0).then(function(){return e.setState({activeIndex:0,answered:0})})}}]),t}(C.Component);I.displayName="Screens/Article/Test",t["default"]=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LecturePlaylist=t.Online=t.Quiz=t.Test=t.Post=t.Cinema=void 0;var a=n(660),o=r(a),i=n(667),l=r(i),u=n(674),s=r(u),c=n(668),d=r(c),f=n(666),p=r(f),h=n(661),m=r(h);t.Cinema=o["default"],t.Post=l["default"],t.Test=s["default"],t.Quiz=d["default"],t.Online=p["default"],t.LecturePlaylist=m["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Article=void 0;var o=n(44),i=a(o),l=n(2),u=a(l),s=n(3),c=a(s),d=n(4),f=a(d),p=n(6),h=a(p),m=n(5),_=a(m),v=n(11),y=a(v),g=n(1),b=a(g),w=n(25),E=n(132),C=r(E),k=n(355),N=r(k),P=n(133),T=r(P),M=n(502),O=r(M),x=n(140),S=n(675),j=r(S),R=t.Article=function(e){function t(){var e;(0,c["default"])(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,h["default"])(this,(e=t.__proto__||(0,u["default"])(t)).call.apply(e,[this].concat(r)));return o.state={channel:null},o}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){return"online"===(0,y["default"])(this.props,"article.type")?b["default"].createElement(j.Online,this.props):"lecture_playlist"===(0,y["default"])(this.props,"article.type")?b["default"].createElement(j.LecturePlaylist,this.props):"cinema"===(0,y["default"])(this.props,"article.type")?b["default"].createElement(j.Cinema,this.props):"quiz"===(0,y["default"])(this.props,"article.type")?b["default"].createElement(j.Quiz,this.props):(0,y["default"])(this.props.article,"test_content.questions.length")?b["default"].createElement(j.Test,this.props):b["default"].createElement(j.Post,this.props)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.count,n=e.article;t("post",(0,y["default"])(n,"id"),(0,y["default"])(n,"code"))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.count,r=t.article,a=e.article,o=(0,y["default"])(r,"id"),i=(0,y["default"])(r,"code");o!==(0,y["default"])(a,"id")&&n("post",o,i)}}]),t}(g.Component);R.displayName="Screens/Article",t["default"]=(0,x.provideHooks)({fetch:function(e){var t=e.dispatch,n=e.location,r=n.pathname,a=n.query,o=e.params;return i["default"].all([t(C.actions.fetch(o,!1,a)),t(N.actions.fetch())]).then(function(){return t(T.actions.article({code:o.year+"/"+o.month+"/"+o.day+"/"+o.code,pathname:r}))})}})((0,w.connect)(function(e,t){var n=e.articles,r=t.params;return{article:n.entities[r.year+"/"+r.month+"/"+r.day+"/"+r.code],justAdded:n.justAdded}},function(e){return{count:function(){var t;return e((t=C.actions).count.apply(t,arguments))},shares:function(t,n){return e(C.actions.shares.fetch(t,n))},loadComments:function(){var t;return e((t=C.actions.comments).load.apply(t,arguments))},loadSchedule:function(){var t;return e((t=O.actions).load.apply(t,arguments))}}})(R))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={root:"_1Zxt7",simple:"_19axX",container:"_2MrD7",caption:"_2_RbY",title:"_3d-Rh",options:"_1Ru2N",option:"_25RL6",label:"_2wc56",submitted:"_29Vhe",input:"oavtU",graph:"nGR7S",radio:"_3yoQd",value:"_31pYN",footer:"_1TZp2",percent:"_1eFSi","submit-container":"_1r-zI",voters:"_33ONr",submit:"_1fjTF",link:"_3nQsO",all:"KBeAR"}},,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={root:"_2liG4"}},function(e,t){e.exports={root:"SMSW9",item:"_3IWZC",link:"_9IJEz",icon:"_2KHte",Facebook:"Np7Je",Vkontakte:"_3Cjf-",Odnoklassniki:"_3ZbYW",Twitter:"Y--jD",Google:"_2N16D"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={root:"_1W2Un",header:"_3b0ef",item:"_3lNYG",active:"_2g4Qt",container:"_2JrZd",time:"_36fdI",title:"UceCv",list:"_3z8FW",open:"VvSZP"}},function(e,t){e.exports={root:"Z2At3",active:"_2Aokl",share:"_2DEO3",time:"_1cZJd",title:"R2F9J",text:"_3Zr6p",big:"_3fus_",imageContainer:"r0Vjg",videoContainer:"_2wusa",video:"_2Arv7",image:"_2I6V1",embeddedInnerPost:"E-rqR",embeddedImage:"_2NcHT",embeddedContent:"_1i8IM",embeddedTitle:"_22Daz",hostname:"_1ouK5"}},function(e,t){e.exports={root:"_1bmhQ",container:"_2wi2C",image:"_1HA0H",info:"_3ler0",type:"_3BQMq",refresh:"_3FOpl",title:"_3mQBw",aside:"_38ZLs"}},function(e,t){e.exports={root:"_3T6eJ",header:"_1ORSu",mobile:"_3RdxY",notifier:"_3ZrI5",sorting:"_3XlCL",active:"_1vD-4",desktop:"iIk6Y",wrapper:"_1iQAc",content:"_21oic"}},function(e,t){e.exports={root:"_32YBd",gradient:"_2pKdc",container:"_2PMhM",wrapper:"_2ehs2",caption:"MkpTy",title:"hdqd6",description:"_3HtCc",footer:"_2Hsjh",button:"_1nIya",hidden:"_5C7BQ"}},function(e,t){e.exports={root:"_2atu5",header:"_3syRg",correct:"_2e8IC",wrong:"_2PQ-Q",figure:"_1LnIh",index:"_23CAj",title:"_2QXRj",container:"MF-IK",option:"_31qiu",button:"_1n2mL"}},function(e,t){e.exports={root:"_1a9dt",caption:"J3QAJ",result:"_28rkM",text:"_33SlL",button:"_3q6VK"}},function(e,t){e.exports={root:"_131sV",aside:"_1HerK",container:"_2i0sY",initial:"_1-VE9",wrapper:"_2gMda",content:"KiSfi"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=void 0,r=new Promise(function(r,a){var o=(0,i["default"])(e,t,function(e,t){e&&a(e),r(t)});n=function(){o(),a(new Error("Canceled"))}});return{promise:r,cancel:n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(537),i=r(o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}var a=n(595),o=n(26);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),a=n.length>0?n.join("="):void 0;r=decodeURIComponent(r),a=void 0===a?null:decodeURIComponent(a),void 0===t[r]?t[r]=a:Array.isArray(t[r])?t[r].push(a):t[r]=[t[r],a]}),t):t},t.stringify=function(e,t){var n={encode:!0,strict:!0};return t=o(n,t),e?Object.keys(e).sort().map(function(n){var a=e[n];if(void 0===a)return"";if(null===a)return r(n,t);if(Array.isArray(a)){var o=[];return a.slice().forEach(function(e){void 0!==e&&(null===e?o.push(r(n,t)):o.push(r(n,t)+"="+r(e,t)))}),o.join("&")}return r(n,t)+"="+r(a,t)}).filter(function(e){return e.length>0}).join("&"):""}},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(1011),p=r(f),h=n(1098),m=r(h),_=function(e){function t(){var e,n,r,a;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),v.call(r),a=n,i(r,a)}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;if(window.instgrm||document.getElementById("react-instagram-embed-script"))this.fetchEmbed(this.getQueryParams(this.props));else{var t=document.createElement("script");t.async=t.defer=!0,t.src="//platform.instagram.com/en_US/embeds.js",t.id="react-instagram-embed-script",document.body.appendChild(t),this.checkAPI().then(function(){return e.fetchEmbed(e.getQueryParams(e.props))})}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.url,r=t.hideCaption,a=t.maxWidth,o=t.containerTagName;e.url===n&&e.hideCaption===r&&e.maxWidth===a&&e.containerTagName===o||(this.jsonp.cancel(),
this.fetchEmbed(this.getQueryParams(e)))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.url,a=n.hideCaption,o=n.maxWidth,i=n.containerTagName,l=n.onLoading,u=n.onSuccess,s=n.onFailure,c=this.state.__html;return e.url!==r||e.hideCaption!==a||e.maxWidth!==o||e.containerTagName!==i||e.onLoading!==l||e.onSuccess!==u||e.onFailure!==s||t.__html!==c}},{key:"render",value:function(){return d["default"].createElement(this.props.containerTagName,u({dangerouslySetInnerHTML:{__html:this.state.__html}},this.omitComponentProps()))}},{key:"omitComponentProps",value:function(){var e=this.props,t=(e.url,e.hideCaption,e.maxWidth,e.containerTagName,e.onLoading,e.onSuccess,e.onFailure,a(e,["url","hideCaption","maxWidth","containerTagName","onLoading","onSuccess","onFailure"]));return t}},{key:"checkAPI",value:function(){var e=this;return new Promise(function(t){!function n(e){e._timer=setTimeout(function(){window.instgrm?(clearTimeout(e._timer),t()):n(e)},20)}(e)})}},{key:"fetchEmbed",value:function(e){this.jsonp=(0,p["default"])("https://api.instagram.com/oembed/?"+e),this.props.onLoading&&this.props.onLoading(),this.jsonp.promise.then(this.handleFetchSuccess)["catch"](this.handleFetchFailure)}},{key:"getQueryParams",value:function(e){var t=e.url,n=e.hideCaption,r=e.maxWidth;return m["default"].stringify({url:t,hidecaption:n,maxwidth:"number"==typeof r&&r>=320?r:void 0,omitscript:!0})}}]),t}(c.Component);_.defaultProps={hideCaption:!1,containerTagName:"div"};var v=function(){var e=this;this.state={__html:null},this.handleFetchSuccess=function(t){e.props.onSuccess&&e.props.onSuccess(t),e.setState({__html:t.html},function(){return window.instgrm.Embeds.process()})},this.handleFetchFailure=function(){var t;clearTimeout(e._timer),e.props.onFailure&&(t=e.props).onFailure.apply(t,arguments)},this.cancel=function(){return e.jsonp.cancel()}};t["default"]=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Feature=void 0;var o=n(r),i=a(o);t.Feature=i["default"]}]);