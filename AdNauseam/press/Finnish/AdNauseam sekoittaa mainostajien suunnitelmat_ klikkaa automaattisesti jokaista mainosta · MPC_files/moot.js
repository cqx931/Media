/*

	Muut v1.14.0 (beta) | Oct 22, 2015

	"Real-time commenting or forums right on your site."

	(c) 2015 Muut Inc | muut.com

*/!function(e){function t(t){if("undefined"!=typeof jQuery){var o=jQuery().jquery.split(".");return Number(o[0])>1||Number(o[1])>6?t(jQuery):jQuery(".moot, .muut").text("Muut requires jQuery 1.7+")}e.write("<style>a.moot { display: none }</style>");var n=e.createElement("script");n.onload=n.onreadystatechange=function(){var e=n.readyState;(void 0===e||/complete|loaded/.test(e))&&t(jQuery)},n.src="//code.jquery.com/jquery-1.11.1.min.js";var i=e.getElementsByTagName("head")[0];i.insertBefore(n,i.firstChild)}t(function(e){e(".moot, .muut")[0]&&!e("link[href*='/moot.css']")[0]&&e("head").append(e("<link/>",{href:"https://cdn.muut.com/1.14.0/moot.css",rel:"stylesheet",type:"text/css"})),!function(e,t){"use strict";function o(e,o){var n={},i=[].slice;return e=e||{},t.extend(e,{on:function(o,i,a){if(o=o.split(" "),t.isFunction(i)&&(a=i,i=0),t.isFunction(a)){for(var r,l=0,s=o.length;s>l;l++)r=t.trim(o[l]),(n[r]=n[r]||[]).push(a),(s>1||"*"==o)&&(a.typed=!0);i&&(a.typed?a("inline",i):a(i))}return e},off:function(o,i){if("*"==o)return n={};o=o.split(" ");for(var a,r=0;r<o.length;r++)if(a=t.trim(o[r]),i){for(var l=n[a]||[],s=-1,c=0,u=l.length;u>c;c++)if(l[c]===i||l[c].listener===i){s=c;break}s>=0&&l.splice(s,1)}else n[a]=[];return e},one:function(o,n){function i(){e.off(o,n),n.apply(e,arguments)}return t.isFunction(n)&&(i.listener=n,e.on(o,i)),e},emit:function(t){var o=i.call(arguments,1),a=n[t]||[],r=n["*"];r&&(a=a.concat(r));for(var l,s,c=0,u=a.length;u>c;++c)if(l=a[c],l&&(s=l.typed?[t].concat(o):o,l.apply(e,s)===!1))return e;return e}}),t.each(o||[],function(o,n){e[n]=function(o){return t.isFunction(o)?e.on(n,o):e.emit.apply(e,[n].concat(i.call(arguments)))}}),e}function n(n){function i(e,o,n){var i=new FormData;e.params[0];e.transport="ajax",t.each(o,function(e,t){i.append(t.altname||t.name,t)}),i.append("jsonrpc",JSON.stringify(e));var r=new XMLHttpRequest;r.onload=function(e){a(JSON.parse(e.target.response))},n&&(r.onprogress=function(e){n.progress(e)}),r.open("POST",m),r.send(i)}function a(e){if(!e)return s.emit("heartbeat");if("string"==typeof e&&(e=JSON.parse(e)),e.params&&"ping"==e.params[0])return s.emit("heartbeat");if(t.isArray(e))return t.each(e,function(e,t){a(t)});s.emit("receive",e),e.session&&(c=e.session,t.cookie2(T,c.sessionId)),n.pollUrl=n.pollUrl||e.pollUrl,l||(s.time_offset=new Date-1e3*e.server_time,e.result&&s.ready(e.result),l=!0);var o=p[e.id],i=void 0!==e.error;o?(o.always(e.result,e.error),i||o.done(e.result)):"emit"==e.method&&u.emit.apply(null,e.params),i&&(o&&o.fail(e.error,e.data),s.error(e.error,e.data))}if(t.isFunction(n))return q.push(n);"string"==typeof n&&(n={url:n});var r,l,s=o(this,["ready","error","close","reconnect","destroy"]),c=n.session||{sessionId:t.cookie2(T)},u=o({}),d=0,p={};s.conf=n=t.extend({secure:"https"==(n.url.protocol||n.url.slice(0,5)),transports:"upgrade,xdomain",pollUrl:null},n);var m=n.url;if("string"==typeof m&&(m=m.split(":"),m={hostname:m[1].slice(2),port:m[2]}),443==m.port&&(m.port=80),m="http"+(n.secure?"s":"")+"://"+m.hostname+(m.port&&80!=m.port?":"+m.port:""),t.each(n.transports.split(","),function(e,t){var o=j[t];!r&&o&&o.supported&&(r=new o(m,s,a),s.transport=t)}),!r)throw Error("json-rpc: no support for "+n.transports);s.event=function(e,t){return u.on(e,t),s},s.session=function(){return t.extend({},c)},s.reload=function(){return d=0,r.destroy(),r.ping(),s},s.poll=function(){if(n.poll!==!1){var e=n.pollUrl;e&&(-1==e.indexOf("://")&&(e=m+e),r.poll&&r.poll(e,t.extend({},c,{transport:r.name})))}},s.log=function(e,o){var n={message:e,data:t.extend(o,{url:location.href,ua:navigator.userAgent})};t.post(m,JSON.stringify({method:"log",jsonrpc:"2.1.0",params:[n],session:c}),t.noop,"json")},window.mootlog=s.log,s.call=function(n){if(s.is_closed||s.is_destroyed)throw Error("connection "+(s.is_closed?"closed":"destroyed"));var a,l=[].slice.call(arguments),u=l.slice(-1)[0],m={method:n,params:l.slice(1,-1)};if(t.isFunction(u)?(a=o({},["done","fail","always","progress"]).done(u),m.id="#"+ ++d,p[m.id]=a):(void 0!==u&&(m.params=l.slice(1)),u=void 0),m.params.length||delete m.params,m.session=c,m.jsonrpc="2.1.0",m.transport=s.transport,s.emit("send",n,m.params,a),!e&&window.File&&m.params){var f=m.params[0],g=f&&f.files;if(g)return delete f.files,i(m,g,a),a}return r.send(JSON.stringify(m)),a},t.each(q,function(){this.call(s,r)});var f=e;e||t(window).load(function(){f=!0}),s.destroy(function(){delete c.channelId,s.is_destroyed=!0,r.destroy()}).error(function(e){"error_invalid_channel"==e&&(delete c.channelId,s.inited=!1,s.reconnect())}).close(function(){delete c.channelId,l=!1}).ready(function(){t.isFunction(r.poll)&&(e?s.poll():setTimeout(s.poll,f?1e3:3e3))})}function i(e,t,o){e/=o?L:2,e+=~~(e/t);for(var n=E-O,i=~~(n*F/2),a=0;e>i;a+=E)e=~~(e/n);var r=(E-O+1)*e,l=e+D;return a+~~(r/l)}function a(e,t){for(var o=1114112,n=0,i=e.length;i>n;++n){var a=e[n];a>=t&&o>a&&(o=a)}return o}function r(e){return e+(26>e?97:22)}function l(e,t){return t+O>=e?O:e>=t+F?F:e-t}function s(e,t){for(var o=[],n=E,i=t;;n+=E){var a=l(n,e);if(a>i){o.push(r(i));break}o.push(r(a+(i-a)%(E-a))),i=~~((i-a)/(E-a))}return o}function c(e){e=t.map(e.split(""),function(e){return e.charCodeAt(0)});for(var o=[],n=[],r=0,l=e.length;l>r;++r){var c=e[r];128>c?o.push(c):n.push(c)}var u,d;u=d=o.length,u&&o.push(45);for(var p=M,m=I,f=0,l=e.length;l>d;++p,++f){var g=a(n,p);f+=(g-p)*(d+1),p=g;for(var r=0;l>r;++r){var c=e[r];p>c?++f:c==p&&(o=o.concat(s(m,f)),m=i(f,d+1,u==d),f=0,d++)}}return String.fromCharCode.apply(String,o)}function u(e,o){return t.isFunction(e)&&e.apply(o,[].slice.call(arguments,2)),o}function d(e){return e.indexOf("@")<0?e.replace(":","#"):e}function p(e,t){e=e.replace("/i/","/").replace("/moot.it/","/api.muut.com/").replace("/muut.com/","/api.muut.com/"),e=e.replace(".com//",".com/");var o=e.split("/");o[o.length-1]=d(o.slice(-1)[0]),e=o.join("/");var n=e.split("#");n[1]&&(e=n[0]+"#"+f(n[1])),e=W(e),"/"==e.href.slice(-1)&&(e.href=e.href.slice(0,-1),e.pathname=e.pathname.slice(0,-1));var i=e.href,a=i.split("/"),r="//"==i.slice(0,2)||i.indexOf("://")>0?i.slice(8).indexOf("/")+8:i.indexOf("/");return e.path=i.slice(r),e.host=a[2],t&&!/moot.it|muut.com/.test(e.host)&&(t=W(t),e.orighost=e.host,e.host=t.hostname+(t.port?":"+t.port:""),e.protocol=t.protocol,e.hostname=t.hostname,e.port=t.port),e}function m(e){return e?e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;"):""}function f(e){e=t.trim(e.toLowerCase().slice(0,N)),e=e.replace(/&quest;/g,"");var o={a:/[áàâãªäå]/g,o:/[òóôõºöø]/g,e:/[éèê]/g,i:/[íìîı]/g,u:/[úùûü]/g,c:/[ç]/g,n:/[ñ]/g,"-":/[_\s]+/g};return t.each(o,function(t,o){e=e.replace(o,t)}),e=c(e).slice(0,N),e=e.replace(/[^a-z0-9-]/g,"").replace(/^-|-$/g,"").replace(/\-{2,}/g,"-"),e||(""+Math.random()).slice(10)}function g(e,o){if(void 0===e||"number"==typeof e)return $;if(t.isFunction(e)&&(o=e,e="ready"),"string"==typeof e)if(-1!=e.indexOf("/"))e={url:e};else if(t.isFunction(o))return(P[e]=P[e]||[]).push(o);if(t.isPlainObject(e)){e=t.extend({api_url:"https://api.muut.com"},e),"object"!=typeof console&&(e.debug=0);var n=new h(e);return t.isFunction(o)&&n.on("ready",o),e.ui!==!1&&t.each(P,function(e,o){t.each(o,function(){n.on(e,this)})}),n.emit("before:init",n),$=n,n}}function h(e){function i(t){var o="reload"==t,n={version:l.version,path:d(l.page.path),currentForum:l.name,embedUrl:e.embedUrl||e.embedurl,pageLocation:e.page_url,expand_all:!e.show_title,reload:o},i=e.api||e.sso;if(i&&i.key){n.api=i,l.is_signed=!0;try{var a=atob(i.message),s=JSON.parse(a);l.is_sso=!!s.user}catch(c){return console.error("Invalid Muut SSO: "+a,c)}}e.sso&&(l.is_sso=!0),r.call("init",n,function(e){l.emit(t,e)}).fail(function(e){l.emit("error",e[0])})}function a(e){var o=e.user;return delete e.user,t.extend(l,e),o}e.url.split("//")[1]||(e.url="//muut.com/"+e.url);var r,l=o(this),s=p(e.url,e.api_url),c=s.pathname.split("/"),h=!s.hash&&c.length>2;e.url=s,e.api_url=s.protocol+"//"+s.host,e.page_url=e.page_url||location.href.split("#")[0],t.extend(l,{version:"1.14.0",channel:null,name:c[1],path:"/"+c[1],is_commenting:!!s.hash,is_forum:!s.hash&&c.length<3,is_threaded:h,is_signed:!1,is_sso:!1,conf:function(){return e},canUse:function(e,o,n){var i=l.service||{},a=l.user.unlocked||[];return i.trial_left>0||a.indexOf(e)>=0||i.level>=o||i.legacy&&"legacy"==n?!0:!!t.grep(i.products||[],function(e){return e=e.split("-")[0],e=R[e]||e,e===n})[0]},load:function(t,o){if(l.is_stub)throw Error("Forum not created");t=d(t),h&&!t.split("#")[1]&&(t=e.url.path);var n=new b(l,t,r);l.emit("before:load",n),r.call("moots",{path:n.path,expand_all:!e.show_title},function(e){n.emit("load",e),l.one("load",o).emit("load",n)})},search:function(e,t){return l.load("/?"+e,t)},moveThread:function(e,t,o){return r.call("mootMove",{src:e,dst:t},o)},create:function(o,n){var i=g.fixTitle(o.title),a=i?i.length>30*U?"title:too_long":l.user.is_logged?l.user.banned?"user:banned":"":"user:not_logged":"title:missing";if(t.map(l.page,function(e){i==e.seed.title&&(a="duplicate")}),a)throw new Error(a);t.extend(o,{title:i,key:f(i),body:g.fixBody(o.body,!0),pageLocation:e.page_url,path:o.path||l.page.path,watch:o.is_followed,_ajax:!0}),h&&t.extend(o,{pageTitle:e.channelName,mootTitle:e.mootTitle});var s=new y(l,o.path+"#"+o.key,t.extend(!0,{},o),r,!0);return l.page.emit("before:moot",s),r.call("createMoot",o,function(e){s.emit("key",e),s.seed.emit("key",e),l.page.one("moot",n).emit("moot",s,!0)})},createForum:function(e,o){var n=e.categories;return"string"==typeof n[0]&&(n=t.grep(n,function(e){return!!e}),e.categories=n=t.map(n,function(e){return{title:m(e.slice(0,40)),path:l.path+"/"+f(e)}})),r.call("createForum",e,function(){l.is_stub=!1,l.categories=n,l.emit("categories",n),u(o,l,n)})},getCategory:function(e){return e=e.split("#")[0],t.grep(l.categories,function(t){return t.path==e})[0]},setCategories:function(e,o){var n=[];return t.map(e,function(e){e.title=m(e.title.slice(0,164)),e.path||(e.path=f(e.title)),-1==e.path.indexOf(l.path)&&(e.path=l.path+"/"+e.path),e.unlisted||n.push(e)}),r.call("setCategories",{path:l.path,categories:n},function(){l.emit("categories",e),u(o,l,e)})},reload:function(e){return e&&(e.moots||e.user)?l.emit("reload",e):i("reload"),l},requestAccess:function(e,t){return r.call("accessRequest",{forumname:l.name,username:l.user.email,message:e},t)},log:function(e,o){o=t.extend({forum:l.path,page:l.page.path,user:l.user.email,version:l.version,url:location.href,ua:navigator.userAgent},o),r.call("log",{message:e,data:o})},destroy:function(){return l.emit("destroy",l).off("*"),r.close(),l.is_destroyed=!0,l}}),l.is_forum&&(e.show_title=!0),l.on("before:init",function(t){r||(r=new n(s.protocol+"//"+s.host),l.channel=new v(l,r),r.reconnect(l.reload),l.page=new b(l,e.page_path||s.path,r),e.path&&(l.is_forum||h&&e.path.split(/[:#]/)[1])&&(l.page=new b(l,e.path,r))),l.page.is_init=!0,e.page_url.split("file://")[1]&&(e.page_url="https://muut.com"+l.path),i("init")}).on("init",function(e){l.page.is_init=!0,e.admins=e.admins||[];var t=a(e);l.user=new _(l,t,r),l.is_stub=!e.moots,l.emit("ready",l,r),l.emit("before:load",l.page),l.page.emit("load",e.moots),l.emit("load",l.page),delete l.moots}).on("load",function(e){l.page=e}).on("reload",function(e){var t=a(e);l.page.emit("reload",e.moots),l.user.emit("login",t)}).on("categories",function(e){e&&(l.categories=e,l.is_stub=!1)})}function v(e,n){var i=o(this),a=e.conf().debug;n.ready(function(){i.time_offset=n.time_offset}),n.event("moot",function(t,o){t.from_channel=o.from_channel=!0;var a=new y(e,t,o,n),r=a.path.split("#")[0],l=e.getCategory(t.path),s=l&&!l.unlisted,c=e.page;if("feed"!=c.type){var u=0===(r+"/").indexOf(c.path)&&"all"!=c.type;e.is_forum&&!a.is_own&&(s||u)&&i.emit("moot",a),(u||c.title==a.seed.user.displayname||"all"==c.type&&s)&&(e.is_forum||a.is_own||i.emit("moot",a),c.emit("moot",a,!0))}}).event("reply",function(t,o){var a=e.page.find(t);if(!a){if(e.is_commenting)return!1;if(e.is_threaded){if(t.split("#")[0]!=e.page.path)return!1}else if(!e.getCategory(t))return!1;a=new y(e,t,{},n)}o.from_channel=!0,o=new k(a,o,n),a.emit("reply",o),o.is_own||i.emit("reply",o)}).event("type",function(t,o){var n=e.getCategory(t);e.is_forum&&(e.page.path==t.split("#")[0]||n&&!n.unlisted)&&i.emit("type",o,t);var a=e.page.find(t);a&&a.emit("type",o)}).event("like unlike remove spam unspam update",function(t,o,n){var a=e.page.find(o);a&&a.seed&&(a=a.seed),a&&a.emit(t,n,!0),i.emit(t,a||o,n)}).event("error",function(e,t){a&&console.error(arguments),i.emit("error",e,t)}).event("enter leave away return",function(e,t,o){i.emit(e,t,o)}).event("banned message",function(t,o){e.user.emit(t,o)}).event("login",function(t){e.reload(t)}).event("join",function(t){e.user.emit("before:join",t)}).on("send",function(o,n,i){if(i&&"init"!=o){var a,r=t.now();t.each([3e3,5e3,8e3,12e3],function(n,l){setTimeout(function(){!a&&t.now()-r>l&&(0==n&&e.emit("waiting",o,i),i.emit("progress",n,l))},l)}),i.on("done fail",function(){a=1})}}).ready(function(){i.session=n.session()}).on("reconnect error online offline",function(t){"reconnect"==t?e.one("reload",function(){i.emit(t)}):i.emit(t)}),a&&n.on("send",function(e,t){console.log(">",e,t&&1==t.length?t[0]:t)}).on("receive",function(e){e&&console.log("<",e.result||e.params||e)})}function w(e,o,n,i){var a=this,r=e.path,l=e.app.page,s=e.match_count>=0&&i;a.is_gap=!0,a.size=a.available=o,s&&(a.match_count=e.match_count,t.each(e.replies,function(){this.is_gap||a.match_count--})),a.more=function(i,s){if(!a.available)return u(s);var c=Math.min(a.available,Math.ceil(o/(10>o?1:27>o?2:4)),50),d=i?c:e.reply_count,p=i?1:c,m=i?0:e.replies.length-1;if(i)for(var f,g=0;g<e.replies.length&&(f=e.replies[g],f!=a);g++)d+=f.is_gap?f.available:1,p+=f.is_gap?f.available:1,m++;else{for(var f,g=m;g>=0;g--){if(f=e.replies[g],f==a){m++;break}d-=f.is_gap?f.available:1,m--}0>=m&&(m=1),p=d-p+1}var h={path:r,start:d,end:p};return a.match_count>0&&"search"==l.type&&(h.path+="?"+l.title,delete h.end),n.call("moreReplies",h,function(o){o=t.map(o,function(t,o){var i=t.reply_count;return a.available-=i||1,!i&&a.match_count&&a.match_count--,i?new w(e,i,n):new k(e,t,n)}),a.available<0&&(a.available=0),e.one("more",s).emit("more",o,m)})}}function y(e,n,i,a,r){function l(){var t=e.user;if(r)throw Error("Not saved");if(!t.is_logged)throw Error("not logged");if(t.banned)throw Error("user:banned")}function s(e){return t.extend(e,{mootTitle:p.mootTitle||p.channelName,pageTitle:p.channelName,pageLocation:p.page_url})}var c,d=o(this),p=e.conf(),m=e.page;if("string"==typeof n){var h=n.split("#");n={page:e.getCategory(h[0])||{path:n,title:n},is_followed:i.is_followed,path:n}}r&&(n.is_expanded=!0),t.extend(d,n),t.extend(d,{app:e,replies:[],relativePath:d.path.replace(e.path+"/","/"),reply_count:d.reply_count||0,time:d.time||t.now(),has_replied:!!n.has_replied,is_expanded:!!n.is_expanded,is_followed:n.is_followed||n.is_watched}),d.page=d.page||{},r||i.user||e.is_commenting||(d.is_commenting=!0,i.user={}),d.seed=i=new k(d,i,a,r),d.is_own=r||i.user&&i.user.path==e.user.path,t.extend(d,{is_loaded:d.is_expanded,reply:function(e,o){l();var n=t.trim(e.body);if(!t.trim(n))throw new Error("no content");if(c==n)throw new Error("duplicate");c=n,e.body=n=g.fixBody(n,!0),e.key=f(n.join(""));var i=new k(d,e,a,!0);return d.emit("before:reply",i),e.path=d.seed.is_stub?m.path:d.path,s(e),e.watch=e.is_followed,e._ajax=!0,a.call("reply",e,function(e){i.emit("key",e),d.one("reply",o).emit("reply",i)})},posts:function(){return t.grep([d.seed].concat(d.replies||[]),function(e){return!e.is_gap})},find:function(e){if(e){if(d.seed.key==e)return d.seed;e.split("#")[1]||(e=d.path+"/"+e);for(var t=0,o=d.posts(),n=o.length;n>t;t++)if(o[t].path==e)return o[t]}},expand:function(e){return d.toggle(!0,e)},collapse:function(e){return d.toggle(!1,e)},load:function(e){var t=d.path+("search"==m.type?"?"+m.title:"user"==m.type?m.path:"");return d.is_loaded?u(e,d):a.call("moot",t,function(t){d.one("load",e).emit("load",t).emit("expand")})},toggle:function(o,n){function i(){return d.one(r,n).emit(r)}if(t.isFunction(o)&&(n=o,o=void 0),"boolean"!=typeof o&&(o=!d.is_expanded),o==d.is_expanded)return u(n,d);if(o&&!d.is_loaded)return d.load(n);var r=o?"expand":"collapse";return e.user.is_logged?a.call(r+"Moot",d.path,i):i()},followToggle:function(e,o){if(l(),t.isFunction(e)&&(o=e,e=void 0),"boolean"!=typeof e&&(e=!d.is_followed),e==d.is_followed)return u(o,d,e);var n=d.path;return e&&(n=s({path:n})),a.call(e?"mootWatch":"mootUnwatch",n,function(){var t=e?"follow":"unfollow";d.is_followed=e,d.one(t,o).emit(t)})},retireToggle:function(e,t){return a.call(e?"mootRetire":"mootUnretire",d.path,function(){d.is_retired=e,t&&t()})}}),d.on("key",function(e){r=!1,d.path=d.page.path+"#"+e}).on("load",function(e){d.is_loaded=d.is_expanded=!0,d.reply_count=e.reply_count,d.seed=new k(d,e.seed,a)}).on("load",n,function(e){var o=0;d.match_count=e.match_count,t.each(e.replies||[],function(e,t){var n=t.reply_count;d.replies.push(n?new w(d,n,a):new k(d,t,a)),o+=n||1}),d.is_expanded&&d.reply_count>o&&d.replies.unshift(new w(d,d.reply_count-o,a,!0))}).on("reply",function(e){d.lastReply=t.now(),d.reply_count++,d.is_followed=e.is_followed,e.is_own&&(d.has_replied=!0),d.is_loaded&&d.replies.push(e)}).on("edit remove",function(e,o){return c=null,o.is_seed?m.emit("remove",d):(d.replies=t.grep(d.replies,function(e){return e.path!=o.path}),void d.reply_count--)}).on("more",function(e,t){[].splice.apply(d.replies,[t,0].concat(e))}).on("expand collapse",function(e){d.is_expanded="e"==e[0]}).on("reload",function(o){o&&(d.reply_count=o.reply_count,d.has_replied=!!o.has_replied,d.is_followed=!!o.is_followed,d.is_expanded?t.map([o.seed].concat(o.replies),function(t){var o=d.find(t.key);o?o.emit("reload",t):d.lastReply<t.time&&(t.from_channel=!0,o=new k(d,t,a),d.emit("reply",o),e.channel.emit("reply",o))}):o.is_expanded&&d.emit("load",o))}),e.user.on("logout",function(){d.has_replied=!1,d.emit("reload")})}function _(e,n,i){function a(){if(!l.is_logged)throw Error("must be logged")}function r(e){return e[0].toUpperCase()+e.slice(1)}var l=o(this),s=(e.path+"/feed",0);n.new_count=n.new_count||{all:0,feed:0},n.email||delete n.email,t.extend(l,{img:z,app:e,toggleFollow:function(t,o,n){var a={pageLocation:e.conf().page_url,path:t};return i.call(o?"mootWatch":"mootUnwatch",a,n)},unfollowAll:function(o){return i.call("forumUnwatch",e.path,function(){t.each(e.page,function(){this.is_followed=!1,this.emit("unfollow")}),o&&o()})},logout:function(t){return a(),i.call("logout",{path:e.page.path,expand_all:!e.conf().show_title},function(e){l.emit("logout",l.path),u(t,l)})},join:function(e,t){if(l.is_logged)throw Error("already logged");return e.username=e.username.toLowerCase(),i.call("join",e,function(e){u(t,l)})},update:function(t,o){return t.forumname=e.name,i.call("userUpdate",t,function(){t.url||l.emit("update",t),u(o,l)})},isAvailable:function(e,t){return i.call("isAvailable",e,t)},type:function(o,n,a){if(!l.is_logged||l.is_visible){var r=t.now();r-s>1e3*U&&(i.call("type",{path:n?n.path:e.page.path,size:o.length},a),s=r)}},hideToggle:function(t){return i.call("user"+(l.is_visible?"Hide":"Show"),function(){var o=l.is_visible=!l.is_visible;e.channel.emit(o?"enter":"leave",l),u(t,l,o)})}}),t.each(["email_confirm","account_confirm","password_reset","validationCode_send","resetCode_check"],function(t,o){var n=o.split("_");l[n[1]+r(n[0])]=function(t,o){return i.call(n[0]+r(n[1]),t,function(t){t&&t.moots&&e.reload(t),u(o,l,t)})}}),l.on("login logout",n,function(o,n){"logout"==o?n={new_count:{all:0,feed:0},username:"",displayname:"",img:z,banTime:0,path:"",email:0,is_admin:0,is_moderator:0,is_owner:0}:(n.username=(n.path||"").slice(1),n.is_owner=!!t.grep(e.admins,function(e){return e.username==n.username&&e.is_owner})[0]),t.extend(l,n),l.is_logged=!!n.path,t.map(["unverified","is_visible","is_online","is_admin","is_moderator"],function(e){l[e]=!!n[e]}),e.is_stub&&l.is_logged&&(n.is_admin=!0)}),l.on("update",function(e){delete e.email,t.extend(l,e)}).on("follow unfollow",function(e){l.subscription_count+="follow"==e?1:-1}).on("banned",function(e){l.banned=e}),e.on("load",function(e){l.emit("newcount",l.new_count),l.new_count[e.type]=0,"all"==e.type&&(l.new_count.feed=0)}),e.channel.on("moot reply",function(t,o){e.page.find(o.path)||(l.new_count.all++,l.emit("newcount",l.new_count))})}function b(e,n,i){var a=o(this),r=muut.language,l=e.path;l&&n!=l&&n.slice(0,l.length+1)!=l+"/"&&(n=l+"/"+n),n=n.replace("//","/").replace(/[<>]/g,""),"/"==n.slice(-1)&&(n=n.slice(0,-1));var s=n.split("::");n=s[0],a.type=/\?/.test(n)?"search":/\/feed/.test(n)?"feed":n==l+"/spam"?"spam":/@/.test(n)?"user":2==n.split("/").length?"all":/[#:]/.test(n)?"moot":"page",t.extend(a,{app:e,path:n,relativePath:n.replace(l,"/").replace("//","/"),extra:s[1],find:function(e){if(e){e=e.replace(":","#");for(var t,o=0;o<a.length;o++){if(t=a[o],t.path==e)return t;if(t=t.find(e))return t}}},more:function(t){if(a.available){a.emit("before:more");var o={path:a.path,start:a.length,expand_all:!e.conf().show_title};return i.call("moots",o,function(e){a.one("more",t).emit("more",e)})}},collapse:function(e){var o=t.grep(a,function(e){return e.is_expanded}),n=t.map(o,function(e){return e.path});return i.call("collapseMoot",n,function(){t.each(o,function(){this.emit("collapse",!0)}),u(e,a,o)})}}).on("load",function(o){if(e.is_stub)return!1;t.extend(a,o);var i=a.path.replace(e.path,"");if(i?"/feed"==i&&(a.title=r.feed):a.title=r.all,!a.title){var l=t.trim(n.replace(/[\/-]/g," "));l=l[0].toUpperCase()+l.slice(1),a.title=l}"user"==a.type&&(a.user=new x(e,{path:a.title})),a.available=o.size,delete a.entries,e.is_commenting&&(o.entries[0]||o.entries.push({seed:{user:e.user},is_expanded:!0,path:n}),o.entries[0].seed.is_stub=!0)}).on("load more",function(o,n){t.each(n.entries,function(t,o){var n=new y(e,o,o.seed,i);a.emit("moot",n)}),a.available-=n.entries.length}).on("moot",function(e,t){a[t?"unshift":"push"](e)}).on("remove",function(e){var o;t.each(a,function(t,n){return n.path==e.path?(o=t,!1):void 0}),o>=0&&(a.splice(o,1),a.size--)}).on("reload",function(o){o&&t.map(o.entries,function(t){var o=a.find(t.path);t.from_channel=!0,o?o.emit("reload",t):a[0]&&a[0].lastReply<t.lastReply&&a.emit("moot",new y(e,t,t.seed,i),!0)})})}function k(e,n,i,a){function r(){if(!c.is_logged)throw Error("not logged");if(a)throw Error("not saved")}var l=o(this),s=e.app,c=s.user,d=s.conf(),p=!!n.title,m=e.path+(n.title||n.is_stub?"":"/"+n.key);a&&(n=t.extend({},n,{user:c})),n.body=n.body||[],p&&!d.show_title&&(n.body[0]=n.title+n.body[0]),n.user=new x(s,n.user),t.extend(l,n,{app:s,moot:e,path:m,relativePath:m.replace(s.path+"/","/"),key:n.key||m.split("#")[1],is_own:a||n.user.path==c.path,likes:0,is_expanded:!!n.body[1],is_loaded:!n.has_more||!!n.body[1],is_seed:p,is_new:!!n.from_channel||c.new_count.all>0&&n.is_new,is_liked:!!n.is_liked,like_count:n.like_count||0,meta:n.meta||{},time:n.time||t.now(),likeToggle:function(o,n){if(r(),t.isFunction(o)&&(n=o,o=void 0),void 0===o&&(o=!l.is_liked),o==l.is_liked)return u(n,l,c);var a=l.is_liked?"unlike":"like",s=m;return e.seed.is_stub&&o&&(s={pageLocation:d.page_url,mootTitle:d.mootTitle||d.channelName,pageTitle:d.channelName,path:m}),i.call(a,s,function(){l.one(a,n).emit(a,c),e.emit(a,l)})},like:function(e){return l.likeToggle(!0,e)},unlike:function(e){return l.likeToggle(!1,e)},setMeta:function(e,t){return r()&&i.call("setMeta",m,e,function(){l.one("meta",t).emit("meta",e)})},remove:function(e,t){var o=c.is_moderator;if(!o&&!l.editTimeLeft())throw new Error("No permission");return i.call("delete",{path:m,force:o},function(){t=t||"remove",l.one(t,e).emit(t)})},edit:function(e){return l.is_own&&l.remove(e,"edit")},editTimeLeft:function(){var o=60*U,n=o-(t.now()-l.time)/1e3,i=!e.replies.length||e.replies.slice(-1)[0]==l;return a?o:0>n||!l.is_own||l.like_count||!i?0:n},whoLikes:function(e){return l.likes?e.call(l,l.likes):i.call("whoLikes",m,function(t){l.likes=t||[],u(e,l,t)})},more:function(e){return l.is_loaded?u(e,l):i.call("more",m,function(t){l.one("more",e).emit("more",t)})},toggle:function(e,o){function n(){return l.one(a,o).emit(a)}if(t.isFunction(e)&&(o=e,e=void 0),void 0===e&&(e=!l.is_expanded),e===l.is_expanded)return u(o,l);if(e&&!l.is_loaded)return l.more(o);var a=e?"expand":"collapse";return c.is_logged?i.call(a+"Post",m,n):n()},expand:function(e){return l.toggle(!0,e)},collapse:function(e){return l.toggle(!1,e)}}).on("key",function(t){l.key=t,l.path=m=p?e.path:e.path+"/"+t,a=!1}).on("like",function(e){(e.is_logged||e.path==c.path)&&(l.is_liked=!0),l.likes&&l.likes.push(e),l.like_count++}).on("unlike",function(e){(e.is_logged||e.path==c.path)&&(l.is_liked=!1),l.likes&&(l.likes=t.grep(l.likes,function(e){return e.path!=c.path})),l.like_count--}).on("more",function(e){l.is_loaded=l.is_expanded=!0,l.body.push(e)}).on("expand collapse",function(e){l.is_expanded="expand"==e}).on("edit remove",function(t,o,n){e.emit(t,l,n)}).on("meta",function(e){t.extend(l.meta,e)}).on("update",function(e){t.extend(l,e)}).on("spam unspam",l.spam_level,function(e,t){if(l.spam_level=t,"inline"!=e&&(l.flag=e),-1==t)l.emit("remove");else if(t>=1){var o=20*U;l.body[0]=(l.body[0]||"").replace(/\n/g," "),l.body[0].length>o&&(l.body[1]=l.body[0].slice(o)+(l.body[1]||""),l.body[0]=l.body[0].slice(0,o)),l.is_expanded=!1}}).on("reload",function(e){l.is_expanded=!!e.is_expanded,l.is_liked=!!e.is_liked,l.is_new=!!e.is_new,l.is_own=e.user&&e.user.path==c.path}),t.each(["spam","unspam"],function(e,t){l[t]=function(e){return r(),i.call(t,m,function(o){l.one(t,e).emit(t,o)})}}),s.user.on("logout",function(){l.emit("reload",{is_expanded:l.is_expanded,is_liked:!1,is_new:!1})})}function x(e,o){var n=this;t.extend(n,o),n.username=(n.path||"").slice(1);for(var i=0,a=e.admins||[];i<a.length;i++)"@"+a[i].username==n.path&&(n.is_admin=!0)}g.evented=o,!function(e){if(!e.browser){var t=e.browser={},o=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(o)||/(webkit)[ \/]([\w.]+)/.exec(o)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(o)||/(msie) ([\w.]+)/.exec(o)||o.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(o)||[];n[1]&&(t[n[1]]=!0,t.version=n[2]||"0")}}(jQuery);var T="jsonrpc.session",j={},q=[];e||(window.RPC=n),j.ajax=function(e,o,n){var i=this,a={};t.extend(i,{send:function(o){t.post(e,o.replace(/\?\?/g,"?&quest;"),n,"json")},poll:function(e,r){i.destroy(),a=t.post(e,r,0,"json").done(function(t){n(t),t.error||i.poll(e,r)}).fail(function(e,t){o.is_destroyed||"abort"==t||o.close()})},destroy:function(){1==a.readyState&&a.abort()},ping:function(o){return t.ajax({url:e+"/ping",dataType:"text"}).done(o)}})},j.ajax.supported=t.support.cors,t.cookie2=function(e,t,o){var n=window.localStorage;try{return null===t?n.removeItem(e):t?n[e]=t:n[e]}catch(i){}},j.upgrade=function(e,o,n){var i,a=this,r=new j.ajax(e,o,n),l=j.websocket.supported&&new j.websocket(e,o,n);l&&o.one("receive",function(e){e.result&&l.ping(function(){i=!0,o.call("rpc.upgrade"),o.emit("upgrade",l)})}),o.on("close",function(){i=l&&1==l.readyState,i||(a.poll=r.poll)}),t.each(["send","close","ping","destroy"],function(e,t){a[t]=function(){var e=(i?l:r)[t];return e?e.apply(null,arguments):a}})},j.upgrade.supported=t.support.cors||e;var S=e?require("ws"):window.WebSocket||window.MozWebSocket;if(j.websocket=function(e,o,n){var i,a,r=e.replace(/^http/,"ws"),l=this,s={};t.extend(l,{send:function(l,c){var u=s.readyState;if(0!==u){if(1==u)return l&&(s.send(l),a=l),c&&c();s=new S(r),window.muutsocket=s,s.onopen=function(){i=!1,u=s.readyState,s.onmessage=function(e){a=null,n(e.data)},s.onclose=function(){i||o.close()},s.onerror=function(i){u=s.readyState,o.log("socket error",{err:i,msg:l,state:u}),a&&t.post(e,a,n,"json").done(function(e){o.log("socket fix",{ret:e,msg:a})}),(2>u?s:o).close()},l&&s.send(l),c&&c()}}},destroy:function(){i=!0,1==s.readyState&&s.close()},ping:function(e){return l.send(null,e),{fail:t.noop,abort:t.noop}}})},j.websocket.supported=!!S,!e&&S){var A=navigator.userAgent.toLowerCase(),C=navigator.appVersion.split("Version/")[1];S&&t.browser.webkit&&!/chrome/.test(A)&&C&&C.split(" ")[0]<"5.1.14"&&(j.websocket.supported=!1),t.browser.mozilla&&t(document).keydown(function(e){27==e.which&&e.preventDefault()})}j.xdomain=function(e,o,n){function i(e,o,n,i){var a=s[e];return a||(a=s[e]=new XDomainRequest,a.onerror=t.noop,a.ontimeout=t.noop,a.onprogress=t.noop),a.open(i||"post",e),a.onload=function(){var e=a.responseText;try{e=JSON.parse(e)}catch(t){}n(e)},a.send(o),a}var a,r=this,l={},s={};r.send=function(t){i(e,t,n)},r.destroy=function(){a&&(a=!1,l.abort())},r.poll=function(e,s){o.is_destroyed||(r.destroy(),a=!0,l=i(e,t.param(s),function(t){a=!1,n(t),setTimeout(function(){t.error||r.poll(e,s)},200)}),l.onerror=function(){console.error("xdomain",JSON.stringify(arguments[0])),o.is_destroyed||o.close()})},r.ping=function(t){var o=i(e+"/ping?"+Math.random(),"",t,"get");return{fail:function(e){o.onerror=e},abort:function(){o.abort()}}}},j.xdomain.supported=window.XDomainRequest,n(function(e){function o(){return(new Date).getTime()}var n,i,a,r=3e4,l=this,s=l.conf;l.on("receive heartbeat",function(){n=o()}).on("close reconnect",function(e){l.is_closed="close"==e}).ready(function(){function c(){l.is_closed&&(u&&u.abort(),u=e.ping(function(){clearInterval(a),l.reconnect(),u=null}))}if(s.poll!==!1&&("file:"!=location.protocol&&"localhost"!=location.hostname||navigator.onLine)){var u;i=i||setInterval(function(){if(navigator.onLine!==!1||l.is_closed)if(l.is_closed===!0&&navigator.onLine!==!1){if(u)return;u={abort:t.noop},setTimeout(c,1e3),setTimeout(c,2500),setTimeout(c,5e3),u&&(a=setInterval(c,1e4))}else l.is_closed||(n=n||o(),o()-n>r&&e.ping(function(){n=o(),l.poll()}).fail(l.close));else e.destroy(),l.close()},1e3)}}).destroy(function(){clearInterval(i)})}),t.fn.jsonrpc=function(e){var o=0;return this.each(function(){var n=t(this),i="#multipart-rpc-"+o++,a=t(":input[name]",n),r=(t("<iframe/>",{name:i,src:"about:blank"}).hide().insertBefore(n),t("<input/>",{type:"hidden",name:"jsonrpc"}).appendTo(n)),l=t(window);n.attr({action:e.api,method:"post",target:i,enctype:"multipart/form-data"}),n.submit(function(){var o=e.params||{};a.filter(e.query||"*").each(function(){var e=t(this);this.disabled||(o[this.name]=e.is(":checkbox")?this.checked:e.val())}),a.prop("disabled",!0).filter(":file").each(function(){this.disabled=!this.value}),r.val(JSON.stringify({session:e.session,method:e.method,params:[o],jsonrpc:"2.1.0",transport:"iframe",id:i})),l.on("message."+i,function(e){try{var t=JSON.parse(e.originalEvent.data),o=t.result||t.error;t.id==i&&(a.prop("disabled",!1),n.trigger(t.result?"done":"fail",o).trigger("always",o),l.off("message."+i))}catch(e){}})})})};var O=1,F=26,E=36,D=38,L=700,M=128,I=72,U=2.718,N=10*U,W=e?require("url").parse:function(e){var t=document.createElement("a");t.href=e;var o=t.pathname;return"/"!=o[0]&&(o="/"+o),{href:e,pathname:o,port:1*t.port||"",hostname:t.hostname,hash:t.hash,search:t.search,protocol:t.protocol}};g.urlify=f;var $,P={};e?module.exports=g:window.muut=window.moot=g;var R={designer:"branding",developer:"sso"};muut.evented=o;var z="//cloudinary-a.akamaihd.net/moot/image/upload/t_default-avatar/v1364433583/moot-default-avatar.jpg";b.prototype=[],g(function(e,o){function n(t){for(var o=0,n=e.online;o<n.length;o++)if(n[o].path==t)return o;return-1}function i(t){var o=n(t);o>=0&&e.online.splice(o,1)}e.users=e.users||{online:[]},e.anon_count=e.users.anon_count||0,e.online=t.map(e.users.online,function(t){return t.is_online=!0,new x(e,t)}),e.getUser=function(t){return e.online[n(t)]},e.channel.on("enter",function(t){t&&(t.is_online=!0,e.online.push(new x(e,t)))}).on("leave",function(e){e&&i(e.path)}).on("away return",function(t,o){o&&(o=e.getUser(o.path)),o&&(o.is_active="return"==t)}).on("enter leave away return",function(t,o,n){var a=e.user;n>=0?e.anon_count=n:a.is_logged&&(e.anon_count+=a.is_visible?-1:1,a.is_visible||i(a.path))}),e.user.on("login logout",function(t,o){var n="login"==t;
(!n||this.is_visible)&&(e.anon_count+=n?-1:1,e.channel.emit(n?"enter":"leave",n?this:{path:o}))})});var H=400*U,K=40*U,B=26*U,J=20,Q=/\[#(.+)\/#\]/g,X=/-{3,} *(\w*)/g;g.fixTitle=function(e){return e=t.trim(e).replace(Q,"$1"),t.each(e.split(/\s+/g),function(t,o){o.length>B&&!/\/\//.test(o)&&-1==o.indexOf("[")&&(e=e.replace(o,o.slice(0,B)+" "+o.slice(B)))}),e},g.fixBody=function(e,t){if(e=g.fixTitle(e).replace(/\n{2,}/g,"\n\n"),!t)return[e];var o=e.slice(0,H),n=e.slice(o.length);n.length&&n.length<K&&(o=e.slice(0,H-K));var i=J+o.split(X).length/2,a=e.split("\n");return a.length>i&&(o=a.slice(0,i).join("\n").slice(0,H)),n=e.slice(o.length),o=[o],n&&o.push(n),o}}(!this.top,jQuery),!function(e,t){"use strict";function o(e){return e&&e.replace(I,function(e,t,o,n){return"8)"==o&&"\n"==t?t+o:"<i>"+t+M[o]+"</i>"})}function n(e,t){return e&&(e=e.replace(D,"&lt;$1$2$3"),t&&(e=e.replace(L,"<mark>$1</mark>"))),e}function i(e){return e?e.replace(N,"&hellip;").replace(W,"&#8220;$1&#8221;").replace($," &#8216;$1&#8217;").replace(H,"&mdash;").replace(K," &ndash; "):""}function a(e){return e=i(e).replace(z,"<em>$1</em>").replace(P,"<strong>$1</strong>"),e=m(e),e=o(e)}function r(e){if(!e)return"";var o="";return t.each(e.split(R),function(e,t){o+=e%2?"<samp>"+t+"</samp>":a(t)}),o}function l(e){return e.replace(/<(\w{1,2})"([\w\- ]+)"([^>]*)>/g,function(e,t,o,n){return o="m-"+o.split(" ").join(" m-"),"<"+(B[t]||t)+' class="'+o+'"'+n+">"}).replace(/<(\/?)(\w)>/g,function(e,t,o){return"<"+t+B[o]+">"})}function s(e,o){o=o||0;var n=t.now();muut()&&(o=muut().channel.time_offset),10>n-e&&(e-=o);var i=new Date(n-o),a=moot.language,r=(i-e)/1e3,l=Math.floor(r/86400),s=Math.ceil(l/7),c=0>=l&&(60>r&&a.now||3600>r&&Math.floor(r/60)+a.min||86400>r&&Math.floor(r/3600)+a.hour)||30>l&&l+a.day||10>s&&s+a.week;if(c)return c;var u=new Date(e),d=u.getFullYear();return Q=Q||a.months.split(","),u.getDate()+" "+Q[u.getMonth()]+(d!=i.getFullYear()?" "+d:"")}function c(e){var t=""+new Date(e);return t.split("GMT")[0]}function u(e,t){return(X[e]=X[e]||Function("_","return '"+e.replace(/\{([^\}]+)\}/g,"'+ (_.$1 === undefined ? '' : _.$1) +'")+"'"))(t)}function d(e,o){var n=t.extend({},o||{},{l:moot.language,hash:muut.prefix}),i=O[e];n.time&&t.extend(n,muut.toTime(n.time));try{return u(i,n)}catch(a){console.error(e,i,a,n)}}function p(e,o){if(o){var n=o.replace(V," ").split(G);o=n[1]||n[0]||e.replace(G,"")}if(e=e.replace(/<\/?mark>/g,"").replace(V,"_"),e=e.replace("&mdash;","--"),ee.test(e.split("?")[0])){var i="m-image",a=e.split("?")[0].split("/").slice(-1)[0];return e.split("flickr.com")[1]?i+=" m-flickr-link":e.split("dropbox.com")[1]&&(e=e.replace("www.dropbox","dl.dropbox"),i+=" m-dropbox-link"),a.length>27&&(a=a.slice(0,10)+"&hellip;"+a.slice(-18)),"<a class='"+i+"' href='"+e+"'>"+(o||a).replace(D," ")+"</a>"}var r=e,l="",i="m-link",s=muut.prefix;"http"!=e.slice(0,4)||e.split(location.host)[1]?(i+=" m-local-link",r=r.replace(new RegExp("https?://"+location.host),"").replace(location.pathname,""),r.slice(0,s.length+1)==s+"/"&&(i+=" m-moot-link",e=r,r=r.slice(3))):(l="target='_new' ",r=r.split("://")[1],t.each(te,function(t,o){var t=e.indexOf(o);return-1!=t?("google.com"==o?(r=r.split("q="),r=r[1]?r[1].split("&")[0]:r[0]):(r=e.slice(t+o.length+1),/wikipedia/.test(o)?r=r.replace("_"," "):"d.pr"==o&&(i+=" m-image","+"!=e.slice(-1)?e+="+":r=r.slice(0,-1))),i+=" m-"+o.split(".")[0]+"-link'",!1):void 0})),l+="class='"+i+"'",r&&r.length>40&&("/"==r.slice(-1)&&(r=r.slice(0,r.length-1)),r=r.split("/"),r=r[1]?r[0]+"/&hellip;/"+r.slice(-1)[0].slice(-27):r[0].slice(0,27)+"&hellip;");var c=e.slice(-1);return("."==c||","==c||")"==c&&-1==e.indexOf("("))&&(e=e.slice(0,-1)),"<a "+l+" href='"+e+"'>"+(o||r)+"</a>"}function m(e){return e.replace(Y,function(e,t,o){return o=o.replace(/<\/?em>/g,"_"),o=g(o).replace(/[\s\'\"]/g,""),t=g(t),/(data|script).?[:&]/i.test(o)?t:p(o,t)}).replace(Z,function(e,t){if(t)return e;var o=e.split("&#82");return o[1]?p(o[0])+"&#82"+o[1]:p(e)})}function f(e,t){var o=e.conf(),n=o.prefix+(t||e.page).relativePath.replace("#",":");location.href=o.login_url+(o.url_escape?escape(n):n)}function g(e){return e?(e=e.replace(/&+#/g,""),e=e.replace(/&+[lg]t/g,"").replace(/[\<\>\"\']/g,"")):""}function h(e,o,n){var i=window,a=(i.screenX||i.screenLeft)+(t(i).outerWidth()-o)/2,r=(i.screenY||i.screenTop)+50,l="left="+a+",top="+r+",status=0,scrollbars=0,menubar=0";i.open(e,"moot_popup",l+",width="+o+",height="+n).focus()}function v(e){return e=parseInt(e,10),e>=10?e:"0"+e}function w(e){e=e||0;var t=(Math.floor(e/3600),Math.floor(e/60));return e-=60*t,t+":"+v(e)}function y(e,o,n){e&&e.length&&t("html, body").animate({scrollTop:e.offset().top-(o||200)},400,function(){var t=n&&n();t!==!1&&e.mootboost()})}function _(e){var o=t(d("more")),n=o.eq(0),i=o.eq(2),a=o.eq(1),r=t("a",a).tooltip2({prefix:"m-",position:"right"}),l=t(".m-tooltip",r.eq(1)),s=t("em",r).text(e.available);return e.available>26&&(a.ac("big"),l.text(moot.language.show_new)),r.click(function(){var o=t(this).ac("loading"),r=o.hc("to-head"),c=r?n:i,u={};u[r?"paddingBottom":"paddingTop"]=75*Math.min(e.available,10),c.animate(u),e.more(r,function(n){o.rc("loading"),s.text(e.available),c.stop().css({padding:0}),r||n.reverse(),t.each(n,function(e,t){t=t.is_gap?_(t):k(t),t.is_gap||t.mootboost(),c[r?"append":"prepend"](t)}),e.available<10&&(a.rc("big"),l.text(moot.language.show_more)),e.available||a.remove()})}),o}function b(e,a){function r(e){return t.trim(e.join("").replace(L,"$1"))}function l(o){var n=t(".m-replies, .m-seed .m-body-wrap, .m-form",h);o?(h.ac("animating expanded").rc("collapsed"),n.mootslide(200,function(){h.rc("animating")})):n.slideUp(100,function(){h.rc("expanded").ac("collapsed"),t(this).css({display:""})}),e.is_expanded=o}function u(){var e;t(".m-seed, .m-reply:not(.m-preview)",h).each(function(){var o=t(this),n=t(".m-facelink",this).attr("href");e&&n&&o.tc("followup",e===n),e=n})}var p=e.app,m=p.conf(),f=e.seed,g=window.moot.language,h=t(d("moot",t.extend({},e,f))),v=t(".m-replies",h);h.data("moot",e),e.root=h.mousemoved("moot-hover").tc("flat",!!e.is_commenting),h.prepend(k(f,!0));var w=t(".m-seed",h);return e.is_expanded||h.ac("collapsed"),e.on("expand load",!0,function(){var o=t(".m-follow",w).tooltip2({prefix:"m-"}).click(function(){return o.ac("loading"),e.followToggle(),!1})}).on("follow unfollow expand reload reply",!0,function(o){var n=!!e.is_followed;t(".m-follow",w).rc("loading hovered").tc("followed",n).find(".m-tooltip").text(g[n?"unwatch":"watch"]),/follow/.test(o)&&p.user.emit(o)}),e.on("load",e.is_expanded,function(o){var n="load"==o||o.seed;if(h.ac("expanded").rc("loading collapsed"),n){var i=k(e.seed,!0);w.replaceWith(i),f.root=w=i}t.each(e.replies,function(e,t){v.append(t.is_gap?_(t):k(t))}),n&&(l(!0),u()),(p.skip_sharing||m.share===!1)&&t(".m-menu",w).text("7").attr("href",m.prefix+f.relativePath.replace("#",":"))}).on("collapse",function(e){e&&l(!1),t(".m-new_count",w).hide()}).on("edit",function(e){var o=e.is_seed?t(".m-create textarea",p.root):t("textarea",h);e.is_seed&&(o.eq(0).val(r([e.title])),h.remove()),o.last().val(r(e.body)),o.keydown().keyup(),o[0].select()}).on("before:reply",function(e){p.user.is_admin||t(".m-remove",h).remove(),k(e).appendTo(v),e.root.ac("created"),e.on("key",function(){setTimeout(function(){e.root.rc("created")},500)})}).on("reply",function(o){o.from_channel&&e.is_loaded&&(p.user.is_admin||t(".m-remove",h).remove(),k(o).appendTo(v).mootslide()),o.is_own&&t(".m-is-new",h).rc("is-new")}).on("type",function(o){var n=t("<em/>").ac("typing").appendTo(t(".m-actions:first",h)),i=t(".m-writing",h);e.is_expanded&&i.html(d("writing",{user:o})),setTimeout(function(){n.remove(),i.empty()},1e3*oe)}).on("*",!0,function(r){if("type"!=r){var l=e.reply_count,d=(e.new_count,(e.is_expanded?f.time:e.lastReply)||f.time);t(".m-reply_count",w).toggle(l>0).text(l).tc("has_replied",!!e.has_replied);p.is_commenting&&(l&&t(".m-comment_count",h).text(l+" "+g["comm_count_"+(l>1?"n":"1")]),h.tc("first-comment",!l),f.like_count||f.is_liked||t(".m-like",f.root).text(g.likepost));t(".m-time",w).text(s(d)).attr({title:c(d),"data-time":d}).tooltip2({prefix:"m-",timeout:500});t(".m-title",w).html(o(i(n(f.title,"search"==a.type)))),e.page&&p.is_forum&&t(".m-cat",w).html(g.in_forum+" <a>"+e.page.title+"</a>").find("a").click(function(){return e.is_expanded?(p.load(e.page.path),!1):void 0}),u()}}),p.is_commenting||"moot"==a.type||h.on("click",function(o){var n=window.getSelection;if(!(n&&n().toString()||h.hc("loading"))){var i=e.is_loaded;if(!e.is_expanded)return e.expand(),i?l(!0):h.ac("loading"),!1;t(o.target).is(".m-title")&&(e.collapse(),i&&l(!1))}}),e.viewToggleExpand=l,h}function k(e,o){function n(e,o,n){var i=t(d("prompt")).appendTo(l.root).active2("m-").trigger("open"),a=t(".m-title, .m-body",c).text();a[140]&&(a=a.slice(0,140)+"&hellip;"),t(".m-dialog-body",i).html("&#8220;"+g(a)+"&#8221;"),t(".m-dialog-title",i).text(o),window!=window.parent&&(i.css({position:"absolute",height:t(document).outerHeight()}),t(".m-panel",i).css({marginTop:t(e.target).offset().top-50})),t("button:last",i).click(n),t("button",i).click(function(){i.trigger("close").remove()})}function i(o){t(e.moot.root).tc("retired",o),t(".m-tooltip",h).text(m?s[o?"unretire_title":"retire_title"]:s.is_retired)}function a(){c.tc("editable",e.editTimeLeft()>0&&e.is_own)}function r(e){var o=t("<span/>",{text:s.thanks}).ac("thanks badge").insertBefore(e);setTimeout(function(){o.remove()},3e3)}e.user.displayname=g(e.user.displayname);var l=e.app,s=moot.language,c=e.is_stub?t(".m-comment-head",l.root):t(d(o?"seed":"reply",e)),u=l.user,p=e.moot.match_count>=0;l.is_forum||t(".m-facelink",c).removeAttr("href"),e.uploads=q(e.body.join("")),t(".m-post",c).data("post",e),t(".m-time",c).attr("href",l.conf().prefix+e.relativePath.replace("#",":")).tooltip2({prefix:"m-",timeout:500}),e.user.is_admin&&t(".m-name",c).after(t("<span/>",{text:s.admin}).ac("mod-badge")),e.root=c.mousemoved(),e.on("reload",e.is_new,function(){c.tc("is-new",e.is_new)}),t(".m-body",c).on("render",function(){function o(t){n.html(moot.format(e.body,t,p)),i.tc("closed",!t).tc("opened",t),a.html((t?s.less:"")+"&hellip;"),l.emit("format",n,e)}var n=t(this),i=n.parent(),a=t(".m-show-all",i),r=e.is_expanded;n.html(moot.format(e.body,r,p)),l.emit("format",n,e),(e.has_more||e.body[1])&&(i.ac("expandable "+(r?"opened":"closed")),a.html((r?s.less:"")+"&hellip;").click(function(){e.is_loaded?o(!e.is_expanded):a.ac("loading"),e.toggle(!e.is_expanded)})),e.on("more",function(){a.rc("loading"),o(!0)})}).trigger("render"),t(".m-heart",c).each(function(){function o(o,a){arguments.length||(o=e.like_count,a=!!e.is_liked);var r=o;a&&(o--,r=o?"+"+o:""),i.text(a?s.unlike:s.like),n.tc("has-likes",!a&&o>0).tc("is-liked",a).toggle(!!o||a),t("strong",n).text(o?r:"")}var n=t(this),i=t(".m-like",c),a=t(".m-like_list",c).active2("m-");i.click(function(){if(u.is_logged&&!u.banned){var t=!e.is_liked;o(e.like_count+(t?1:-1),t),e.likeToggle()}}),e.on("like unlike reload",!0,function(e){o(),"inline"!=e&&n.mootboost()}),n.click(function(){n.ac("loading"),a.empty(),e.whoLikes(function(e){var o=n.rc("loading").offset();t.each(e,function(e){a.append(d(l.is_forum?"face":"img",{user:this}))}),a.trigger("open").css({opacity:0}),setTimeout(function(){var e=o.left,t=a.outerWidth()/2,i=o.left>t;i&&(e+=n.outerWidth()/4-t),a.tc("edged",!i).css({opacity:""}).offset({top:o.top-a.outerHeight()-n.outerHeight()/2,left:e},10)})})})}),t(".m-action[title]",c).tooltip2({prefix:"m-"});var m=e.is_seed&&(u.is_admin||u.is_moderator),f=!!e.moot.retired,h=t(".m-retire",c);h.click(function(){if(m){var o=(t(this),!f),n=t(d((o?"":"un")+"retire_dialog")).appendTo(l.root);t("button",n).one("click",function(){n.remove()}),t("button:last",n).one("click",function(){e.moot.retireToggle(o,function(){i(o),f=o})})}}),i(f),t(".m-move",c).toggle(m).click(function(){var o=t(d("move_thread")).appendTo(l.root),n=t(".m-custom-path",o),i=l.getCategory(e.moot.path);t(".m-curr-thread-cat").text(i.title);var a=t("select",o).empty(),r=l.categories||[];t.each(r,function(e,o){var n=o.path.replace(l.path,"");n&&"/"!=n&&"/feed"!=n&&o.path!=i.path&&a.append(t("<option/>",{value:o.path,text:o.title}))}),a.append('<option value="-">- '+s.custom_path1+" -</option>"),a.change(function(){n.toggle("-"==a.val())}),t("input",n).val(e.moot.relativePath.replace("#",":")),o.active2("m-").trigger("open"),t("button:first",o).one("click",function(){o.remove()}),t("button:last",o).off("click").click(function(){var i=a.val()+"#"+e.key;if("-"==a.val()){var r=t("input",n).val();if("/"!=r[0]||-1==r.indexOf(":"))return alert(s.invalid_path);r=r.split(":"),i=l.path+r[0]+"#"+muut.urlify(r[1])}o.remove(),l.moveThread(e.moot.path,i,function(){e.moot.root.remove();var o=t(d("big_ok")).appendTo(l.root);setTimeout(function(){o.remove()},1500)})})});var v=(t(".m-remove",c).click(function(t){n(t,s.rem_post,function(){c.ac("loading"),e.remove(function(){setTimeout(function(){c.remove()},400)})})}),t(".m-edit",c).click(function(){e.edit(),c.remove()})),y=e.editTimeLeft();if(y>0)var _=setInterval(function(){t(".m-tooltip",v).text(s.undo+" "+w(y--)),0>y&&(c.rc("editable"),clearInterval(_))},1e3);e.on("reload like",!0,a),e.moot.on("reply",a);var b=t(".m-spam",c).click(function(t){n(t,s.is_spam,function(){e.spam(),r(b)})}),k=t(".m-unspam",c).click(function(){e.unspam(),r(k)});return e.on("spam unspam",e.spam_level,function(o,n){var i=n>=1;c.tc("is-spam",i),e.is_seed&&e.moot.root.tc("is-spam",i),i&&!c.hc("is-spam")&&t(".m-body",c).trigger("render")}).on("remove",function(e,t){t&&c.remove()}),u.on("login",!0,function(){var t=e.user.path==u.path;b.toggle(!t),e.spam_level&&k.toggle(!t),e.user.is_admin&&b.toggle(e.spam_level>0)}),l.emit("post",e),c}function x(e,o){var n=t("textarea",e),i=n.eq(0),a=n.last();moot.language;n.placeholder2("m-").keydown(function(o){var n=o.which;return 27==n?i.trigger("away").blur():void(13==n&&(o.ctrlKey||o.metaKey)&&(o.preventDefault(),t("button",e).click()))}).focus(function(){t(document).one("mousedown",function(o){t(o.target).closest(e)[0]||i.trigger("away")})}).keypress(function(t){String.fromCharCode(t.which)&&o.user.type(i.val()+a.val(),e.closest(".m-moot").data("moot"))}),a.keydown(function(e){var t=e.which,o=this,n=o.selectionStart,i=o.value;9!=t||!n||e.ctrlKey||e.shiftKey||(e.preventDefault(),o.value=i.slice(0,n)+"   "+i.slice(o.selectionEnd),o.focus(),o.selectionEnd=n+3),86==e.which&&(e.ctrlKey||e.metaKey)&&setTimeout(function(){a.keyup().keydown()},50)});var r=t(".m-help",e).active2({body_class:!1,prefix:"m-",trigger:t(".m-show-help",e)},function(){if(!n[1]){var e=r.outerHeight()<i.offset().top-t(window).scrollTop();r.css({top:e?-r.outerHeight()-10:""}).tc("above",e)}});!t.cookie2("moot.tip")&&t(window).width()>800&&i.one("click",function(){r.trigger("open"),t.cookie2("moot.tip",1)}),i.trigger("away"),T(e,i,a,o),j(e,a,o)}function T(e,a,r,l){if(!("ontouchstart"in window&&screen.height<800)){var s=e.hc("create"),c=t(d("preview")).appendTo(e).ac(s?"seed":"reply"),u=t(".m-title",c),p=t(".m-body",c),m=t(".m-name",c),f=moot.language,g=l.user,h=p.parent(),v=p.next().html("&hellip;");g.on("reload login logout",!0,function(e){t(".m-face",c).attr("src",g.img),m.text(g.displayname),m.next(".m-mod-badge").remove(),g.is_moderator&&m.after(t("<span/>",{text:f.admin}).ac("mod-badge"))}),a.add(r).keyup(function(){e.tc("filled",!!t(this).val())}),l.conf().show_title&&s&&(u.text(f.untitled),a.keyup(function(e){if(-1==t.inArray(e.which,ae)){var a=o(i(n(moot.fixTitle(this.value),!1)));u.html(a?a:f.untitled)}})),r.keyup(function(e){if(-1==t.inArray(e.which,ae)){var o=t(this).val(),n=h.hc("opened"),i=moot.fixBody(o,!n),a=!!i[1]||n;p.html(moot.format(i.slice(0,n?2:1))),l.emit("format",p,{uploads:q(i.join(""))}),h.tc("expandable",a)}}),a.add(r).keydown(function(e){if(86==e.which&&(e.ctrlKey||e.metaKey)){var o=t(this);setTimeout(function(){o.trigger("keyup")},10)}}),v.click(function(){h.tc("closed opened"),v.html((h.hc("opened")?f.less:"")+"&hellip;"),r.triggerHandler("keyup")}),a.on("away",function(){a.add(r).trigger("keyup")})}}function j(e,o,n){function i(n){n.preventDefault();var i=n.target.files||n.originalEvent.dataTransfer.files||[];t.each(i,function(n,l){var c=/image/.test(l.type),u=l.size<4e6;if(c&&u){s.hide();var d=new FileReader;d.onload=function(e){var a=l.name.replace(/[^\w\.]/g,"").toLowerCase(),s=l.name.split("."),c=s[0],u=re[a];if(l.altname=a,l.data=e.target.result,u&&u.data!=l.data&&(c=s[0]+"-"+n,a="file_"+n+a,l.altname=a),c=g(c),o[0].value+=" ["+c[0].toUpperCase()+c.slice(1)+"]("+a+")",re[a]=l,n==i.length-1){var d=t.trim(o.val())+" ";o.keyup().focus().val("").val(d)}r.val("")},d.readAsDataURL(l)}else s[0]||(s=t("<div/>").ac("tooltip imgtip").prependTo(e)),s.show().text(c?a.max:a.img_needed)})}if(n.conf().upload===!1&&(le=!1),le){var a=moot.language,r=t("<input/>",{type:"file",multiple:"multiple",accept:"image/*"}).css({visibility:"hidden"}).appendTo(e),l=t("<a/>",{title:a.upload}).ac("post-upload").append("<em>U</em>"),s=t(".m-imgtip",e);l.prependTo(t(".m-controls",e)).tooltip2({prefix:"m-",position:"topleft"}),r.change(i),l.click(function(){r.click()}),e.on("drop",i).on("dragover dragleave drop",function(t){t.preventDefault(),e.tc("dragged",/over/.test(t.type))})}}function q(e){var t=[];return le&&e&&e.replace(Y,function(e,o,n){var i=re[n];i&&t.push(i)}),t}function S(e,o,n){function i(t,i){o.user.is_moderator&&n.call("banUser",{username:e.path.slice(1),forumname:o.name,bantime:t},i)}function a(i,a,r){if(o.user.is_moderator){e["is_"+i]=a,c.tc("is-mod",a),t("#acl-badge span",c).text(u[i]);var l=e.path.slice(1);if(r)if("admin"==i){a?o.admins.push({username:l}):o.admins=o.admins.filter(function(e){return e.username!=l});var s=o.admins.map(function(e){return e.username});n.call("forumUpdate",{forumname:o.name,admins:s})}else n.call(a?"aclGrant":"aclRevoke",{forumname:o.name,usernames:[l],rights:[i],paths:["/"]},t.noop)}}function r(e){c.tc("is-banned",!!e),e&&(e===!0||e>s?t("input",g).prop("checked",!0).keydown():t("input",f).val(parseInt(e/l)).keydown())}var l=86400,s=365*l,c=t(d("profile",{user:e,forumname:o.name})),u=muut.language,p=t("#m-profile-actions",c),m=t("#m-banned",c),f=t(".m-days",m),g=t(".m-cb",m);if(!o.user.is_moderator)return p.add(m).remove(),c;t("input",m).on("keydown change mouseup",function(e){if(Number(this.value)>0)f.ac("active"),g.rc("active").find("input")[0].checked=!1;else{var o=this.checked;f.tc("active",!o),g.tc("active",o),o||t("input",f)[0].focus()}}).change(function(){var e=t("input",f),o=parseInt(e.val()),n=this.checked?10*s:o?l*(o+1):21*l;isNaN(o)&&e.val(21),n&&i(n)});var h=o.canUse("administrators",10,"sso"),v=o.canUse("moderators",20,"sso");return t(".m-mkadmin",p).toggle(h).click(function(){a("admin",!0,!0)}),t(".m-mkmod",p).toggle(v).click(function(){a("moderator",!0,!0)}),t("div",p).toggle(!v).find("span").text(h?u.upgrade_mod:u.upgrade_admin),t(".m-ban",p).click(function(){i(10*s),r(!0)}),t(".m-unban",m).click(function(){i(0),r(!1)}),t(".m-revoke",c).click(function(){a(e.is_admin?"admin":"moderator",!1,!0)}),a(e.is_admin?"admin":"moderator",!(!e.is_admin&&!e.is_moderator)),r(e.banTime),c}function A(e){return e&&e.replace(/["']/g,"")}function C(e){var t=de.css({fontFamily:"'"+e+"'"}).appendTo("body").width();de.css({fontFamily:"'"+e+"', monospace"});var o=t==de.width();return de.remove(),o}var O={logo:'<div id="moot-logo" style="display: block !important"><a href="https://muut.com/" target="_new"><s"icon">m</s><s"slogan">{l.slogan}</s></a></d>',request_access:'<div id="m-request-access"><d"me"><d"name"><d>{user.displayname}</d> {user.path} &bull; <a"logout">{l.logout}</a></d> @img; </d><d"h3">{l.is_private}</d><d"sect"><p><t"input" placeholder="{l.owner_msg}"></t></p><p><b"button">{l.req_access}</b></p></d></d>',no_access:'<div id="m-request-access"><d"h3">{l.is_private}</d><b"login button">{l.login}</b> {l.or_join}</d>',not_exists:'<d"invalid-access"><h4>Oops, "{name}" community does not exist</h4><a"button" href="{www}/setup/">Setup now&hellip;</a></d>',start:'<div id="mt-start"><d"h3">{ l.start_now }</d><d"tooltip tip"></d><f><input type="text" name="name" class="m-input" placeholder="{ l.reserve }" maxlength="40" autocomplete="off"><b"button">{ l.start_btn }</b></f><div id="mt-foot"><r>{ l.free_acc }</r> – <a"upgrade" href="https://muut.com/pricing/">{ l.trial }</a> ({ l.no_dialog }) </d></d>',online:'<d"users"><d"h3 users-title">{l.online}<em/></d><d"logged-users"/><d"anon-count"/></d>',forum:'<d"mask" id="st-mask"></d><d"header"><d"wrap"><d"table"><d"navi" id="m-mainlinks"><a"nav-feed" href="{hash}/feed"><s>{l.feed}</s><em"newcount"/></a><a"nav-all" href="{hash}/"><s>{l.all}</s><em"newcount"/></a><a"nav-forums"><s>{l.channels}</s></a><a"nav-online"><s>{l.online}</s><em/></a></d><d"subnavi"><d"search" id="m-search"><input type="text" name="q" placeholder="{l.search}"></d> @account; </d></d></d></d><d"wrap"> @page; <d"sidebar"><d"forums-wrap"><d"h3 forums-title">{l.channels}</d><d"forums links"/><d"custom links"/><d"admin-area"/></d></d> @logo;</d>',commenting:'<d"comment-head"><d"comment-meta"><d"seed"><a"action heart"><s>a</s><strong/></a><a"like"/><a"follow"><s"icon">e</s><strong/></a></d><d"like_list"/> @account; </d><d"comment_count"/></d>@page;@logo;',threaded:"@account;@page;@logo;",page:'<p"message"/><d"page"><d"pagetitle"><div/></d><s"loading-text">{l.loading}</s><d"form create"> @help; </d><p"collapse-all"><a><em"icon">u</em> {l.collapse}</a></p><d"list"/><b"more-moots button"/></d>',profile:'<div id="m-user-profile"> @img; <d"col"><d"h3">{ user.displayname }</d><d"meta">{ user.path }</d><div id="m-profile-actions"><b"ban">{l.ban}</b><b"secondary mkadmin">{ l.mkadmin }</b><b"secondary mkmod">{ l.mkmod }</b><d><a href="https://muut.com/account/#{ forumname }" target="_new">{ l.upgrade_link }</a> &nbsp;<s></s>&hellip; </d></d><s"badge" id="acl-badge"><s></s><a"revoke icon">x</a></s><div id="m-banned"><s"badge">{l.banned} <a"unban">x</a></s><l"days"><input type="text" value="30">{l.days}</l><l"cb"><input type="checkbox">{l.forever}</l></d></d></d>',share:'<div id="m-share"><a id="m-share-fb">f</a><a id="m-share-tw">j</a><a id="m-quot">"</a><a id="m-link">1</a></d>',navi:'<p><a href="{href}">{title}</a></p>',admin:'<d"h3 manage-title">{l.manage}</d><d"links"><p><a"nav-designer">{l.design}</a></p><p><a"nav-settings">{l.settings}</a></p><p><a"nav-acc" href="https://muut.com/account/" target="_zap">{l.myaccount}</a></p><p><a"nav-spam" href="{hash}/spam">{l.spam}</a></p></d><!--<d"refer" id="m-refer"><d"h3">{ l.spread }</d><a href="https://muut.com/settings/#{ name }/referrals" target="_zap">{ l.invite }</a></d>--><div id="m-plan"><d"h3">{ l.plan }</d><d"planlist"><em"free">FREE</em><em>MINI</em><em>SMALL</em><em>MEDIUM</em></d><a"yearly"><em>x</em> {l.save_with}! </a><div id="m-trial-left"><p><em"badge"/> { l.trial_left } </p><p"after-trial-tip"> { l.after_trial } <a href="https://muut.com/pricing/" target="_foo">{ l.free_plan }.</a></p></d><a"upgrade button"></a></d><d"refer" id="m-referred"><d"h3">{ l.reward }</d><a href="https://muut.com/account/#{ name }" target="_zap">{ l.off33 }</a></d>',addons:'<div id="m-addons"><d"h3">{l.addons}</d><d"links"><p"branding">{l.designer}</p><p"sso">{l.developer}</p></d></d><a"upgrade button"></a>',mod:'<d"links"><p><a"nav-spam" href="{hash}/spam">{l.spam}</a></p></d>',gallery:'<div id="m-gallery"><a"close">x</a><nav id="m-navi"/><div id="m-media"><img id="m-img"/><div/></d></d>',browser:'<d"h2">{l.slogan}</d><a href="https://muut.com"><img src="//muut.com/common/img/old-client.png"/></a><p><a href="http://browsehappy.com/">{l.upgrade}</a> {l.upgrade2}</p>',unverified:'<p"msg unverified"><em>{l.unver1}</em> {l.unver2} <br><a>{l.unver3}</a> ({email})</p>',banned:'<p"msg ban-msg"><em>{l.ban_acc}</em> {l.ban_msg}</p>',img:'<i"face" src="{user.img}" title="{user.displayname}">',face:'<a"facelink" href="{hash}/{user.path}" data-href="{hash}/{user.path}" title="{user.displayname}">@img;</a>',growl:'<d"growl"><a"destroy">x</a><d"entries"/></d><s"growlicon">L</s>',event:'<d"entry" data-path="{path}"> @face; <d"data"><d"meta"><r"name">{user.displayname}</r><s"time" data-time="{time}" title="{fullTime}">{prettyTime}</s></d><a"link">{title}</a></d></d>',help:'<a"show-help">?</a><d"help"><a"close">x</a><d"help-format"><d"help-bolded">*<s>{l.bold}</s>* ({l.single})</d><d"help-italics">_<s>{l.italics}</s>_</d><d>&gt; <s>{l.help3}</s></d><d"help-monospaced">`<s>{l.monospaced}</s>`</d><d>[<s>{l.title}</s>](<s>{l.link}</s>)</d></d><d"help-code"><d>&#45;&#45;&#45;</d> {l.help5} <d>&#45;&#45;&#45;</d><d>&#45;&#45;&#45; html</d> &lt;p&gt;{l.help6}&lt;/p&gt; <d>&#45;&#45;&#45;</d></d><d"help-quote"><r>{l.quote_help1}</r> {l.quote_help2} </d><d"help-post"><em>ctrl</em> + <em>&crarr;</em><s>&nbsp; {l.help2}</s></d></d>',meta:'<d"meta"><s"name">{user.displayname}</s><a"time" data-time="{time}" title="{fullTime}">{prettyTime}</a><s"cat"/><s"spammed">{l.spam}</s><s"actions"><s"reply_count"/><a"action heart"><s>a</s><strong/></a><a"follow"><s"icon">e</s></a><a"action edit" title="{l.edit}"><s"icon">i</s></a><a"action retire" title="{l.retire_title}"><s"icon">@</s></a><a"action spam" title="{l.mark}"><s"icon">!</s></a><a"action move" title="{l.move}"><s"icon">W</s></a><a"action remove" title="{l.removepost}"><s"icon">x</s></a></s></d><d"like_list"/>',body:'<d"body-wrap"><d"body"/><a"show-all"/><a"action like"/><a"action unspam">{l.unspam}</a></d>',seed:'<d"seed"> @face; <d"post"> @meta; <d"title-wrap"><d"title"></d><a"menu icon">0</a></d> @body; </d></d>',reply:'<d"reply"> @face; <d"post"> @meta; @body; </d></d>',retire_dialog:'<d"mask"><d"dialog retire-dialog"><d"dialog-head"><d"dialog-title">{l.retire_title}</d></d><d"dialog-body">{l.retire_desc}</d><d"dialog-foot"><b"secondary">{l.cancel}</c><b>{l.retire}</b></b></d></d>',unretire_dialog:'<d"mask"><d"dialog unretire-dialog"><d"dialog-head"><d"dialog-title">{l.unretire_title}</d></d><d"dialog-body">{l.unretire_desc}</d><d"dialog-foot"><b"secondary">{l.cancel}</c><b>{l.unretire}</b></b></d></d>',prompt:'<d"mask prompt"><d"dialog alarm remove-dialog"><d"dialog-head"><d"dialog-title"/></d><d"dialog-body"></d><d"dialog-foot"><b"secondary">{l.cancel}</c><b>{l.yes}</b></b></d></d>',move_thread:'<d"mask prompt"><d"dialog move-dialog"><d"dialog-head"><d"dialog-title">{l.move}</d></d><d"dialog-body"><l><r"coll">{l.from}:</r><s"curr-thread-cat"></s></l><l><r"coll">{l.to}:</r><S></S></l><d"custom-path"><r>{l.custom_path}:</r><br><input type="text" class="m-input"></d></d><d"dialog-foot"><b"secondary">{l.cancel}</c><b>{l.move}</b></b></d></d>',big_ok:'<d"mask"><d"big_ok"><s"icon">C</s><s"messag">{l.moved}</s></d></d>',more:'<d"head"/><d"get-replies"><a"to-head button" title="{l.show_old}"><em/></a><br><a"to-tail button" title="{l.show_more}"><em/></a></d><d"tail"/>',preview:'<d"preview expanded"><d"facelink"><i"face"><s"typing"/></d><d"post closed"><s"preview-title">{l.preview}</s><d"meta"><s"name"/><s"time">{l.now}</s></d><d"title"/> @body; </d></d>',moot:'<d"moot"><d"replies"/><d"form replyform"> @help; <t"postinput" rows="1" placeholder="{l.reply}"/><d"controls"><l"watch"><input type="checkbox" name="watch"> { l.watch } </l><button title="{l.enter}">{l.replybtn}</b></d><d"writing"/><d"retired-desc">{l.retired_desc}</d></d></d>',writing:'<d"facewrap"> @img; <em"typing"/></d><s>{user.displayname} {l.writing}</s>',create:'<d"input-wrap"><t"input-title" rows="1"></t><t"input-body" rows="1"></t></d><d"controls"><l"watch"><input type="checkbox" name="watch"> { l.watch } </l><s> { l.post_in }: <S"select" name="channel"/><em/></s><button title="{l.enter}"/></d>',no_title:'<t"postinput" rows="1" placeholder="{l.comment}"/><d"controls"><l"watch"><input type="checkbox" name="watch"> { l.watch } </l><button title="{l.enter}"/></d>',account:'<d"nav-account"><a"login">{l.login}</a><a"me"><s"myname"/><em"down">5</em> @img; </a></d>',account_overlay:'<d"account overlay"><a"close">x</a><i"face"/><f"upload" target="m-upload"><s>{ l.click_change }</s><input type="file" name="img" size="1"><b></b></f><d"names"><d"h3"><strong/> &bull; <a"logout">{l.logout}</a></d><d"h2"/><p"status"><s>o</s><em/> &bull; <a/></p></d><f><d"h3">{l.name}</d><s"error"/><input type="text" class="m-input" name="displayname" maxlength="50"><p"right">{l.nametip}</p></f><f><d"email-updated"><d"h3">{l.step}</d><p>{l.step1}</p></d><d"field email"><d"h3">{l.email}</d><s"error"/><input name="email" class="m-input" type="email" maxlength="100"><p"right">{l.emailtip}</p></d></f><div id="m-follow"><label id="m-follow-all"><input type="checkbox"> Watch for all new posts </l><p id="m-unfollow-all"><s>e</s><em/> &bull; <a>{l.unwall}</a></p></d><p"acc-footer"><a"my-profile">{l.my_profile}</a><a"password">{l.changepw}</a></p></d>',dialog:'<d"mask"><d"dialog"><d"dialog-head"><s"dialog-close">x</s><d"dialog-title"></d></d><d"dialog-body"></d><d"dialog-foot"><b></b></d></d></d>',social_join:'<d"mask join-mask"><d"dialog social-join"><d"dialog-head"><d"dialog-title">{l.welcome}, <span/>!</d></d><i"face" /><d"dialog-body"><d"h3">{l.welcome2}</d><l"field username"><input name="username" class="m-input" required="required" placeholder="your-username" maxlength="40"><em"tip">{l.unametip}</em></l><l"terms"><input type="checkbox" name="terms" required="required" /> {l.terms} </l></d><d"dialog-foot"><button disabled>{l.join}</b></d></d></d>'};!function(){var e=t(document),o=[];e.on("keydown",function(e){if(27==e.which){var t=o.pop();t&&t.trigger("close")}}),t.fn.active2=function(n,i){function a(d){l.add(c).toggleClass(s,d),n.body_class&&t("body").toggleClass(r+"overlaid",d),d?(o.push(l),i&&i(l,c),n.close_on_click&&e.on("mouseup"+u,function(e){t(e.target).closest(l.add(c))[0]||a(!1)})):e.off("mouseup"+u)}"string"==typeof n&&(n={prefix:n});var r=n.prefix;n=t.extend({close:"."+r+"close",close_on_click:!0,body_class:!0,prefix:"is-"},n);var l=this,s=r+"active",c=n.trigger||t(),u=(""+Math.random()).slice(1);return c.click(function(e){a(!l.hasClass(s))}),l.on("open close",function(e){e.isDefaultPrevented()||(a("o"==e.type[0]),e.stopPropagation())}),n.close&&l.on("click",n.close,function(){l.trigger("close")}),l}}(),t.fn.autogrow=function(e){var o="minHeight,maxHeight,fontSize,fontFamily,lineHeight,fontWeight,padding".split(",");return this.each(function(){e=e||0;var n,i=t(this),a=i.next(".jqt-shadow"),r=i.is("textarea");i.one("keydown",function(){a=t("<"+(r?"div":"span")+"/>").attr("class","jqt-shadow").insertAfter(i),t.each(o,function(e,t){a.css(t,i.css(t))}),a.css({position:"fixed",top:"-9999em"}),r&&a.width(i.width()),n=i.height()}).keydown(function(){setTimeout(function(){var t=i.val();a.html(t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(" ","&nbsp;"):"-"),r?i.height(t?a.height()+e:n):i.width(a.outerWidth())},1)})})},t.fn.mousemoved=function(e,o){e=e||"is-hover",o=o||3e3;var n,i=0,a=0;return"ontouchstart"in window?this.addClass(e):this.each(function(){var r=t(this);r.on("mouseenter mouseleave",function(l){if(!t(l.relatedTarget).data("skip-hover")){var s="mouseenter"==l.type;r.toggleClass(e,s),s?(r.on("mousemove.jqt",function(o){a-o.pageX&&(r.addClass(e),i=t.now(),a=o.pageX)}),n=setInterval(function(){t.now()-i>o&&(r.removeClass(e),i=t.now())},1e3)):(r.off("mousemove.jqt"),clearInterval(n))}})})};var F="placeholder"in document.createElement("input");t.fn.placeholder2=function(e){return e=e||"",F?this:this.each(function(){var o=t(this),n=t("<span/>",{"class":e+"placeholder",text:o.attr("placeholder")});o.after(n).keyup(function(){o.parent().toggleClass(e+"filled",!!o.val())}),n.click(function(){o[0].focus()})})},t.fn.tooltip2=function(e){var o=e.prefix||"",n=o+"tooltip",i=o+"hovered",a=e.position;return"ontouchstart"in window?this:this.each(function(){var o,r,l,s,c=t(this),o=t("."+n,c);o[0]||(o=t("<span/>",{"class":n}).appendTo(c)),o.text(c.attr("title")),c.removeAttr("title").bind("mouseenter.tip2 mouseleave.tip2",function(u){
var d=/ee/.test(u.type);if(o=t("."+n,c),d){l=c.outerWidth(),r=o.outerWidth(),s=setTimeout(function(){c.addClass(i)},e.timeout||0);var p="topleft"==a?1:2,m="left"==a?{top:0,left:-r}:"right"==a?{top:"35%",left:l+5}:{top:-o.outerHeight(),left:-(r/p)+l/p};o.css(m)}else c.removeClass(i),clearTimeout(s)})})};var E=/(^|\n)[-`]{3,} *(\w*)/g,D=/<(\/?)([^3><]+)(>?)/g,L=/\[#([^\/]+)\/#\]/g,M={"<3":"a",":D":"D",":-D":"D",":d":"D",":-d":"D",":)":")",":-)":")",";)":";",";-)":";",":O":"O",":-O":"O",":o":"O",":-o":"O",":0":"O",":-0":"O",":*":"*",":-*":"*",":|":"|",":-|":"|",":(":"(",":-(":"(",":P":"P",":-P":"P",":p":"P",":-p":"P",":/":"/",":-/":"/",":'(":"'",":'-(":"'","8)":"8","8-)":"8",">:(":">",">:-(":">",">:O":"<",">:-O":"<",">:o":"<",">:-o":"<",">:0":"<",">:-0":"<"},I="";for(var U in M)I+=U.replace(/(\)|\||\*|\(|\/)/,"\\$1")+"|";I=new RegExp("(^|\\s)("+I.slice(0,I.length-1)+")","g");var N=/\.{3,}/g,W=/\"([^\"]+)\"/g,$=/\s\'([^\']+)\'/g,P=/\*([^\*]+)\*/g,R=/`([^`]+)`/g,z=/_([^_\]]+)_/g,H=/-{2,}/g,K=/ - /g;moot.format=function(e,o,i){var a,l=e.slice(0,o?2:1).join(""),s=l.split(E),c=!0,u="";return t.each(s,function(e,o){if((e+1)%3===0)return a=o;if(e%3===0&&(c=!c),o=t.trim(o),!o)return"";if(c)return u+=hilite2(t.trim(o.replace(L,"<mark>$1</mark>")),a,"m-");o=n(o,i),o=r(o);var l,s=(o+"\n").split("\n");t.each(s,function(e,o){o=t.trim(o),">"==o.slice(0,1)?(l||(u+="<blockquote>"),o=t.trim(o.slice(1)),l=!0):l&&(u+="</blockquote>",l=!1),(o||0!=e&&e!=s.length-1)&&(u+=o?t.browser.msie&&t.browser.version<9?o:"<p>"+o+"</p>":"<p class=m-empty/>")})}),u};var B={a:"a",b:"button",c:"code",d:"div",e:"fieldset",f:"form",i:"img",j:"iframe",l:"label",p:"p",r:"strong",s:"span",S:"select",t:"textarea"};t.each(O,function(e,t){O[e]=l(t)});for(var J=0;2>J;J++)t.each(O,function(e,t){O[e]=t.replace(/\s*@(\w+);\s*/g,function(e,t){return O[t]})});var Q;muut.toTime=function(e){return{prettyTime:s(e),fullTime:c(e)}};var X={};moot.render=u;var Y=/\[([^\]]+)\]\(\s*([^\)]+)\s*\)/gi,G=/https?:\/\//,V=/<\/?em>/g,Z=/https?:\/\/[^\s\"\']+(\')?/gi,ee=/(jpe?g|png|gif)$/i,te=["facebook.com","wikipedia.org/wiki","twitter.com","github.com","google.com","vimeo.com","youtube.com/watch?v","youtu.be","d.pr","dropbox.com"];moot("format",function(e){t(".m-link",e).each(function(){var e=t(this);if("m-link"==e.attr("class")){var o=e.attr("href").split("/").slice(0,3).join("/");e.removeAttr("class").ac("favlink").prepend(t("<img/>",{src:"//icon.muut.com/"+o}))}})}),window.atob=window.atob||function(e){var t,o,n,i,a={},r=0,l=0,s="",c=String.fromCharCode,u=e.length,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0;64>t;t++)a[d.charAt(t)]=t;for(n=0;u>n;n++)for(o=a[e.charAt(n)],r=(r<<6)+o,l+=6;l>=8;)((i=r>>>(l-=8)&255)||u-2>n)&&(s+=c(i));return s},t.each(["add","remove","toggle","has"],function(e,o){t.fn[o[0]+"c"]=function(e,t){return this[o+"Class"]("m-"+e.split(" ").join(" m-"),t)}}),t.fn.mootslide=function(e,o){return e=e||100*oe,this.each(function(){var n=t(this),i=n.css({opacity:0}).outerHeight();n.height(0).animate({height:i},e).animate({opacity:1,queue:!0},e,function(){n.css({height:"",opacity:""}),(o||t.noop)()})})},muut.openWindow=h,t.fn.mootboost=function(e){return this.each(function(){var o=t(this);o.ac("boosted"),setTimeout(function(){o.rc("boosted")},e||500*oe)})};var oe=2.718;moot(function(e){function o(){a.data("ready",!1),a.empty(),e.destroy(),a.muut(r)}function n(e){e&&window.pageYOffset+window.outerHeight<a.offset().top&&(e=null),a.tc("has-message","string"==typeof e),t(".m-message",a).text(e),e&&e.stack&&console.error(e.stack)}var i,a=e.root,r=e.conf(),l=moot.language;if(e.is_stub){if("available"!=e.forumAvailable&&!e.access_only)return a.replaceWith("");if(e.access_only){var c=e.user.is_logged,u=t(d(c?"request_access":"no_access",{user:e.user}));return a.html(u).rc("app-loading"),c?(t("button",u).click(function(){var o=g(t("textarea",u).val());u.ac("loading"),e.requestAccess(o,function(){t(".m-sect",u.rc("loading")).text(l.req_sent)})}),t(".m-logout",u).click(function(){u.ac("loading"),e.user.logout()}),e.user.one("logout",o),!1):(t("a",u).click(function(){t(".m-login",u).trigger("click",{tab:1})}),e.user.one("login",o))}if(!/moot.it|muut.com/.test(location.host))return a.rc("app-loading").html(d("not_exists",{name:e.name,www:"https://muut.com"})),!1}t.each(["forum","threaded","commenting"],function(t,o){e.user.displayname=g(e.user.displayname),e["is_"+o]&&a.html(d(o,{user:e.user})).addClass("is-"+o)}),e.is_threaded&&r.show_online&&a.prepend(d("online")),location.hash.split(r.prefix)[1]&&!r.widget&&e.on("load",function(o){var n="unread"==e.page.extra?t(".m-reply:last.m-is-new:first, .m-replies > :last",a):a;o.is_init&&n[0]&&t("html, body").animate({scrollTop:n.offset().top-30},300)}),setInterval(function(){t("[data-time]",a).each(function(){var e=t(this),o=e.data("time"),n=t("span",e);o&&e.html(s(o)+(n[0]?n[0].outerHTML:""))})},1e4*oe),e.on("error",n).on("waiting",function(e,t){t.on("progress",function(e,t){n(l.progress[e]),3==e&&(i=setTimeout(n,1e3))}).done(function(){clearTimeout(i),n()})}).on("destroy",function(){a.empty().data("ready",!1)}),e.channel.on("close",function(){i=setTimeout(function(){n(l.reconnect),setTimeout(n,15e3)},2700*oe)}).on("reconnect",function(){clearTimeout(i),n()}).on("type",function(e){e.img?e.displayname=g(e.displayname):(e.img="//i2.wp.com/cloudinary-a.akamaihd.net/moot/image/upload/t_d2-avatar/v1364433564/moot.jpg?ssl=1",e.displayname=l.someone)}),e.is_commenting&&(t(".m-create",a).remove(),a.on("click",'a[href^="'+r.prefix+'"]',function(e){e.preventDefault()}))}),moot(function(e){function o(){e.is_commenting||setTimeout(function(){var o=t.grep(e.page,function(e){return e.is_expanded});r.parent().tc("shown",o.length>0)},1)}var n=e.root,i=t(".m-list",n),a="created",r=t(".m-collapse-all a",n).click(function(){e.page.collapse()}),l=t(".m-more-moots",n).click(function(){e.page.more()});e.is_commenting&&r.parent().remove(),e.on("before:load",function(r){l.hide(),r.on("load more",function(t){if(l.text(r.available).css("display",r.available>0?"block":"none"),o(t),!e.is_commenting&&"load"==t){var i=r.find(r.path);i?y((i.seed||i).root,200):r.is_init||y(n,100,function(){return!1})}}).on("before:more more",function(e){l.tc("loading","more"!=e)}).on("before:moot",function(e){b(e,r).prependTo(i),e.root.ac(a)}).on("moot",function(n,l){if(n.root&&n.root.hc(a))setTimeout(function(){n.root.rc(a)},500*oe);else if(l){var s=b(n,r).prependTo(i);n.from_channel&&s.mootslide()}else b(n,r).appendTo(i);n.on("expand collapse",o);var c=n.page;"moot"==r.type&&c.title&&!e.is_commenting&&t("<a/>",{text:c.title}).ac("back").appendTo(i).click(function(){e.load(c.path)}),e.emit("topic",n,l)}).on("remove",function(e){e.root.fadeOut(function(){e.root.remove()})})})}),moot(function(e,o){function n(e){var t=e.split("@");return l.prefix+"/"+(t[1]?"@"+t[1]:e.split("/").slice(2).join("/"))}function i(e,o){t(".m-newcount",e).css({display:o>0?"inline-block":"none"}).text(o)}if(!e.is_commenting){var a=e.root,r=e.user,l=e.conf(),s=moot.language,c=t(".m-header",a),u=t(".m-page",a),p=t(".m-sidebar",a),m=(t(".m-navi",a),t(".m-nav-feed",a)),f=t(".m-forums-wrap",p),g=t(".m-forums",f),h=t(".m-forums-title",f),v=t(".m-custom",p),w=t(".m-nav-all",a),y=t(".m-list",a),_=t(".m-pagetitle div",a);if(a.on("click","a[target]",function(e){var t=window.open(this.href);return t.opener=null,!1}),a.off("click.zoo").on("click.zoo",'a[href^="'+l.prefix+'"]',function(o){if(!e.is_forum&&t(o.target).hc("face"))return!1;var n=t(this);if(!(o.metaKey||o.ctrlKey||n.attr("target"))){var i=n.attr("href").slice(l.prefix.length);return"feed"!=i||r.is_logged?(n.ac("loading"),e.load(i),!1):(e.user.login(function(){n.click()}),!1)}}),f.active2({prefix:"m-",trigger:t(".m-nav-forums",c)},function(e,t){var o=t.offset();e.offset({top:o.top+t.outerHeight()+10,left:o.left-(e.outerWidth()-t.outerWidth())/2})}),r.on("login logout",!r.is_logged,function(){m.attr("title",r.is_logged?"":s.login1)}),e.html){v.html(e.html);var b,k=[],x=[];t("a",v).each(function(){var o=t(this),i=o.attr("href"),a=l.prefix;if(!i||i.slice(0,a.length+1)==a+"/"){var r=e.path+"/"+(i?i.slice(3):moot.urlify(o.text())),s={title:o.text(),path:r,href:n(r)},c=o.is(".unlisted, .non-category");c?s.unlisted=!0:k.push(s),o.replaceWith(d("navi",s)),delete s.href,r.split(/[:#]/)[1]||(c||e.getCategory(r)||(b=!0),g.add(h).remove(),x.push(s))}}),k.length&&k.length!=e.categories.length&&(b=!0),r.is_admin&&b?e.setCategories(x):k[0]&&e.emit("categories",x),t(".moot-footer",v).remove().appendTo(p)}if(g[0]?e.on("categories",e.categories,function(o){o=o||e.categories,g.empty(),t.each(o||[],function(e,o){o=t.extend({},o,{href:n(o.path)});var i=t(d("navi",o)).appendTo(g);t("a",i).tc("has-new",!!o.has_new)})}):h.remove(),f.on("click",".m-links a",function(){f.trigger("close")}),e.on("before:load",function(o){y.empty().ac("loading"),a.attr("class",t.trim(a.attr("class").replace(/m-\w+page/,""))),a.rc(e.page.type+"page"),_.html(s.loading).css("display",""),t(".m-selected",a).rc("selected"),t("[href='"+n(o.path)+"']",a).add(u).ac("loading")}).on("load",function(e){var o=t("#m-search input",a),i=e.title;y.rc("loading"),a.ac(e.type+"page"),_.text(i),t(".m-loading",a).rc("loading has-new"),t("[href='"+n(e.path)+"']",a).ac("selected"),o.on("focus blur",function(e){o.closest(".m-subnavi").tc("focus","f"==e.type[0])}),"search"==e.type?(e.length?(e.old_query&&_.html(s.showing+" &ldquo;<strong>"+i+"</strong>&rdquo;<em>"+s.noresults+" &ldquo;"+e.old_query+"&rdquo;"),e.suggestion&&_.html("<strong>"+i+"</strong><em>"+s.mean+' <a href="'+l.prefix+"/?"+e.suggestion+'"">'+e.suggestion+"</a>?")):_.html(s.noresults+" &ldquo;<strong>"+i+"</strong>&rdquo;"),o.val()!=_&&o.val(i).keyup()):o.val(""),e.size||"spam"!=e.type||_.append("<em>"+s.nospam+"</em>")}),r.on("newcount",function(e){i(m,e.feed),i(w,e.all),e.all||t(".m-has-new",p).rc("has-new")}),t("#m-search",c).each(function(){var o=t(this),n=t(":input",o).placeholder2("m-");n.keyup(function(o){if(13==o.which){var n=t.trim(this.value);n&&e.search(n)}}),t(".m-placeholder",o).click(function(){n.focus()})}),history.pushState&&!l.widget){var T;e.on("load",function(e){var t=e.path,o=n(t.replace("#",":"));e.is_init||"/"!=t[0]||T||history.pushState(null,null,o)}),t(window).on("popstate",function(t){var o=unescape((location.href+location.hash).split(l.prefix+"/")[1]||"");(o||e.page.path!=e.path)&&(e.page.is_init||(T=!0,e.load(o,function(){T=!1})))})}}}),moot(function(e){var o=e.conf();if(!o.show_title){var n=t(".m-create",e.root).append(d("no_title")),i=t("textarea",n).autogrow(),a=t(":checkbox",n),r=moot.language,l=e.user,s=t("button",n);o.autowatch?a.parent().hide():a.prop("checked",o.autowatch_checked),x(n,e),l.on("login logout",!0,function(){s.text(l.is_logged?r.post:r.login_and+" "+r.post.toLowerCase())}),i.on("focus away",function(e){n.tc("focused","f"==e.type[0]||!!i.val())}),s.click(function(o){o.preventDefault();var n=t.trim(i.val()),c=n.slice(0,27),u={title:c,body:n.slice(c.length),is_followed:a.is(":checked")},d=q(n);n&&l.is_logged&&(i.val("").trigger("away").trigger("keydown").blur(),d[0]&&(u.files=d),s.prop("disabled",!0),e.create(u,function(){s.prop("disabled",!1)}).fail(function(o){t(".m-created",e.root).remove(),i.val(n).focus(),root.prepend(t("<div/>").ac("err tooltip").text(r.error)),u.error=o,e.log("error comment:failed",u)}))})}});var ne=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),ie=80;moot(function(e){function o(o,s){t(".m-created",e.root).remove(),r.val(o.title).focus(),l.val(o.body);var u="duplicate"==s.message?"Duplicate title":s.message?c.no_title:c.error;i.prepend(t("<div/>").ac("err tooltip").text(u)),o.error=s,e.log("error create:failed",o),a.one("keyup",n)}function n(){m.prop("disabled",!1),t(".m-tooltip",i).remove()}if(e.conf().show_title){var i=t(".m-create",e.root).append(d("create")),a=t("textarea",i),r=a.eq(0).autogrow(),l=a.eq(1).autogrow(),s=t(":checkbox",i),c=moot.language,u=window.getSelection,p=e.user,m=t("button",i),g=e.conf();if(g.autowatch?s.parent().hide():s.prop("checked",g.autowatch_checked),p.on("login logout",!0,function(){m.text(p.is_logged?c.post:c.login_and+" "+c.post.toLowerCase())}),e.is_sso&&!p.is_logged){var h=g.login_url?t("<a/>").click(function(){f(e)}):t("<div/>");return i.html(h.ac("sso-link").text(c.login_and+" "+c.start.toLowerCase()))}a.on("focus away drag",function(t){var o="f"==t.type[0],n=!!r.val();n||(r.attr("placeholder",c[o?"title":e.is_threaded?"comment":"start"]),l.attr("placeholder",o?c.body:"")),i.tc("focused",o||n||!!l.val())}).trigger("away"),x(i,e),r.keydown(function(e){if(!(""+(u&&u()))){var o=e.which;if(ne)return 13==o?!1:0;if(e.metaKey||e.ctrlKey)86==e.which&&setTimeout(function(){var e=t.trim(r.val()).split("\n"),o=e[0];o.length>ie&&(e[1]=o.slice(ie),o=o.slice(0,ie),r.val(o).keyup().keydown(),l.val(e.slice(1).join("\n")+l.val()),l.keyup().keydown())},50);else{var n=this.value.length;if(13==o||n==this.selectionStart&&39==o||40==o)return l.focus(),!1;8!=o&&39!=o&&n>=ie&&l.focus()}}}),l.keydown(function(e){if(!(""+(u&&u()))){var t=e.which,o=this.selectionStart,n=this.value.substr(0,o).split("\n").length;return 1==n&&100>o&&38==t||(37==t||8==t)&&!o?(r.focus(),!1):void 0}});var v=t(".m-select",i);v.parent().toggle(e.is_forum),e.on("categories",e.is_forum,function(){v.empty();var o=e.categories||[];o=t.grep(o,function(o){var n=o.path.replace(e.path,"");return n&&"/"!=n&&"/feed"!=n?(v.append(t("<option/>",{value:o.path,text:o.title})),!0):!1}),v.parent().toggle(o.length>1)}).on("before:load",function(e){/all|feed/.test(e.type)&&v[0]?v[0].selectedIndex=0:v.val(e.path)}),m.click(function(i){if(i.preventDefault(),n(),p.is_logged){var c=t.trim(l.val()),u={path:v.val(),title:r.val(),body:c,is_followed:s.is(":checked")},d=q(c);if(d[0]&&(u.files=d),e.is_forum&&"page"==e.page.type&&u.path!=e.page.path)return e.load(u.path,function(){m.click()});try{p.is_logged&&m.prop("disabled",!0),e.create(u,function(){a.val("").trigger("away").blur(),n()}).fail(function(e){o(u,e)})}catch(i){o(u,i)}}})}});var ae=[16,27,33,34,35,36,37,38,39,40,45,91];moot(function(e){e.channel.on("close reconnect",function(o){var n="c"==o[0];t("button, textarea",e.root).prop("disabled",n)})}),moot("topic",function(e){var o=t(".m-form",e.root),n=t("textarea",o).autogrow(),i=t(":checkbox",o).prop("checked",e.is_followed),a=t("button",o),r=moot.language,l=e.app,s=l.user,c=l.conf(),u=l.is_commenting?r.post:r.replybtn;if(c.autowatch&&i.parent().hide(),s.on("login logout",!0,function(){a.text((s.is_logged?"":r.login_and+" ")+u)}),l.is_sso&&!s.is_logged){o.html("<div class='m-writing'/>");var d=c.login_url?t("<a/>").click(function(){f(l,e)}):t("<div/>");return o.append(d.html(u+"&hellip;").ac("sso-link"))}x(o,l),n.on("focus away",function(e){o.tc("focused","f"==e.type[0]||!!n.val())}),e.seed.is_stub&&(n.attr("placeholder",e.replies.length?r.comment:r.comment1),e.one("reply",function(){n.attr("placeholder",r.comment)})),a.click(function(u){u.preventDefault(),t(".m-imgtip",o).hide();var d=t.trim(n.val()),p={body:d,is_followed:c.autowatch||i.is(":checked")},m=q(d);d&&s.is_logged&&(n.val("").trigger("away").trigger("keydown").blur(),m[0]&&(p.files=m),a.prop("disabled",!0),e.reply(p,function(){t(":file",o).val(""),a.prop("disabled",!1)}).fail(function(i){t(".m-created",e.root).remove(),n.val(d).focus(),o.prepend(t("<div/>").ac("err tooltip").text(r.error)),l.log("error reply:failed",{moot:e.path,body:d,error:i})}))})});var re={},le="FormData"in window&&"File"in window;moot("load",function(){re={}}),moot(function(e){function o(a,r){if(!window.ga){if(n)return;return n=!0,t.getScript("//google-analytics.com/analytics.js",function(){ga("create",i,"auto"),o(a,r)})}ga("send","event","Moot: "+a,r,e.user.path||"anonymous")}var n,i=e.analytics&&e.analytics.ga;i&&(e.user.on("login",function(){setTimeout(function(){o("login",e.page.path)},10)}),e.on("before:load",function(e){e.one("load",function(){o("load",e.title),"moot"==e.type&&o("topic",e.title)}),e.on("before:moot",function(e){o("post",e.seed.title)}).on("moot",function(e){e.on("load before:reply like",function(t){"load"==t&&(t="topic"),"before:reply"==t&&(t="post"),o(t,e.seed.title)})})}))});var se;moot(function(e){function o(e,t){document.title=e.displayname+" "+t,setTimeout(function(){document.title=se},i)}if(!e.conf().widget&&e.is_forum){se||(se=document.title||t("title").text()||"");var n=e.is_forum,i=(e.user,1e3*oe);e.channel.on("moot reply",function(e,t){t.seed&&(t=t.seed),t.path&&o(t.user," – "+(t.title||t.body[0]).slice(0,32))}).on("type",function(e){o(e,moot.language.writing)}),n&&e.on("load",function(e){e.title&&(document.title=e.title+" | "+se)})}});var ce=".m-image, .m-youtube-link, .m-youtu-link, .m-vimeo-link";moot(function(e){var o;t(".m-page",e.root).on("click",ce,function(e){e.preventDefault();var n=t(e.target).closest("a");if(!n.hc("vimeo-link")||parseInt(n.attr("href").split("/")[3])){e.preventDefault();var i=t("#m-gallery");i[0]||(i=t(d("gallery")).appendTo("body")),o||(o=i.active2("m-"));var a=t("#m-navi",i).empty(),r=t("#m-media"),l=t("iframe",r),s=t("img",r),c=t(ce,n.closest(".m-body"));n.closest(".m-moot");return c=c.filter(function(){var e,o,n=t(this),i=n.text(),c=t("<span/>").appendTo(a).html("<em>"+i+"</em>"),u=n.attr("href");if(/youtu/.test(n.attr("class"))){o=(u.split("?v=")[1]||u.split("/").slice(-1)[0]).split(/[&#]/)[0],e="//www.youtube.com/embed/"+o+"?autoplay=1";var d=/[#&]t=([^&$]+)/.exec(u);d&&(e+="&start="+d[1]),u="//i1.ytimg.com/vi/"+o+"/mqdefault.jpg"}else if(n.hc("vimeo-link")){if(o=u.split("/").slice(-1)[0],!parseInt(o))return!1;e="//player.vimeo.com/video/"+o+"?autoplay=1",t.getJSON("//vimeo.com/api/v2/video/"+o+".json?callback=?",function(e){u=e[0].thumbnail_small,c.css("backgroundImage","url("+u+")").attr("src",u)}),u=""}return re[u]&&(u=re[u].data),c.css("backgroundImage","url("+u+")").click(function(){t("span",a).rc("active"),t(this).ac("active"),l.attr("src",""),r.tc("is-video",!!e),t("div",r).text(i.length>10?i:""),e?(l[0]||(l=t("<iframe/>",{webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,frameborder:0,height:390,width:640}).appendTo(r)),l.attr("src",e)):s.attr("src",u)}),e&&c.ac("video"),!0}),i.tc("has-nav",c.length>1),window!=window.parent&&i.one("open",function(){var e=t(window),o=(t(document),300),a=e.outerHeight()-n.offset().top-o-100;0>a&&(o-=a),i.ac("on-iframe").css({paddingTop:n.offset().top-o})}),i.one("close",function(){l.attr("src",""),s.attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==")}).on("click.out",function(e){(e.target==i[0]||e.target==r[0])&&i.trigger("close").off(".out")}),t("span",a).eq(c.index(n)).click(),i.trigger("open"),!1}})}),moot(function(e){var a,r,l=e.root,s=t(d("growl")).appendTo(l),c=s.eq(0),u=s.eq(1),p=t(".m-entries",s);t(".m-destroy",s).click(function(){p.empty(),s.hide(),a=!0}),u.click(function(){s.show(),u.hide(),a=!1}),e.channel.on("moot reply",function(l,s){if(s){s.seed&&(s=s.seed);var m=e.page,f=m.find(s.path);if(!f||"moot"!=m.type&&!t(".m-focus",f.moot.root||1)[0]){var h=s.title||s.body&&s.body[0];h=h.replace(Z,function(e){return e.split("/").slice(-1)}).replace(Y,function(e,t){return t}),h.length>=90&&(h=h.slice(0,90).slice(0,h.lastIndexOf(" "))+"&hellip;"),h=o(i(n(h)));var v={time:t.now(),user:s.user||s,title:h,path:s.path,moot:s.moot};v.user.displayname=g(v.user.displayname);var w=t(d("event",v)).prependTo(p);t(".m-link",w).click(function(){function t(){n.is_expanded||n.viewToggleExpand(!0),setTimeout(function(){o=n.find(v.path),o&&y(o.root)},400)}var o=m.find(v.path),n=o?o.seed?o:o.moot:m.find(v.moot.path);n?n.is_loaded?n.is_expanded?n.is_expanded&&y(o.root):t():n.load(t):e.load(v.moot.path,function(e){y(e[0].replies.slice(-1)[0].root)})}),a?u.show().mootboost(200):(u.hide(),c.show().mootboost(200),clearInterval(r),r=setTimeout(function(){c.hide(),u.show()},1e3*oe),c.one("mouseenter",function(){clearInterval(r)})),t(".m-entry",c).length>3&&c.ac("large")}}}).on("remove",function(e){t("[data-path='"+e.path+"']",c).remove(),t(".m-event",p)[0]||s.hide()})}),moot(function(e,o){function n(){p.rc("active"),t(document).off("click.m-logo")}function i(e){v.prop("disabled",!0),m.ac("active").html(e)}var a=e.root,r=t("#moot-logo",a),l=t("a",r);if(e.has_products)return t(".m-slogan",r).remove(),l.attr("title",(e.is_forum?"Forums":"Commenting")+" by Muut").tooltip2({prefix:"m-"});var s,c,u=/^[a-zA-Z0-9\-]+$/,p=t(d("start",{name:e.name})).appendTo(a),m=t(".m-tooltip",p),f=t("form",p),g=t("input",f),v=t("button",f);l.mouseover(function(){var e=l.offset();c=setTimeout(function(){p.ac("active").css({top:e.top-p.outerHeight()-16,left:e.left-p.outerWidth()/2+l.outerWidth()/2}),t(document).on("click.m-logo",function(e){t(e.target).closest(p)[0]||n()})},150)}).mouseout(function(e){t(e.originalEvent.relatedTarget).closest("#mt-start")[0]||clearTimeout(c)}),g.on("focus blur",function(e){s="focus"==e.type}),p.mouseleave(function(){s||n()});var w;g.keyup(function(e){if(13!=e.which){var o=t.trim(this.value),n=!o||u.test(o);n?o&&m.rc("active"):i("Use numbers, letters or dashes")}}).one("keypress",function(){m.rc("active")}).keyup(function(){var e=t.trim(this.value);e.length>4&&w!=e&&u.test(e)&&(w=e,v.prop("disabled",!0),o.call("forumAvailable",e,function(){v.prop("disabled",!1),m.rc("active")}).fail(function(t){i(/taken/.test(t)?'"'+e+'" is already reserved':'"'+e+'" is not available, please contact <em>info@muut.com</em>')}).always(function(){w=0}))}),f.submit(function(t){t.preventDefault();var o=this.name.value.toLowerCase(),a=o.length;return!u.test(o)||5>a?i("Type 5 characters or more"):(h("https://muut.com/"+o+"/?source="+e.name,900,800),void n())}),t(".m-upgrade",a).click(function(e){window.open("https://muut.com/pricing/","_blank"),e.preventDefault()})}),moot(function(e){function o(o){t("a.m-facelink",o.jquery?o:void 0).each(function(){var o=t(this).data("href")||t(this).attr("href");t(this).tc("online",!!e.getUser(o.slice(3)))})}function n(e){return t("[href*='"+e.path+"']",c)}function i(e){var o=n(e);return o[0]||(e.displayname=g(e.displayname),o=t(d("face",{user:e})).tooltip2({prefix:"m-"}).appendTo(c),e.is_admin&&(o.ac("is-admin"),t(".m-tooltip",o).append("<em> ("+s.admin+")</em>")),t("img",o).removeAttr("title")),o}var a=e.root,r=t(".m-nav-online",a),l=t(".m-users",a),s=moot.language;if(e.on("post",function(e){o(e.root)}),e.channel.on("enter leave",o),e.user.on("login logout",o),e.conf().show_online===!1)return r.remove();l[0]||(l=t(d("online")).appendTo(t(".m-sidebar",a))),l.active2({prefix:"m-",trigger:r},function(e,t){var o=t.offset();e.offset({top:o.top+t.outerHeight()+10,left:o.left-l.outerWidth()+t.outerWidth()-10})});var c=t(".m-logged-users",l).empty(),u=t(".m-users-title em",l).add(t(".m-nav-online em",e.root)),p=t(".m-anon-count",l);c.on("click","a",function(){l.trigger("close")}),e.channel.on("enter",function(e){e&&i(e).mootboost(500)}).on("leave",function(e){e&&n(e).fadeOut(function(){t(this).remove()})}).on("away return",function(e,t){n(t).tc("inactive","away"==e)}).on("type",function(e){var o=t("<em/>").ac("typing").appendTo(e.path?n(e):p);setTimeout(function(){o.remove()},1e3*oe)}).on("enter leave away return",!0,function(t){var o=e.users.online_count||e.online.length,n=e.anon_count;/leave|away/.test(t)?o--:o++,e.users.online_count=o,c.add(u).toggle(o>0),u.text(o),p.toggle(n>0).html((o>0?"+":"")+"<em>"+n+"</em> "+s[1==n?"anon_1":"anon"])}),t.map(e.online,i)}),moot(function(e,o){e.on("load",function(n){t("#m-user-profile",e.root).remove();var i=e.page;if(i&&"user"==i.type){var a=i.meta.user;S(a,e,o).insertAfter(t(".m-pagetitle",e.root))}})}),moot(function(e){function o(e,t){u.tc("quotable",!!l).rc("behind"),e-=u.height();var o=u.width();t-=o-o/2,u.offset({top:e,left:t})}function n(){a&&a.rc("active"),u.ac("behind")}function i(e,o,n){if(c.test(e)){var i;return t(".m-facelink",n).filter(function(){var o=t(this),n=o.attr("href")||o.data("href");return n&&n.indexOf(e)>0||o.attr("title")==e}).each(function(){return i=t(".m-body p:contains('"+o+"'):first",t(this).next()),i[0]?!1:void 0}),i}}var a,r,l,s=134,c=/^[^\<\>]{3,}$/i,u=t(d("share")).appendTo(e.root),p=t(document),m=e.conf();(e.skip_sharing||m.share===!1)&&t("#m-share-fb, #m-share-tw, #m-link").remove(),p.mouseup(function(n){var i=t(n.target);if(i.is(".m-menu")){r=!0,a=i;var s=i.closest(".m-post").data("post").path;t("#m-link",u).attr("href",m.prefix+s.replace("/"+e.name,"").replace("#",":"));var c=i.ac("active").offset();i.width();return o(c.top,c.left)}setTimeout(function(){var e=window.getSelection;l=e?e().toString():document.selection.createRange().text;try{if(e&&"P"!=e().getRangeAt(0).endContainer.parentNode.tagName)return}catch(s){}if(t.trim(l)&&!i.closest(".m-collapsed, a, .m-preview")[0]&&i.closest(".m-body-wrap, .m-title")[0])return r=!1,a=i,o(n.pageY-12,n.pageX+6)},10)}),e.on("format",function(e,o){t("blockquote",e).each(function(){var e=t(this),n=t("p:first",e),a=n.text().slice(1),r=t("p:gt(0)",e).text(),l=o.moot?o.moot.root:e.closest(".m-moot"),s=i(a,r,l);s&&(n.ac("user-path"),e.ac("quote").on("mouseenter mouseleave click",function(e){"click"==e.type?y(s):t("body").is(":animated")||s.tc("boosted",/ee/.test(e.type))}))})}),p.mousedown(function(e){u&&!t(e.target).closest(u)[0]&&n()}),u.click(function(o){var i=t(o.target),c=a.closest(".m-post"),u=c.data("post"),d=u.user.displayname,p=m.page_url+m.prefix+u.relativePath.replace("#",":"),f=u.moot.seed.title;if(i.is("#m-share-fb")){var g=t(".m-image[href*='//']:first",c).attr("href")||t('[property="og:image"]:first').attr("content")||e.share_img||"";"//"==g.slice(0,2)&&(g="https:"+g);var v={app_id:"140164242702484",picture:g,name:f,description:r?u.body.join(" "):l,link:p,redirect_uri:"https://muut.com/sharing/",display:"popup"};h("https://www.facebook.com/dialog/feed?"+t.param(v),650,400)}else if(i.is("#m-share-tw")){r&&(l=f);var w=d.length;l.length+w+21>s&&(l=l.slice(0,s-w-22)+"…"),l='"'+l+'" –'+d;var _=e.twitter_handle,v={text:l,url:p};_&&(v.via=_),h("https://twitter.com/intent/tweet?"+t.param(v),550,420)}else if(!r){var b=t("textarea",a.closest(".m-moot")),k=b.val();k&&(k+="\n"),k+="> "+(m.quotes_with_displayname?"@"+d:u.user.path)+"\n",k+="> "+l+"\n",y(b,200,function(){b.val(k).keyup().keydown();var e=b[0];e.focus(),e.selectionStart=e.selectionEnd=e.value.length})}n()}),n()});var ue=/font-family:\s?['"]?([\w\s]+)['"]?;/,de=t("<span/>",{text:"My F0n# T000 Str--ing"}),pe=!!t.browser.msie&&t.browser.version<9;moot.css={accent:".m-heart.m-has-likes span, .moot .m-button::after, .moot .m-show-help",accentbg:".moot button, .m-button",body:".moot .m-body, .m-input-body",boxes:".m-moot, .m-sidebar",button:".moot .m-button, .moot button",collapsed:".m-moot.m-collapsed .m-title",create:".moot .m-input-wrap",face:".moot .m-face",header:".moot .m-header",headings:".moot .m-sidebar .m-h3, .m-pagetitle, .m-navi a",input:".m-focused .m-input-wrap, .m-focused.m-replyform textarea",moot:".moot",navi:".m-links",page:"body",para:".m-body p, .moot textarea",replies:".moot .m-replies",reply:".m-reply",selected:"#m-mainlinks .m-selected, .m-pagepage .m-nav-forums, .m-userpage .m-nav-online",sidebar:".m-sidebar",title:".moot .m-title, .moot textarea.m-input-title",topic:".moot .m-moot, .m-create .m-input-wrap, .m-preview",wrap:".m-wrap, .m-tablet"};var me={};moot.loadFont=function(e,o){if(me[e]||C(e))return o&&o();me[e]=!0,e=A(e.replace(/ /g,"+"));var n='<link href="//fonts.googleapis.com/css?family='+e+"\" rel='stylesheet'>";t(n).appendTo("head").load(o)},moot(function(e){function o(){var e=(d[0]||n[0]).clientWidth/u;e>0&&n.tc("pc",e>=43).tc("tablet",43>e).tc("mobile",25>e)}var n=e.root,i=(e.user.is_logged,e.design),a=t(window),r=(a.outerHeight(),"");n.rc("app-loading loading").tc("sso",e.is_sso).tc("no-title",!e.conf().show_title).tc("ie8",pe).tc("webkit",!!t.browser.webkit||!!t.browser.chrome),e.on("load",function(e){n.tc("no-threads",!e[0])});var l=e.brand_color;if(l&&e.canUse("color-and-logo",10,"branding")){l[3]||(l+=l);var s=parseInt(l,16)>8388607.5;r+=".m-dialog-head { background-color: #"+l+(s?";color: #333":"")+"}"}i&&(n.addClass(i.classes),t.each(i.css,function(e,t){if("page"!=e||/moot.it|muut.com/.test(location.host)){r+=moot.css[e]+"{"+t+"}";var o=ue.exec(t);o&&moot.loadFont(o[1])}}));var c=t("<style/>",{id:"moot-css"}).appendTo("head");pe?c[0].styleSheet.cssText=r:c.text(r);var u=parseFloat(n.css("fontSize")),d=t(".m-wrap:eq(1)",n);a.resize(o),o(),a.one("load",o)}),moot(function(e,o){function n(){window.open("https://muut.com/account/#"+e.name,"_blank")}function i(e){if(e>0){var t=e/86400;if(t>2)return Math.round(t)+" days";var o=e/3600;return o>2?Math.round(o)+" hours":Math.round(e/60)+" minutes"}}var a=/.+@.+\..+/i,r=/^[^\<\>]{3,}$/,l=e.root,s=e.user,c=e.conf(),u=moot.language,p=t(".m-nav-account",l),m=t(d("account_overlay")).prependTo(l),v=t(".m-h2",m).text(s.displayname),w=t(".m-admin-area",l),y=t(".m-myname",p),_=t(".m-login",l),b=t(".m-me",p);!s.is_logged&&e.is_sso&&(c.login_url?_.click(function(){f(e)}):_.remove()),m.active2({prefix:"m-",trigger:b},function(){var e=b.offset();m.offset({left:e.left+(c.rtl?0:b.outerWidth()-m.outerWidth()),top:e.top+b.outerHeight()+10})}),t(".m-my-profile").click(function(){e.load(s.path),m.trigger("close")}),t(".m-status",m).each(function(){function e(){var e=s.is_visible;t("em",o).text(u[e?"online":"invisible"]),t("a",o).text(u[e?"hide":"show"]),o.tc("invisible",!e)}var o=t(this);t("a",o).click(function(){o.ac("loading"),s.hideToggle(function(){o.rc("loading"),e()})}),s.on("login logout",!0,e)}),t("#m-follow").each(function(){var o=t(this),n=t("input",o);s.on("login",!0,function(){var t=s.subscription_paths;t=t&&t[0]==e.path,n.prop("checked",t),o.tc("follow-all",t)}),s.on("follow unfollow login",!0,function(){var e=s.subscription_count;t("#m-unfollow-all").toggle(e>0),t("em",o).text(e)}),t("a",o).click(function(){s.unfollowAll()}),n.change(function(){var t=this.checked;s.toggleFollow(e.path,t,function(){o.tc("follow-all",t)})})});var k=t(".m-face",m),x=t(".m-preview img, img[title='"+s.displayname+"']",l).add(k),T=t(".m-upload",m);b.one("click",function(){T.jsonrpc({api:"https://api.muut.com",method:"userUpdate",session:e.channel.session}).on("done",function(e,t){x.attr("src",t).rc("loading"),s.emit("update",{img:t})})}),t(":file",T).bind("change drop",function(e){t.each(e.target.files||[],function(e,t){if(t.type.match("image.*")&&t.size<15e5){var o=new FileReader;o.onload=function(e){x.attr("src",e.target.result)},o.readAsDataURL(t)}}),"change"==e.type&&t("button",T).click()}).bind("dragenter dragleave change",function(e){t(this).tc("hover",/enter/.test(e.type))}),t("form:gt(0)",m).each(function(){function e(){var e=t.trim(n.val()),o="email"==d?a:r;return e!=s[d]&&o.test(e)}var o=t(this),n=t("input",o),i=t("<button/>",{text:u.change,disabled:!0}).appendTo(o),d=n.attr("name");n.keyup(function(t){var n=e();i.show().prop("disabled",!n),this.value==s[d]&&i.hide(),n&&o.rc("is-error")}),o.submit(function(a){if(!e())return!1;a.preventDefault(),o.ac("loading").rc("valid");var r={},p="email"==d,m=g(t.trim(n.val())),f=t(".m-name:contains('"+s.displayname+"')",l);r[d]=m,p&&(r.url=c.page_url),s.update(r,function(){if(o.rc("loading").ac("updated"),i.hide(),!p){var e=t("<span class='m-saved'>"+u.saved+"</span>").appendTo(o);setTimeout(function(){e.remove()},1e3),f.add(v).add(y).text(m)}}).fail(function(e){o.rc("loading").ac("is-error"),t(".m-error",o).text(/taken/.test(e)?u[d+"_taken"]:u.invalid)})})});var j=t(".m-maillist input").prop("checked",!!s.maillist).change(function(){s.update({maillist:!!this.checked},function(){j.parent().mootboost()})});t(".m-password",m).click(function(){var o=t.extend({host:c.url.host,l:u.$code,rtl:c.rtl},e.channel.session);e.brand_logo&&(o.logo=e.brand_logo),e.brand_color&&(o.bgcolor=e.brand_color),h("https://muut.com/login/password.html?"+t.param(o),350,430)}),s.login=function(o){t(".m-login",l).click(),e.one("reload",o)},t(".m-logout",l).click(function(){m.ac("loading"),s.logout()}),s.on("login",s.is_logged,function(){
if(k.add(t("img",b)).attr("src",g(s.img)),y.add(v).text(s.displayname),t(".m-names strong",m).text(s.path),t.each(["displayname","email"],function(){t("[name='"+this+"']",m).val(s[this])}),j.prop("checked",!!s.maillist),l.tc("is-unverified",!!s.unverified),s.unverified&&!t(".m-unverified")[0]){var a=t(d("unverified",{email:s.email}));t(".m-page",l).prepend(a);var r=t("<a/>").ac("incomplete").html(u.unver3);t(".m-email .m-h3",m).append(t("<span/>").ac("badge").text(u.unver)).after(r),r.add(t("a",a)).click(function(){var o=t(this);s.sendValidationCode({forumname:e.name,url:c.page_url},function(){o.replaceWith(t("<strong/>").text(u.unver4).ac("incomplete"))})})}if(s.is_admin&&e.is_forum){var p=t(".m-sidebar",l),f=t(".m-forums-title",p);t(".m-edit-cats",p)[0]||t("<a/>",{text:u.edit}).ac("edit-cats").appendTo(f).click(function(){var t=window.open("https://muut.com/settings/#"+e.name+"/channels","_blank");t.focus()}),w.html(d("admin",{name:e.name})),t(".m-nav-settings",w).click(function(){var t=window.open("https://muut.com/settings/#"+e.name,"_blank");t.focus()}),t(".m-nav-designer",w).click(function(n){n.preventDefault();var i=t("body").toggleClass("md-enabled");t("#moot-designer")[0]||(t("head").append("<link href='https://cdn.muut.com/1.14.0/designer.css' rel='stylesheet'>"),t("<div/>",{id:"moot-designer"}).appendTo(i).load("https://cdn.muut.com/1.14.0/designer.html",function(){t.getScript("https://cdn.muut.com/1.14.0/designer.min.js",function(){moot.designer(e,o)})}))});var h=t("#m-plan",w),_=e.service||{},x=e.products,T=_.level,q=_.trial_left,S=s.is_owner&&q>0;q>0&&(T=30),S&&t("#m-trial-left").show().find(".m-badge").text(i(q)),x[0]?(h.html(d("addons")),t.map(x,function(e){var o=e.split("-")[0];t(".m-"+o,h).ac("active")})):T&&t(".m-planlist em:lt("+(T/10+1)+")",h).ac("active").last().ac("current"),t(".m-upgrade",h).text("free"==_.type?u.trial:"Upgrade now!").off("click").click(n).toggle(s.is_owner&&30>(T||0)||!!S);var A=localStorage,C=t(".m-yearly",w).toggle("monthly"==_.term&&!A.noyearly).click(n);t("em",C).click(function(){C.remove();try{A.noyearly=1}catch(e){}return!1}),t("#m-referred").toggle(!!s.referralEligible),t("#m-refer, .m-upgrade",w).toggle(!s.referralEligible)}s.is_moderator&&!s.is_admin&&e.is_forum&&w.html(d("mod"))}),s.on("login logout banned",!0,function(){var e=s.is_logged;l.tc("logged",e).tc("no-logged",!e),m.rc("loading").trigger("close"),l.tc("is-admin",s.is_admin).tc("is-moderator",s.is_moderator);var o=e&&s.banTime>0;l.tc("is-banned",o),o&&t(".m-page",l).prepend(d("banned"))}).on("logout",function(){t(".m-unverified, .m-ban-msg, .m-incomplete, .m-edit-cats, .m-email .m-badge",l).remove()}),e.is_sso&&t(".m-h3, form, .m-password, .m-maillist",m).remove()}),moot(function(e){function o(){function o(e){f.ac("alarm"),v.text(i.warning),w.text(i.expired),y.text(i.ok),u.append(f)}var r=(unescape(location.hash).split("!")[1]||"").split("/"),l=r[0],s=r[1],c=r[2];if(!n&&/password|account|email/.test(l)&&s){n=!0;var u=e.root,p=e.user,m={confcode:s,email:c},f=t(d("dialog")).active2({prefix:"m-dialog-"}),g=a[l],v=t(".m-dialog-title",f).text(i[g[0]]),w=t(".m-dialog-body",f).text(i[g[1]]),y=t("button:last",f).text(i[g[2]]||i.ok);if(f.trigger("open"),p.is_logged||(m.path=e.page.path),t("button, .m-dialog-close",f).click(function(){f.remove(),"localhost"!=location.hostname&&history.replaceState&&history.replaceState(null,null,"#")}),"password"==l)return p.is_logged?!0:p.checkResetCode(m,function(){m.id=m.email,delete m.email,u.append(f),w.text(i.open_pw),y.click(function(){t.extend(m,{host:e.conf().url.host,l:i.$code,rtl:e.conf().rtl},e.channel.session),e.brand_logo&&(m.logo=e.brand_logo),e.brand_color&&(m.bgcolor=e.brand_color),h("https://muut.com/login/forgot.html?"+t.param(m),350,350)})}).fail(o);if("account"==l||p.is_logged){var _="account"==l;p[_?"confirmAccount":"confirmEmail"](m,function(){u.append(f),_?(u.rc("is-unverified"),t(".m-unverified",u).remove()):(t(".m-email input",u).val(c),w.html(i.address_now))}).fail(o)}else u.append(f),v.text(i.login1),w.text(i.non_anon),y.text(i.login),y.click(function(){t(".m-login",u).click()});t(window).off("popstate.confirm")}}var n,i=moot.language,a={password:["changepw",0,"change"],account:["c_acc","c_acc1"],expired:["expired"],email:["c_email"]};t(window).on("popstate.confirm",o),setTimeout(o,t.browser.msie?500:0)}),moot(function(e){function o(o){var n={referrer:i["moot.referrer"],expand_all:!a.show_title,host:a.url.host,url:a.page_url,path:e.page.path,l:r.$code,rtl:a.rtl};e.brand_logo&&(n.logo=e.brand_logo),e.brand_color&&(n.bgcolor=e.brand_color),o&&t.extend(n,o),t.extend(n,e.channel.session),(window.mootlogin||h)("https://muut.com/login/?"+t.param(n),360,530)}if(!e.is_sso){var n=/^[a-z0-9\-]{4,}$/i,i=window.localStorage||{},a=e.conf(),r=moot.language,l=e.user,s=e.root,c=t();s.on("click",".m-form button, .m-login, .m-like",function(n,i){return e.user.is_logged?void 0:(o(i),l.one("login join",function(){var e=t(n.target).click();if(e.is("button")){var o=e.closest(".m-post");if(!o[0]){var i=e.closest(".m-moot");i[0]&&(o=t(".m-replies .m-reply:last",i))}y(o)}}),!1)}),l.on("before:join",function(o){function i(){u.prop("disabled",!f.is(":checked")||!m.parent().hc("ok"))}c.trigger("close");var a=t(d("social_join")).appendTo(s),u=t("button",a),p=o.user;t(".m-face",a).attr("src",p.img),t(".m-dialog-title span",a).text((p.name||p.displayname).split(" ")[0]),t(".m-terms a").attr({href:"https://muut.com/terms",target:"_new"});var m=t(":text",a).val(p.username).keyup(function(){var e=n.test(this.value),o=this.value.length;t(this).parent().tc("ok",e).tc("fail",o>3&&!e),i(),o>2&&m.next().text(r[e?"uname_len":"username_fail"])}),f=t(":checkbox",a).change(i);m.triggerHandler("keyup"),t("button",a).click(function(){var t={secret:o.secret,username:m.val(),provider:o.provider,path:e.page.path};return l.join(t,function(){s.rc("is-join"),a.remove(),c.trigger("close")}).fail(function(e){if(/taken/.test(e)){m.parent().ac("is-error").rc("ok");m.next().text(r.uname_taken)}}),!1})})}}),t.fn.moot=t.fn.muut=function(e,o){return"string"==typeof e&&(e={url:e}),e=t.extend({show_title:!0,prefix:"#!",autowatch:!0,autowatch_checked:!0},e),muut.prefix=e.prefix,this.each(function(){var n,i=t(this),a=i.attr("href"),r=i.data(),l=location.hash.split(e.prefix)[1],s=r.channel||r.category||r.pagetitle||document.title||t("title").text()||"",c=moot.language,u=t("<span/>").text(c.loading).ac("loading-text");if(!i.data("ready")){i.data("ready",!0),a||(a=t(".muut-url",i).remove().attr("href")),t("*",i)[0]&&(n=i.html()),t.extend(e,r),e.url&&e.url.href&&(e.url=e.url.href),t.extend(e,{mootTitle:e.title||i.attr("title"),channelName:s.slice(0,30*oe)||"Untitled",url:(a||e.url).toLowerCase(),page_url:e.page_url||location.href.split("#")[0],rtl:"rtl"==t("html").attr("dir")});var p=e.url.split(e.prefix);if(p[1]&&(e.page_path=p[1],e.url=p[0]),e.channel&&(e.channelName=e.channel),l&&"/"==l[0]&&(e.path=unescape(l)),"dynamic"==i.attr("type")&&(e.url+=":"+location.pathname.slice(1).replace(/\//g,"-"),e.show_title=!1),i.is("a")){var m=t("<div/>").attr({"class":i.attr("class"),"data-url":e.url});i.replaceWith(m),i=m}i.addClass("moot m-app-loading"),t("*",i)[0]||i.empty(),i.prepend(u);try{moot("error",function(e){"currentforum:invalid"==e&&i.html(c.badforum+': "'+this.name+'"')}),moot(e,function(e){e.html=n,e.root=i,t.isFunction(o)&&o.call(e,e),u.remove()})}catch(f){i.rc("app-loading"),/json-rpc/.test(f.message)&&i.ac("no-support").html(d("browser")).append('<img style="display:none" src="//oldbrowser.muut.com/'+escape(navigator.userAgent)+'">')}}})},t(function(){t(".moot[href], .muut[href]").moot(),t(".moot .moot-url[href], .muut .muut-url[href]").each(function(){var e=t(this);e.closest(".moot, .muut").moot(e.remove().attr("href"))})})}(!this.top,jQuery),function(e){"use strict";function t(e,t){for(var o in t)e[o]=t[o];return e}function o(e,o){return t(t({},e),o)}function n(e,t,o){return'<span class="'+e+t+'">'+o+"</span>"}function i(e){return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/&lt;mark&gt;/g,"<mark>").replace(/&lt;\/mark&gt;/g,"</mark>")}function a(e,t,a){var r="",s=[],c=o(l.common,l[t]);e=i(e);for(var u in c){var d=c[u],p=u.split(",");d&&e.replace(d,function(){for(var e,t,o,n,i=0,a=p.length,r=arguments;e=p[i];i++)t=a>1?1:0,o=r[i+t],n=r[a+t],4!=r.length||t||(o=r[1]||r[0],n=r[2]),i&&(n+=[].slice.call(r,1,i+1).join("").length),s.push([n,n+o.length,e])})}s=s.sort(function(e,t){return e[0]-t[0]});var m,f,g,h=0,v=0,w=0;for(s.length;m=s[v];v++)f=s[v-1]||[],g=s[v+1]||[],m[0]<w||m[0]==g[0]&&g[1]>m[1]||m[1]>w&&(w=m[1],r+=e.substring(h,m[0]),r+=n(a,m[2],e.substring(m[0],m[1])),h=m[1]);return r+=e.substring(h)}function r(t,o,r){var l,s,c="",u="";return o=o||"",r=r||"",t.split("\n").map(function(e,t){var d=e.trim(),p=d.slice(0,2),m="<"==d[0]||">"==d.slice(-1);if(!m&&("//"==p||"--"==p||"# "==p))return c+=n(r,"comment",i(e))+"\n";if(("/*"==p||"{#"==p||"<!--"==d.slice(0,4))&&(s=!0),s)return u+=e+"\n",void(("*/"==d.slice(-2)||"#}"==d.slice(-2)||"-->"==d.slice(-3))&&(s=!1,c+=n(r,"comment",i(u)),u=""));if(m){var f=d.toLowerCase().slice(1,6);"style"==f&&(l=!0),l&&"/styl"==f&&(l=!1)}c+=a(e,m?"html":l?"css":o,r)+"\n"}),c=c.trim(),e?c:'<pre class="'+r+"syntax "+r+o+'">'+c+"</pre>"}var l={common:{string:/'[^']*'|"[^"]*"/g,keyword:/\b(none|true|false|and|array|catch|class|def|delete|echo|end|else|elseif|exit|extends|except|finally|for|foreach|global|if|import|local|module|new|object|or|package|print|private|protected|public|rescue|return|require|self|struct|static|sub|switch|then|this|throw|try|unsigned|var|while)\b/gi,accent1:/\b(boolean|const|void|char|short|int|integer|long|float|double|string)\b/g,operator:/\+|\!|%|\-|&lt;|&gt;|&amp;|\.|;|:|\||\*|\=/g,bracket:/[{}\[\]\(\)]/g,number:/\b\d+\.?\d*\b/gi,"accent2,bracket":/\b(\w+)\s?(\()/gi},html:{operator:0,accent1:0,accent2:0,"accent2,bracket":0,"bracket,accent1":/(&lt;\/?)([\w-]+)/g,"accent2,operator":/([\w-]+)(=)/g,bracket:/&lt;|&gt;/g,accent3:/{[^}]+}/g},java:{accent3:/@\w+\b/gi},js:{accent1:/\$|function|window|document|setTimeout|setInterval|console/g,accent3:/\/.+\/[igm]{0,3}/g},css:{keyword:/body|html|none|inline|bold|block|rgba?|hsla?|solid|dotted|italic/gi,"number,number":/(\d+\.*\d*)(px|em|rem|%)/gi,string:/#[a-f0-9]{3,6}/gi,accent1:/\b([\-\w]+):\s?/gi,accent2:/[#\.][\w\-]+\b/gi,accent3:/:\w+/gi},python:{accent3:/"""[\w\W]*"""/gm},ruby:{accent1:/\b(String|ArgumentError|puts|Thread|Errno::|Exception)\b/g,accent3:/[@:]\w+/g},markdown:{keyword:/[\*_].+[\*_]/gi,accent1:/#{1,2} .+/g,accent2:/#{3,} .+/g,accent3:/[- =]{3,}/g},sh:{accent1:/\b(echo|rm|ls|mkdir|rmdir|cd|find|cp|exit|pwd|exec|set|sed|awk)\b/g},php:{accent3:/\$\w+\b/g},perl:{"keyword,accent3":/\b(sub)\s*(\w+)\s*{/g},sql:{accent1:/\b(insert|into|create|table|update|select|from|where|values)\b/gi},redis:{accent1:/[A-Z]+/g}};l.javascript=l.js,l.stylus=l.css,l.yaml=l.markdown,l.shell=l.bash=l.sh,l.coffee=l.coffeescript=o(l.python,{accent1:l.js.accent1,accent2:/-&gt;/g}),l.django=l.jinja=o(l.html,{bracket:l.common.bracket,keyword:/\b(set|block|endblock|extends|if|endif)\b/g,accent3:/(\{\{.+\}\})/g}),r.lang=l,e?module.exports=r:window.hilite2=r}("object"==typeof exports),moot.language={$code:"fi",move:"Siirrä ketju",moved:"Ketju siirretty",custom_path1:"Oma polku",custom_path:"Anna polku",invalid_path:"Epäkelpo polku",from:"Mistä",to:"Mihin",retire:"Arkistoi",retire_title:"Arkistoi ketju",retire_desc:"Arkistoidut ketjut eivät pomppaa syötteiden alkuun.",retired_desc:"Tämä ketju on arkistoitu. Uudet vastaukset eivät enää pompauta sitä syötteiden alkuun.",is_retired:"Tämä ketju on arkistoitu",unretire:"Poista arkistointi",unretire_title:"Poista ketjun arkistointi",unretire_desc:"Ketju pomppaa jälleen syötteen alkuun.",quote_help1:"Valitse",quote_help2:"siteerataksesi tai jakaaksesi",trial_left:"jäljellä kokeilujaksoa.",after_trial:"Kokeilujakson jälkeen voit jatkaa Muutin käyttöä",free_plan:"Free-versiona",reward:"Referral reward",off33:"Upgrade now and get 33% off all our paid plans!",spread:"Spread the word!",invite:"Invite a friend to start a Muut community and you’ll both get rewarded!",start_now:"Perusta oma yhteisö nyt — se on ilmaista!",start_btn:"Luo",reserve:"Varaa nimi yhteisöllesi",free_acc:"Ilmainen tili",no_dialog:"poistaaksesi tämän ilmoituksen",click_change:"Vaihda",moderator:"Moderaattori",mkadmin:"Tee administraattori",mkmod:"Tee moderaattori",upgrade_mod:"to make this user a moderator",upgrade_admin:"to make this user administrator or moderator",my_profile:"Oma profiili",post_in:"Post in",address_now:"Thank you! Your email address has been confirmed.",open_pw:"Please hit the button below to open a password change dialog",non_anon:"Kirjaudu ensin sisään!",plan:"Tilaus",trial:"Kokeile ilmaiseksi",is_private:"Suljettu yhteisö",owner_msg:"Viestisi ylläpitäjälle... (Ei pakollinen)",req_access:"Haluan sisään",req_sent:"Kiitos. Pyyntö vastaanotettu",or_join:"tai <a>Liity</a> yhteisöön",save_with:"Maksa vuosittain ja säästä 20%",rem_post:"Poista tämä kommentti?",is_spam:"Tämä kommentti on spämmiä?",channels:"Kanavat",ch_name:"Kanavan nimi",ban:"Estä",banned:"Estetty",ban_acc:"Käyttö estetty",ban_msg:"Et voi toistaiseksi kirjoittaa tähän yhteisöön.",days:"Päivää",forever:"Ikuisesti",slogan:"Muut – Ilmainen foorumi ja kommentointi",add:"+ Lisää",addons:"Laajennukset",myaccount:"Oma tilini",untitled:"Ei otsikkoa",design:"Ulkoasu",no_title:"Otsikko on annettava",designer:"Designer",developer:"Developer",givebody:"Sisältö on annettava.",body:"Sisältö",invisible:"Piilossa",img_needed:"Vain kuvatiedostot kelpaavat",max:"Maksimi kuvakoko: 4Mb",yes:"Kyllä",upload:"Lataa kuvia",show_old:"Näytä vanhimmat vastaukset",show_more:"Lisää vastauksia",show_new:"Näytä uusimmat vastaukset",start:"Uusi aihe...",someone:"Joku",writing:"kirjoittaa...",manage:"Ylläpito",fullview:"Näytä kokonaan",title:"Otsikko",link:"linkki",avatar:"Vaihda kuva",upgrade_link:"Päivitä",branding:"Brändäys",logo:"Logo",css:"CSS tiedosto",single:"yksi sana",bold:"lihavoitu",italics:"kursiivilla",monospaced:"kiinteävälistä",learn:"Lue lisää...",admin:"Ylläpitäjä",settings:"Asetukset",username_fail:"Käytä kirjaimia, numeroita tai väliviivaa",all:"Kaikki",anon_1:"anonyymi",anon:"anonyymiä",badforum:"Epäkelpo foorumi",c_acc1:"Voit nyt käyttää kaikkia sivustoja, joissa on Muut käytössä",c_acc:"Sinut on vahvistettu",c_email:"Osoitteesi on vahvistettu",cancel:"Peru",change:"Muuta",changepw:"Muuta salasanaa",close:"Sulje",collapse:"Sulje kaikki",comm_count_1:"kommentti",comm_count_n:"kommenttia",comment1:"Kommentoi ensimmäisenä...",comment:"Kommentoi...",edit:"muokkaa",email:"Sähköposti",email_taken:"Tämä osoite on jo käytössä",emailtip:"Osoite on salainen, eikä sitä anneta eteenpäin",enter:"ctrl + rivinvaihto",expired1:"Lähetimme sinulle juuri mailitse uuden",expired:"Vanhentunut vahvistuskoodi",feed:"Omat",help2:"lähetä",help3:"lainaus",help5:"koodia, kieli arvataan",help6:"html koodia",in_forum:"foorumissa",invalid:"Virheellinen kentän arvo",join:"Liity Muut:tiin",later:"Myöhemmin...",less:"vähemmän",like:"Tykkää",likepost:"Tykkää tästä kirjoituksesta",loading:"Ladataan...",login:"Kirjaudu",login1:"Kirjaudu ensin sisään",login_and:"Kirjaudu ja",logout:"Uloskirjaudu",mark:"Asiaton tai roskaa",mean:"Tarkoititko",name:"Näkyvä nimi",nametip:"Oikea nimesi, jolla sinut tunnetaan",newpass:"Uusi salasana",noresults:"Ei tuloksia haulle",nospam:"Ei spämmiä!",notexist:"ei löydy.",ok:"ok",online:"Paikalla",show:"näytä",hide:"piilota",post:"Lähetä",preview:"Esikatselu",progress:["ladataan...","edelleen...","yhä vielä...","luovutetaan"],reconnect:"Luodaan yhteys...",removepost:"Poista",reply:"Vastaa...",replybtn:"Vastaa",save:"Tallenna",saved:"tallennettu",search:"Hae",select:"Valitse foorumi",setup:"Luo heti",showing:"Näytetään",spam:"Roskapostit",step:"Vahvistus lähetetty",step1:"Osoitteesi päivittyy, kun klikkaat mailissa olevaa linkkiä.",terms:"Hyväksyn <a>käyttäjäehdot</a>.",thanks:"Kiitos!",uname_len:"4 kirjainta tai enemmän",uname_taken:"Tämä tunnus on jo varattu!",unametip:"Tunnusta ei voi muuttaa myöhemmin",undo:"Peru",unlike:"En tykkääkään",unspam:"Ei roskapostia!",unver1:"Tiliä ei vahvistettu",unver2:"Vahvista tilisi sinulle lähetetystä mailista.",unver3:"Lähetä uusi vahvistuskoodi",unver4:"Maili on lähetetty.",unver:"Vahvistamaton",unwall:"poista kaikkien seuranta",unwatch:"En seuraa",upgrade2:"Muut käyttää WebSocket tai CORS tekniikkaa. Kaikki selaimet, paitsi Opera 11 and IE7 tukevat näitä.",upgrade:"Suosittelemme päivittämään selaimesi",username_taken:"Tämä tunnus on jo käytössä",watch:"Seuraa tätä keskustelua",welcome1:"Vahvista tilisi sinulle lähetetyssä mailissa. Jos viestiä ei näy, tarkasta vielä roskaposteista.",welcome2:"Luo Muut-käyttäjätunnus",welcome:"Tervetuloa Mootin käyttäjäksi",you:"Sinä",now:"nyt",months:"tammi,helmi,maalist,huhti,touko,kesä,heinä,elo,syys,loka,marras,joulu",min:"min",hour:"t",day:"pv",week:"vk"};})}(document);