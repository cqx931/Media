var ENERVEE=ENERVEE||function(){return{chargeCookieName:"chargeid",chargeCookieLifespan:730,setCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e},getCookie:function(a){var b=a+"=",c=document.cookie.split(";"),d="";return c.forEach(function(a){if(a=a.trim(),0==a.indexOf(b))return d=a.substring(b.length,a.length)}),d},updateOrCreateChargeCookie:function(a){ENERVEE.setCookie(ENERVEE.chargeCookieName,a,ENERVEE.chargeCookieLifespan)},get_charge:function(a,b,c,d,e,f,g){function h(){window.EnerveejQuery=window.jQuery,j=window.jQuery.noConflict(!0),i()}function i(){function h(){j(m).hide(),j(n).hide(),j(p).show(),j(r).text(s),j(q).focus()}function i(){j(m).hide(),j(p).hide(),j(n).show(),j(o).hide(),j(r).slideUp(200),j(r).text(s),j(q).slideUp(200)}function k(a,b,c,d,f,g){j(r).html(t),path=e+"/incentiveprocess/cg-send-v1/";var k=window.location.protocol+"//"+window.location.host+window.location.pathname,l={email:a,rebate_id:b,id:c,utility_id:d,retailer_id:f,retail_product_link:k,zipcode:g};j.ajax({type:"POST",crossDomain:!0,url:path,data:l,dataType:"json",success:function(a){a.error?h():i()},error:function(a){if(window.XDomainRequest){var b=new XDomainRequest;b.open("POST",path),b.send(JSON.stringify(l)),b.onload=function(){b.responseText.error?h():i()}}}})}function l(b){j.ajax({url:e,data:b,dataType:"jsonp",success:function(b){if(!b.error){element=j(a),element.html(b.html);var c=b[ENERVEE.chargeCookieName];ENERVEE.updateOrCreateChargeCookie(c),j("#enchrg-email-address").keypress(function(a){j("#enervee-widget-error").hide(),13==a.which&&(j("#enchrg-submit-email-address").click(),a.stopPropagation(),a.preventDefault())}),j("#enchrg-submit-email-address").click(function(a){var c=j("#enchrg-email-address").val();k(c,b.rebate_id,b.product_id,b.utility_id,b.retailer_id,d),a.stopPropagation(),a.preventDefault()})}}})}var m="#enchrg-rebate-description",n="#enchrg-email-success-msg",o=".js-enchrg-go-email",p="#enchrg-email-error-msg",q="#enchrg-email-address",r="#enchrg-submit-email-address",s="Go",t='<div class="enchrg-loading-img"></div>';e||(e="https://charge.enervee.com");var u=ENERVEE.getCookie(ENERVEE.chargeCookieName);j.getJSON("https://jsonip.com/?callback=?",function(a){var e={product_code:c,zipcode:d,slug:b,utility:f,charge_id:u,ip_address:a.ip,from_utility:g,host:window.location.hostname};l(e)})}var j,k;if(void 0!=window.jQuery?(k=window.jQuery.fn.jquery.split("."),k=parseInt(k[0])<1||parseInt(k[1])<7):k=null,void 0!=window.EnerveejQuery)j=window.EnerveejQuery,i();else if(void 0===window.jQuery||k){var l=document.createElement("script");l.setAttribute("type","text/javascript"),l.setAttribute("src","https://s3.enervee.com/cg/jquery.min.js"),l.readyState?l.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||h()}:l.onload=h,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(l)}else j=window.jQuery,window.EnerveejQuery=window.jQuery,i()}}}();