webpackJsonp([16],{101:function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});var k=a(40),l=k&&k.__esModule?k:{"default":k},f=a(249);c["default"]=function(a,e){a.config=(0,f.assign)({setState:function(a,b){return this.state=b},getState:function(a){return a},onSerialize:function(a){return a.toJS()},onDeserialize:function(a){return l["default"].fromJS(a)}},e);return a};g.exports=c["default"]},1032:function(g,c,a){var k=a(461),l=a(222);YUI.add("squarespace-util-authenticated",function(a){a.namespace("Squarespace");
a.Squarespace.UtilAuthenticated={userHasAccessPermission:function(a){return k.hasPermission(a)},isSquarespaceAdmin:function(){return k.isAdmin()},isBetaFeatureEnabled:function(a){return l.isFeatureEnabled(a)}}},"1.0",{requires:["squarespace-util"]})},1038:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c};a=a(9);g.exports=a.createActions(function f(){(0,k.default)(this,f);this.generateActions("setEnabledFeatures")})},1039:function(g,c,a){c=(c=a(244))&&c.__esModule?c:{"default":c};g.exports=
(0,c.default)({TRIAL_UPGRADE_PLAN:"trial-upgrade",UPGRADE_PLAN:"upgrade"})},1071:function(g,c,a){var k=a(1067),l=a(1153),f=a(276),b=a(91),e=a(579),d=a(61),n=a(605),m=a(137),p=a(1024);g.exports=function(a,h,c){var g=d(a)||p(a);h=b(h,4);if(null==c)if(g||m(a)){var t=a.constructor;c=g?d(a)?new t:[]:n(t)?l(e(a)):{}}else c={};(g?k:f)(a,function(a,b,d){return h(c,a,b,d)});return c}},1078:function(g,c,a){g.exports=[{label:"General",features:[{cookieKey:"referralsBetaEnabled",title:"Referrals Program",description:"Enable the panel for the Referrals program. During the beta, be careful not to enter the contact info of anyone not also beta testing!"},
{cookieKey:"twoFactorAuth",title:"Two-factor auth",description:"Enable features related to two-factor auth."},{cookieKey:"singleSignOn",title:"Single sign on",description:"Enable single sign on across websites."},{cookieKey:"existingContentPagePicker",title:"React Content Link Modal",description:"Uses a refactored version of the page and file picker for links."},{cookieKey:"mobileAdminSiteLink",title:"Admin site link - on mobile",description:"Adds a 'View site' link to the editing state on mobile."},
{cookieKey:"imageBlockCards",title:"Image Block 2.0",description:"Adds 5 new layout options for Image Blocks."},{cookieKey:"addPostStraightToInlineEditing",title:"Add Post \u2192 Inline Editing",description:"Post creation with priority to inline edit."},{cookieKey:"tweakV2ExperimentalFeatures",title:"Tweak 2.0 - Experimental Features",description:"Enable experimental features for Style Editor"},{cookieKey:"tweakV2ImportExport",title:"Tweak 2.0 - Import / Export",description:"Enable Import / Export features for Style Editor"},
{cookieKey:"ssl",title:"SSL",description:"Customer Facing SSL Configuration"},{cookieKey:"reactDomainManagementPanels",title:"React Domain Management Panels",description:"React good, YUI bad"},{cookieKey:"seoPlus",title:"SEO+",description:"Streamline the SEO experience (new tabs, clearer options, etc.)."},{cookieKey:"acuityBlock",title:"Acuity Scheduling BLock",description:"Enable the Acuity Scheduling Block"}]},{label:"i18n",features:[{cookieKey:"i18nShowFormattedCurrency",title:"Show Currency Formatting",
description:"Display a \ud83d\udcb0 emoji around formatted currencies."},{cookieKey:"i18nShowLocalizedComponents",title:"Show Localized Components",description:"Add a special demarcation for localized components and wrap non-visual content strings with a flag emoji, like: \ud83c\uddfa\ud83c\uddf8 text \ud83c\uddfa\ud83c\uddf8."},{cookieKey:"i18nShowFormattedDates",title:"Show Formatted Dates",description:"Display a \ud83d\udcc6 emoji around formatted dates."},{cookieKey:"i18nShowFormattedDateTime",
title:"Show Formatted DateTimes",description:"Display a \ud83d\udd5b emoji around formatted DateTimes"}]},{label:"Commerce",features:[{cookieKey:"customerAccountsEnabled",title:"Customer Accounts",description:"Enable customer accounts"},{cookieKey:"discounts",title:"Commerce Discounts",description:"Enable new commerce discounts"},{cookieKey:"showLegacyCommercePlanUpdate",title:"Legacy Commerce Plan Notification",description:"Show the legacy commerce plan update notification if you match the plan criteria."},
{cookieKey:"giftCards",title:"Gift Cards",description:"Enable merchant gift cards"}]},{label:"Developers",features:[{cookieKey:"devDropboxSync",title:"Dropbox Sync",description:"Use Dropbox to download your template source code and keep changes in sync."},{cookieKey:"devAutoRefresh",title:"Template Auto-Refresh",description:"Refresh your website whenever a change is detected to the template."}]}]},1095:function(g,c){g.exports={WEBSITE_LEGACY_TRIAL:"website-legacy-trial",WEBSITE_CLASSIC_TRIAL:"website-classic-trial",
WEBSITE_CLASSIC_PERSONAL:"website-classic-personal",WEBSITE_CLASSIC_PROFESSIONAL:"website-classic-professional",WEBSITE_CLASSIC_COMPED:"website-classic-comped",WEBSITE_LEGACY_COMPED:"website-legacy-comped",WEBSITE_LEGACY_PROFESSIONAL:"website-legacy-professional",WEBSITE_LEGACY_PERSONAL:"website-legacy-personal",WEBSITE_LEGACY_COMMERCE:"website-legacy-commerce",WEBSITE_COVER_PAGE:"website-starter",WEBSITE_COVER_PAGE_TRIAL:"website-starter-trial",WEBSITE_COMMERCE_TRIAL:"website-commerce-trial",WEBSITE_COMMERCE_BASIC:"website-commerce-basic",
WEBSITE_COMMERCE_ADVANCED:"website-commerce-advanced",PARKING_PAGE_REMOVED:"parking-page-removed",WEBSITE_V5_LINKED_LOW:"website-v5-linked-low",WEBSITE_V5_LINKED_HIGH:"website-v5-linked-high",WEBSITE_PARKING_PAGE:"website-parking-page"}},1129:function(g,c,a){var k=a(1231),l=a(1234),f=a(91),b=a(61),e=a(459);g.exports=function(a,c,m){var p=b(a)?k:l;m&&e(a,c,m)&&(c=void 0);return p(a,f(c,3))}},1135:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c};a=a(9);g.exports=a.createActions(function f(){(0,
k.default)(this,f);this.generateActions("refreshNavData","navChange")})},1137:function(g,c,a){var k=a(175),l=a(24),f=a(587),b=a(1553);g.exports={generateUrl:function(a){if(a.id){var d=3>a.title.length?a.typeName+"-"+a.title:a.title,d=b(d);return l.post("/api/content-collections/"+a.id+"/generate-url",{title:a.title,urlId:d})}},create:function(a){a=f(a);a=k.stringify(a);return l.post("/api/commondata/SaveCollection",a,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})},
read:function(a){return l.get("/api/commondata/GetCollection",{params:{collectionId:a}})},readAll:function(){return l.get("/api/commondata/GetCollections")},"delete":function(a){return l.post("/api/commondata/RemoveCollection",k.stringify({collectionId:a}))},deleteUnusedPageCollectionPermanently:function(a){return l.post("/api/commondata/unused-start-page-collection",k.stringify({collectionId:a}))},clone:function(a){return l.post("/api/commondata/CopyCollection",k.stringify({collectionId:a}))}}},
1161:function(g,c,a){var k=a(239),l=a(564),f=a(545),b=a(279),e=a(63),d=a(241);YUI.add("squarespace-content-collection-utils",function(a){a.namespace("Squarespace").ContentCollectionUtils={groupCollectionsByTypeName:function(b){for(var d={},c=0;c<b.length;c++){var h=b[c];if(!h.get("isDemoCollection")){h=h.get("typeName");if(!d[h]){var e=k.getState().collectionConfigs[h];d[h]={title:e?e.title:"Unknown",collections:[]}}d[h].collections.push(b[c])}}return a.Object.values(d)},getIconClassNames:function(a){var b=
a.getTemplateConfiguration(),d="";b&&b.get("supported")&&(d=b.get("icon"));""===d&&(b&&b.get("collectionType")===e.TEMPLATE_PAGE)&&(d="template-page");""===d&&(d=a.get("typeName"));return d},filterCollections:function(b,d){var c=["collectionType","ordering","folder","index"];return a.Squarespace.ContentCollectionCache.filter(function(h){if(a.Lang.isArray(d)&&-1!==d.indexOf(h.get("id"))||h.get("isDemoCollection")&&h.get("type")!==e.TEMPLATE_PAGE)return!1;var s=!0,f=h.getTemplateConfiguration(),l;for(l in b)if(s=
b[l],a.Lang.isArray(s)||(s=[s]),s=a.Array.some(s,function(b,d){var m;m=l;m=-1!==c.indexOf(m)?a.Lang.isValue(f)&&f.get(m)===b:h.get(m)===b;return m}),!s)break;return s})},getCollectionFilter:function(a,b){return a===e.PRODUCTS?{collectionType:a}:{collectionType:a,ordering:b}},isTemplatePage:function(a){return a.get("type")===e.TEMPLATE_PAGE},isIndex:function(a){return(a=a.getTemplateConfiguration())&&a.get("folderBehavior")===d.INDEX?!0:!1},isFolder:function(a){return(a=a.getTemplateConfiguration())&&
a.get("folder")},isVanillaFolder:function(a){return this.isFolder(a)&&!this.isIndex(a)&&!this.isVariation(a)},isVariation:function(a){return(a=a.getTemplateConfiguration())&&a.get("variation")},isAdjustablePageSizeCollection:function(b){var d=k.getCollectionConfig(b.get("typeName")),d=d&&d.forcePageSize,c=b.get("type")===e.COLLECTION_TYPE_GENERIC,h=this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL;return!d&&!this.isIndex(b)&&!this.isFolder(b)&&c&&h},isBlog:function(b){return!this.isGenericOrProduct(b)||
this.isFolder(b)||this.isIndex(b)?!1:this._getCollectionOrdering(b)==a.Squarespace.CollectionOrdering.CHRONOLOGICAL?!0:!1},isGallery:function(b){return!this.isGeneric(b)||this.isFolder(b)||this.isIndex(b)?!1:this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.USER},_getCollectionOrdering:function(a){return a.get("ordering")||a.getTemplateConfiguration().get("ordering")},isSupportedByBookmarklet:function(b){return!this.isIndex(b)&&!this.isFolder(b)&&b.get("type")===e.COLLECTION_TYPE_GENERIC&&
this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},hasSupportForInjectableCodePerItem:function(b){return!this.isIndex(b)&&!this.isFolder(b)&&b.get("type")===e.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},hasSupportForSyndication:function(b){return!this.isIndex(b)&&!this.isFolder(b)&&b.get("type")===e.COLLECTION_TYPE_GENERIC&&this._getCollectionOrdering(b)===a.Squarespace.CollectionOrdering.CHRONOLOGICAL},isDemoCollectionId:function(b){var d=
k.getState().demoCollections;return!d?!1:!!a.Array.find(d,function(a){return a.collectionId==b})},isGeneric:function(a){a=a.getTemplateConfiguration();return!a?!1:a.get("collectionType")===e.COLLECTION_TYPE_GENERIC},isGenericOrProduct:function(a){a=a.getTemplateConfiguration();return!a?!1:!1===a.get("folder")&&(a.get("collectionType")===e.PRODUCTS||a.get("collectionType")===e.COLLECTION_TYPE_GENERIC)},isProduct:function(a){var b=a.getTemplateConfiguration();return!b||a.get("isDemoCollection")?!1:
!1===b.get("folder")&&b.get("collectionType")===e.PRODUCTS},isPage:function(a){a=a.getTemplateConfiguration();return!a?!1:!1===a.get("folder")&&a.get("collectionType")===e.COLLECTION_TYPE_PAGE},isNotCalendar:function(b){return b.getTemplateConfiguration().get("ordering")===a.Squarespace.CollectionOrdering.CALENDAR?!1:!0},usesDisplayIndex:function(b){return[a.Squarespace.CollectionOrdering.MUSIC_ALBUM,a.Squarespace.CollectionOrdering.USER].includes(b)},getIdentifierForCollection:function(b){if(!a.Lang.isValue(b))return null;
var d=b.get("typeName");!d&&b.get("type")===e.COLLECTION_TYPE_PAGE&&(b.set("typeName","page"),d="page");var c=b.get("type");if(c===e.COLLECTION_TYPE_GENERIC){var h=b.get("ordering");a.Lang.isValue(h)||(h=k.getCollectionConfig(d),d=k.getPageConfig(d),h=(h||d).ordering);if(a.Squarespace.ContentCollectionUtils.isIndex(b))return"INDEX";if(h===a.Squarespace.CollectionOrdering.USER)return"GALLERY";if(h===a.Squarespace.CollectionOrdering.CHRONOLOGICAL)return"BLOG";if(h===a.Squarespace.CollectionOrdering.CALENDAR)return"CALENDAR";
if(h===a.Squarespace.CollectionOrdering.MUSIC_ALBUM)return"MUSIC_ALBUM";if(h===a.Squarespace.CollectionOrdering.KNOWLEDGE_BASE)return"KNOWLEDGE_BASE"}if(c===e.COLLECTION_TYPE_PAGE)return"PAGE";if(c===e.PRODUCTS)return"PRODUCT";if(c===e.TEMPLATE_PAGE)return"TEMPLATE_PAGE"},alreadyHasTooManyPagesEnabled:function(){return a.Squarespace.ContentCollectionCache.filter(function(a){return!a.get("isDemoCollection")&&!a.get("folder")&&a.get("enabled")}).length>l.getLimit(b.ADD_PAGES)?!0:!1},isHomepage:function(a){return f.getHomepageCollectionId()===
a},containsHomepage:function(b){b=a.Squarespace.Singletons.TemplateNavigationList.getItemByCollectionId(b).get("children");return b.isEmpty()?!1:!!b.toJSON().filter(function(b){return a.Squarespace.ContentCollectionUtils.isHomepage(b.collectionId)||a.Squarespace.ContentCollectionUtils.containsHomepage(b.collectionId)}).length}}},"1.0",{requires:["squarespace-models-content-collection"]})},1166:function(g,c,a){var k=a(4);YUI.add("squarespace-mixins-event-list",function(a){a.namespace("Squarespace.Mixins");
a.Squarespace.Mixins.EventList=a.Base.create("EventList",a.Base,[],{initializer:function(){a.Do.before(function(c){var b=a.Object.hasKey(c,"upcoming"),e=a.Object.hasKey(c,"past");if(b&&e)return new a.Do.AlterArgs(k("Parsing calendar-specific response"),[[].concat(c.upcoming).concat(c.past)])},this,"parse",this)},getPastEvents:function(){var c=new Date;return this.filter(function(b){b=b.get("structuredContent");if(null===b)return!1;b=a.DataType.Date.parse(b.get("endDate"));return a.DataType.Date.isGreater(c,
b)})},getUpcomingEvents:function(){var c=new Date;return this.filter(function(b){b=b.get("structuredContent");if(null===b)return!1;b=a.DataType.Date.parse(b.get("endDate"));return!a.DataType.Date.isGreater(c,b)})}})},"1.0",{requires:["base","datatype-date","event-custom","json"]})},1167:function(g,c){YUI.add("squarespace-models-audio",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Audio=a.Base.create("Audio",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Audio",
validator:function(a){return"Audio"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},audioAssetUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},artistName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},lengthInMilliSeconds:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},bitRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sampleRate:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber}}})},
"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1168:function(g,c){YUI.add("squarespace-models-calendar-event",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CalendarEvent=a.Base.create("CalendarEvent",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CalendarEvent",validator:function(a){return"CalendarEvent"===a},readOnly:!0},startDate:{valueFn:function(){var a=new Date,c=a.getMinutes();a.setSeconds(0);a.setMilliseconds(0);
30<=c?(a.addHours(1),a.setMinutes(0)):a.setMinutes(30);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber},endDate:{valueFn:function(){var a=new Date(this.get("startDate"));a.addHours(1);return a.getTime()},validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1169:function(g,c){YUI.add("squarespace-models-check-in",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CheckIn=
a.Base.create("CheckIn",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"CheckIn",validator:function(a){return"CheckIn"===a},readOnly:!0},checkinId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},venueName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},address:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
crossStreet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},city:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},state:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},country:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},postalCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryPluralName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
categoryShortName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},categoryIcon:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1170:function(g,c,a){var k=a(63),l=a(241);YUI.add("squarespace-models-collection-configuration",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.CollectionConfiguration=a.Base.create("CollectionConfiguration",a.Model,
[],{initializer:function(b){a.Lang.isBoolean(b.variation)&&b.variation?this.set("folderBehavior",l.VARIATION):a.Lang.isBoolean(b.index)&&b.index?this.set("folderBehavior",l.INDEX):a.Lang.isBoolean(b.folder)&&b.folder&&this.set("folderBehavior",l.NONE)}},{ATTRS:{collectionType:{value:k.COLLECTION_TYPE_GENERIC},folder:{value:!1},folderBehavior:{},supported:{value:!0}}})},"1.0",{requires:["base","model"]})},1171:function(g,c,a){var k=a(545),l=a(593),f=a(239),b=a(607),e=a(980),d=a(63),n=a(438),m=a(559),
p=a(223),q=a(24),h=a(175),s=a(226);YUI.add("squarespace-models-content-collection",function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentCollection=a.Base.create("Collection",a.Model,[],{initializer:function(b){this.items=b?new a.Squarespace.Models.ContentItemList({items:b.items||[],parent:this,limit:this.get("itemLimit")}):new a.Squarespace.Models.ContentItemList({parent:this,limit:this.get("itemLimit")});this._itemsEventHandle=this.items.after(["load","add","remove"],this._updateItemCount,
this);this._syncFolderChange(this.get("folder"));this.after("folderChange",function(a){this._syncFolderChange(a.newVal)});this._initialAttrs=this.getAttrs();this.unlistenToModelStore=e.listen(this._handleStoreChange.bind(this))},destructor:function(){this.unlistenToModelStore&&(this.unlistenToModelStore(),this.unlistenToModelStore=null);this._itemsEventHandle.detach();this._itemsEventHandle=null;this.items.destroy();this.items=null},toDebugString:function(){return a.JSON.stringify(this.getAttrs(["navigationTitle",
"urlId","id"]))},toJSON:function(){var a=this.constructor.superclass.toJSON.call(this);a.items=this.items.toJSON();return a},parse:function(a){a=c.superclass.parse.apply(this,arguments);a.passwordProtected&&(a.password=n.PASSWORD_MASK);return a},sync:function(a,b,d){switch(a){case "create":this._ensureDemoCloneAndSave(d);break;case "delete":b.isUnusedStarterPage?this._deleteUnusedCollectionPermanently(d):this._delete(d);break;case "read":this._read(b,d);break;case "update":this._ensureDemoCloneAndSave(d)}},
load:function(b,d,h){"function"===typeof b&&(h=d,d=b,b={});if(this._readInProgress)this.onceAfter("load",d,h);else a.Model.prototype.load.call(this,b,d?a.bind(d,h||this):null)},resetToLastRead:function(){return e.fetch(this.get("id")).then(function(b){var d=this.getAttrs();a.Object.keys(d).map(function(a){d[a]=void 0});b=a.merge(d,this._initialAttrs,this.parse(b.toJS()));this.setAttrs(b);this.set("dirty",!1)}.bind(this)).catch(this._errorHandler)},ensureProcessedItems:function(){var b=function(d){this.items.load({fields:["mediaProcessingState"]},
function(){this.items.some(function(a){return a.get("mediaProcessingState")!==m.READY})?a.later(500,this,b,d):d()}.bind(this))}.bind(this);return new a.Promise(function(a){b(a)}.bind(this))},_syncFolderChange:function(a){a&&this.set("dropdown",!0)},_ensureDemoCloneAndSave:function(b){if(this._shouldCloneCollection()){var d=this.toJSON();delete d.id;this.cloneToNewCollection({silent:!0}).then(a.bind(this._save,this,b,d))}else this._save(b)},_handleStoreChange:function(b){if(a.Env){if(b=b.get(this.getId()))this.setAttrs(this.parse(b.toJS())),
this.set("dirty",!1)}else this.unlistenToModelStore&&(this.unlistenToModelStore(),this.unlistenToModelStore=null)},serialize:function(b){b=a.merge(b,this.toJSON());b.collectionId=b.id;delete b.dirty;delete b.body;delete b.tags;delete b.categories;delete b.items;a.Lang.isValue(b.mainImage)&&(b.mainImageId=a.instanceOf(b.mainImage,a.Squarespace.Models.ContentItem)?b.mainImage.get("id"):b.mainImage.id);delete b.mainImage;b.metadata&&b.metadata.albumCover&&delete b.metadata.albumCover;b.productQuickViewEnabled&&
(b.features.productQuickView.isEnabled=b.productQuickViewEnabled,delete b.productQuickViewEnabled);b.relatedItemsEnabled&&(b.features.relatedItems.isEnabled=b.relatedItemsEnabled,delete b.relatedItemsEnabled);return b},_errorHandler:function(a){s.trackCaughtError("damask","ContentCollection._errorHandler ["+this.name+"] "+a.message,a.stack);console.error(a.stack)},_save:function(a,d){d=this.serialize(d);b.update(d).then(function(b){b.error?a(b,null):(this._initialAttrs=b,a(null,b))}).catch(this._errorHandler)},
_delete:function(a){b.delete(this.get("id")).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_deleteUnusedCollectionPermanently:function(a){b.deleteUnusedCollectionPermanently(this.get("id")).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_read:function(b,d){this._readInProgress=!0;var h="fetch";b.forceReload&&(h="fetchFromServer");var c=Error().stack;e[h](this.get("id")).then(function(b){var h=this.parse(b.toJS());a.Squarespace.ContentCollectionUtils.usesDisplayIndex(h.ordering)?
this._fetchItemCount(h.id).then(function(a){this._readInProgress=!1;h.itemCount=a;d(null,h)}.bind(this)):(this._readInProgress=!1,d(null,h))}.bind(this),function(a){this._readInProgress=!1;d(a,null);a=b?"Options: "+JSON.stringify(b):"";s.trackCaughtError("damask","ContentCollection._read ["+this.name+"] Error retrieving content from store: \n"+a,c)}.bind(this)).catch(this._errorHandler)},_updateItemCount:function(){a.Squarespace.ContentCollectionUtils.usesDisplayIndex(this.get("ordering"))&&(this.isNew()?
this.set("itemCount",0):this._fetchItemCount(this.get("id")).then(function(a){this.set("itemCount",a)}.bind(this)).catch(this._errorHandler))},_fetchItemCount:function(b){return new a.Promise(function(d,h){a.Data.get({url:"/api/content-collections/"+b+"/item-count",success:function(a){d(a)},failure:h},this)})},getTemplateConfiguration:function(){var b;b=this.get("typeName");var h=this.get("type");return(b=h===d.TEMPLATE_PAGE?f.getPageConfig(b):f.getCollectionConfig(b))?new a.Squarespace.Models.CollectionConfiguration(b):
new a.Squarespace.Models.CollectionConfiguration({collectionType:h||d.COLLECTION_TYPE_GENERIC,ordering:this.get("ordering"),folder:this.get("folder"),supported:!1})},cloneToNewCollection:function(b){return new a.Promise(a.bind(function(d,h){var c=a.Squarespace.Singletons.TemplateNavigationList.getItemByCollectionId(this.get("id"));this._cloneExampleContent(b).then(a.bind(function(a){c.set("collectionId",a);c.save(d)},this))},this))},_cloneExampleContent:function(b){b=b||{};var d=new a.Promise(a.bind(function(b,
d){var c=this.get("id");q.post("/api/commondata/CopyCollection",h.stringify({collectionId:this.get("id")})).then(function(h){h=h.data;this.setAttrs(a.merge({mainImageId:null,mainImage:null},h));var e=h.id;k.getHomepageCollectionId()===c?l.setHomepageCollectionId(e).then(function(a){a.error?d():b(e)}):b(e)}.bind(this))},this));d.then(a.bind(function(){this.fire("clonedExampleContent",{silent:!!b.silent})},this));return d},_shouldCloneCollection:function(){return this.get("isDemoCollection")&&this.get("type")===
d.COLLECTION_TYPE_PAGE},deleteTrashItems:function(b){a.Data.del({url:"/api/recycle-bin/collection/"+this.get("id")+"/items",success:function(a){b(a,null)},failure:function(a){b(null,a)}})},getId:function(){return this.get("id")},_set:function(a,b,d){return this.constructor.superclass._set.call(this,a,b,d)}},{ATTRS:{dirty:{value:!1},body:{value:null},navigationTitle:{validator:a.Lang.isString},description:{value:{html:"",source:""}},websiteId:{},id:{value:null},enabled:{value:!0,validator:a.Lang.isBoolean},
deleted:{value:!1,validator:a.Lang.isBoolean},homepage:{validator:a.Lang.isBoolean},starred:{validator:a.Lang.isBoolean},synchronizing:{validator:a.Lang.isBoolean},updatedOn:{},folder:{value:!1},isDemoCollection:{getter:function(){return a.Squarespace.ContentCollectionUtils.isDemoCollectionId(this.get("id"))}},itemCount:{validator:a.Lang.isNumber},isEmpty:{getter:function(){return 0===this.items.size()}},tags:{value:[],validator:a.Lang.isArray},categories:{value:[],validator:a.Lang.isArray},pageSize:{validator:a.Lang.isNumber,
valueFn:function(){if(this.getTemplateConfiguration().get("ordering")===p.CHRONOLOGICAL)return 20}},itemLimit:{value:20,validator:a.Squarespace.AttrValidators.isNumber},ordering:{validator:function(b){return a.Object.values(p).includes(b)}},type:{validator:function(b){return a.Object.values(d).includes(b)}},typeName:{validator:a.Lang.isString},video:{validator:a.Lang.isObject},fullUrl:{validator:a.Lang.isString},nextDisplayIndex:{getter:function(){return this.get("itemCount")}},regionName:{value:"default",
validator:function(b){return!a.Lang.isString(b)||0===b.length?!1:a.Object.keys(f.getState().layouts).includes(b)}},title:{validator:a.Lang.isString},urlId:{validator:a.Squarespace.AttrValidators.isNullOrString},seoDescription:{validator:a.Lang.isString},seoHidden:{value:!1,validator:a.Lang.isBoolean}}});a.Squarespace.Models.ContentCollectionList=a.Base.create("Collections",a.ModelList,[],{model:a.Squarespace.Models.ContentCollection,sync:function(a,d,h){"read"==a&&b.readAll().then(function(a){h(null,
a)},function(a){h(a,null)}).catch(this._errorHandler)},getCollectionById:function(b,d,h){var c=this.getById(b);c?d.call(h,c):(c=new a.Squarespace.Models.ContentCollection({id:b}),c.load({},function(){this.add(c);d.call(h,c)},this))},getCollectionFromData:function(b,d){if(!b)return null;if(!b.id)throw Error("getCollectionFromData needs at least an ID in the data to work.");var h=this.getById(b.id);h?d||h.setAttrs(b):h=this.add(new a.Squarespace.Models.ContentCollection(b));return h}});a.Squarespace.Utils.isInDamaskFrame()?
a.Squarespace.ContentCollectionCache=a.config.win.top.Y.Squarespace.ContentCollectionCache:a.Squarespace.ContentCollectionCache=new a.Squarespace.Models.ContentCollectionList},"2.0",{requires:"base model model-list promise squarespace-content-collection-utils squarespace-models-collection-configuration squarespace-models-content-item squarespace-models-content-item-list squarespace-util squarespace-util-authenticated".split(" ")})},1172:function(g,c,a){var k=a(468);YUI.add("squarespace-models-content-item-list",
function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentItemList=a.Base.create("ContentItemList",a.ModelList,[a.Squarespace.Mixins.EventList],{initializer:function(b){this.model=a.Squarespace.Models.ContentItem;b=b||{};(b=b.items)&&this.reset(b)},sync:function(a,c,d){switch(a){case "create":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "delete":console.error("Squarespace.Models.ContentItemList: Create not implemented.");break;case "read":this._read(c,
d);break;case "update":console.error("Squarespace.Models.ContentItemList: Create not implemented.")}},load:function(a,e){if(this.get("isChildItemList"))throw Error("Squarespace.Models.ContentItemList: Child items are loaded with their parent item. Loading them manually is not supported");c.superclass.load.call(this,a,e)},removeItems:function(b,c){this.remove(b,{source:"bulk-remove"});var d=a.Array.map(b,function(a){var b=a.get("id");a.destroy();return b},this);a.Data.post({url:"/api/commondata/RemoveItems",
data:{items:d},success:function(d){this.get("parent").load();a.Lang.isFunction(c)&&c(null,d);this.fire("bulk-remove",b)},failure:function(b){a.Lang.isFunction(c)&&c(b,null)}},this)},moveItems:function(b,c,d){if(this.get("isChildItemList"))throw Error("Squarespace.Models.ContentItemList: Moving child items is not currently supported.");var f=a.Array.map(b,function(a){return null!==this.getById(a.get("id"))?this.remove(this.getById(a.get("id"))):a},this),m=c.get("id"),p=c.items;p.load(a.bind(function(){p.add(f)},
this));var q=a.Array.map(f,function(a){a.set("collectionId",m);a.get("items").each(function(a){a.set("collectionId",m)});return a.get("id")},this);a.Data.post({url:"/api/commondata/MoveItems",data:{toCollectionId:m,items:q},success:function(h){this.get("parent").load();a.Lang.isFunction(d)&&d(null,h);this.fire("move-items",b,c)},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}},this)},reorderItems:function(b,c,d){var f=this.get("parent"),m={};this.get("isChildItemList")?(m.collectionId=f.get("collectionId"),
m.parentId=f.get("id")):m.collectionId=f.get("id");var p=1===b.length,q;p?(b=b[0],q=this.indexOf(this.getById(b.get("id"))),this._reorder([b],c),0!==c&&(m.afterId=this.item(c-1).get("id")),m.itemId=b.get("id")):(this._reorder(b,c),0!==c&&(m.afterId=this.item(c-1).get("id")),b=a.Array.map(b,function(a){return a.get("id")},this),m.itemIds=a.JSON.stringify(b));var h=a.bind(function(b){a.Data.post({url:"/api/commondata/ReorderItems",data:b,success:function(b){p&&(0===q||0===c)&&f.load();a.Lang.isUndefined(b.items)||
a.Array.each(b.items,function(a,b){var d=this.getById(a.id);d&&d.set("displayIndex",a.displayIndex)},this);this.fire("reordered");a.Lang.isFunction(d)&&d(null,b);0<this._reorderQueue.size()&&h(thie._reorderQueue.next())},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}},this)},this);this._reorderQueue||(this._reorderQueue=new a.Queue);this._reorderQueue.add(m);h(this._reorderQueue.next())},_reorder:function(a,c){var d=a.map(function(a){return this.getById(a.get("id"))},this);this.remove(d,{onReorder:!0,
source:"reorder"});this.add(d,{onReorder:!0,source:"reorder",index:c})},_read:function(b,c){a.Data.get({url:this._getReadUrl(),data:a.merge({limit:this.get("limit")},b),success:function(a){this.set("pagination",{hasNextPage:a.hasNextPage,hasPreviousPage:a.hasPreviousPage,nextPageStart:a.nextPageStart,previousPageStart:a.previousPageStart});c(null,a.results)},failure:function(a){c(a,null)}},this)},_getReadUrl:function(){var b=this.get("parent"),c=k.getTemplateForCollectionItems(b.get("ordering"),b.get("type"));
return a.Lang.sub(c,{collectionId:b.get("id")})}},{ATTRS:{parent:{value:null,validator:function(b){return b instanceof a.Squarespace.Models.ContentCollection||b instanceof a.Squarespace.Models.ContentItem}},isChildItemList:{getter:function(){return this.get("parent")instanceof a.Squarespace.Models.ContentItem}},pagination:{value:null},limit:{value:20,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:"base json model-list squarespace-content-collection-utils squarespace-mixins-event-list squarespace-models-content-collection squarespace-models-content-item squarespace-util".split(" ")})},
1173:function(g,c,a){var k=a(939),l=a(559),f=a(81),b=a(941),e=a(430),d=a(460),n=a(163),m=a(468);YUI.add("squarespace-models-content-item",function(a){a.namespace("Squarespace.Models");var c=a.Squarespace.Models.ContentItem=a.Base.create("Item",a.Model,[],{sync:function(a,b,d){switch(a){case "delete":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._delete.bind(this,d));break;case "read":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._read.bind(this,
b,d));break;case "update":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._save.bind(this,d));break;case "create":this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(this._create.bind(this,b,d))}},_errorHandler:function(a){console.error(a.stack)},_save:function(a,b){var d=this.serialize();d.id||this._create(a);d.collectionId?e.updateForCollection(d,b).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler):e.update(d).then(function(b){a(null,
b)},function(b){a(b,null)}).catch(this._errorHandler)},_create:function(a,b,d){var c=this.serialize();c.collectionId?e.createForCollection(c,a,d).then(function(a){b(null,a)},function(a){b(a,null)}).catch(this._errorHandler):e.create(c,a).then(function(a){b(null,a)},function(a){b(a,null)}).catch(this._errorHandler)},_delete:function(a,b){e.delete(this.get("id"),b).then(function(b){a(null,b)},function(b){a(b,null)}).catch(this._errorHandler)},_read:function(a,b,c){if(this.get("isGlobalFakeContentItem"))this._readGlobalFakeContentItem(this.get("id"),
a,b);else{this._readInProgress=!0;var e="fetch";a.forceReload&&(e="fetchFromServer");d[e](this.get("id"),!1,c).then(function(a){this._readInProgress=!1;(a=a.toJS?a.toJS():a)&&a.recordType&&this.set("recordType",a.recordType);b(null,a)}.bind(this),function(a){this._readInProgress=!1;b(a,null)}.bind(this)).catch(this._errorHandler)}},_readGlobalFakeContentItem:function(b,d,c){a.Data.get({url:"/api/rest/global-content-items/"+b,success:function(a){c(null,a)},failure:function(a){c(a,null)}},this)},_getUrlDeterminants:function(a){var b=
{recordType:this.get("recordType")};a&&(b.collectionOrdering=a.get("ordering"),b.collectionType=a.get("type"),b.collectionId=a.get("id"),b.parentId=this.get("parentId"));return b},resetToLastRead:function(a,b){return d.fetch(this.get("id")).then(function(b){this.setAttrs(b.toJS());a()}.bind(this)).catch(function(a){b();this._errorHandler(a)}.bind(this))},initializer:function(a){this._needsJobListener()&&this._bindJobListener();this._updateNextDisplayIndex();a=this.get("items");a.after(["add","remove"],
function(){this._updateNextDisplayIndex()},this);this.items=a},destructor:function(){this._jobListener&&(this._jobListener.detach(),this._jobListener=null)},_getParentCollection:function(){return new a.Promise(function(b,d){var c=this.get("collectionId");c?a.Squarespace.ContentCollectionCache.getCollectionById(c,b):b(null)}.bind(this))},toJSON:function(){var b=c.superclass.toJSON.call(this),d=b.structuredContent;a.Lang.isValue(d)&&(b.structuredContent=d.toJSON());b.items=b.items.toJSON();a.Lang.isObject(b.pushedServices)&&
(b.pushedServices=a.Object.keys(b.pushedServices));a.Lang.isObject(b.pendingPushedServices)&&(b.pendingPushedServices=a.Object.keys(b.pendingPushedServices));return b},serialize:function(){var a=this.toJSON();delete a.items;delete a.author;delete a.fullUrl;delete a.assetUrl;delete a.resolved;delete a.postItemInjectCode;delete a.promotedBlock;delete a.promotedBlockType;delete a.nextDisplayIndex;delete a.mediaIsUploading;delete a.hasFileData;delete a.isGlobalFakeContentItem;delete a.childrenGroups;
delete a.colorData;delete a.mainImage;delete a.gallery;this._normalizeDates(a);this._attachCommentingToData(a);this._attachWorkflowToData(a);this._updateStructuredContent(a);return a},_updateStructuredContent:function(b){b.structuredContent&&b.startDate&&(b.structuredContent=a.merge(b.structuredContent,{startDate:b.startDate,endDate:b.endDate}))},_getWorkflowStateForString:function(d){return a.Object.getValue({published:b.PUBLISHED,scheduled:b.SCHEDULED,needsreview:b.NEEDS_REVIEW,draft:b.DRAFT},d)},
_attachWorkflowToData:function(b){a.Lang.isValue(b.workflow)&&(b.workflowState=this._getWorkflowStateForString(b.workflow.state),b.publishOn=b.workflow.date,delete b.workflow)},_attachCommentingToData:function(b){a.Lang.isValue(b.commenting)&&(b.commentState=a.Squarespace.CommentStates["allow"===b.commenting.state?"ENABLED":"DISABLED"],b.commentDisableOn=b.commenting.date,delete b.commenting)},_normalizeDates:function(b){a.Array.each("addedOn publishOn updatedOn commentDisableOn startDate endDate".split(" "),
function(d,c){a.Lang.isDate(b[d])&&(b[d]=b[d].getTime())},this)},save:function(b,d){this.isNew()||!a.Lang.isObject(b)||!b.fields?c.superclass.save.call(this,b,d):this._saveFields(b.fields,d)},autoSave:function(b,d){a.Lang.isFunction(b)?(d=b,b={}):a.Lang.isValue(b)||(b={});b.headers=a.merge(b.headers,{"X-AutoSave":!0});this.save(b,d)},like:function(b){a.Data.post({url:"/api/content-items/"+this.getId()+"/sentiment/like",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&
b(d,null)}},this)},dislike:function(b){a.Data.post({url:"/api/content-items/"+this.getId()+"/sentiment/dislike",success:function(d){a.Lang.isFunction(b)&&b(null,d)},failure:function(d){a.Lang.isFunction(b)&&b(d,null)}},this)},clearFileData:function(b){this.setAttrs({systemDataId:null,systemDataOrigin:null,mediaProcessingState:null,systemDataSourceType:null,systemDataVariants:null,filename:null});this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(function(b){var d=this.get("id");
b=m.getMainImageDeletionUrl(b).replace("{id}",d);a.Data.del({url:b,data:{itemId:d}})}.bind(this))},clearChildGroup:function(b,d){a.Data.post({url:"/api/commondata/ClearChildGroup",data:{childType:b,itemId:this.get("id")},success:function(b){a.Lang.isFunction(d)&&d(null,b)},failure:function(b){a.Lang.isFunction(d)&&d(b,null)}})},getAssetUrlForFormat:function(b){return a.Lang.sub("{assetUrl}?format={format}",{assetUrl:this.get("assetUrl"),format:b})},getId:function(){return this.get("id")},isLicensedAssetPreview:function(){return a.Lang.isValue(this.get("licensedAssetPreview"))},
isLicensedAsset:function(){return a.Lang.isValue(this.get("licensedAssetId"))},getMainImageUploadUrl:function(a){this._getParentCollection().then(this._getUrlDeterminants.bind(this)).then(function(b){a(m.getMainImageUploadUrl(b).replace("{id}",this.get("id")))}.bind(this))},_needsJobListener:function(){var a=this.get("mediaProcessingState");return a===l.QUEUED||a===l.PROCESSING},_bindJobListener:function(){Static&&Static.JOB_MANAGER&&(this._jobListener=a.config.win.Static.JOB_MANAGER.on("completed",
function(b){var d=b.job;b=this.get("id");var c=d.get("data.contentItemId"),d=d.get("data.globalContentItemId");c===b?(this.load({forceReload:!0}),this._jobListener.detach()):a.Lang.isValue(d)&&d===b&&(this._readGlobalFakeContentItem(d,{},function(a,b){a?console.log("error loading model",a):(this.set("assetUrl",b.assetUrl),this.setAttrs(b))}.bind(this)),this._jobListener.detach())},this))},_updateNextDisplayIndex:function(){var a=0;this.get("items").each(function(b){b=b.get("displayIndex");b>=a&&(a=
b+1)},this);this._set("nextDisplayIndex",a)},_saveFields:function(b,d){if(1<b.length)throw Error("Saving multiple fields is not currently supported.");var c=b[0];e.updateField(this.get("id"),c,this.get(c)).then(function(b){a.Lang.isFunction(d)&&d(null,b.item)},function(b){a.Lang.isFunction(d)&&d.call(b,null)}).catch(this._errorHandler)},_getStructuredContentCtor:function(){switch(this.get("recordType")){case f.AUDIO:return a.Squarespace.Models.Audio;case f.EVENT:return a.Squarespace.Models.CalendarEvent;
case f.CHECKIN:return a.Squarespace.Models.CheckIn;case f.VIDEO:return a.Squarespace.Models.Embed;case f.KBARTICLE:return a.Squarespace.Models.KBArticle;case f.LINK:return a.Squarespace.Models.Link;case f.QUOTE:return a.Squarespace.Models.Quote;case f.STORE_ITEM:return a.Squarespace.Models.StoreItem;case f.TWEET:return a.Squarespace.Models.Tweet;default:return null}}},{ATTRS:{id:{value:null},collectionId:{value:null},parentId:{value:null},authorId:{valueFn:function(){var b=a.Object.getValue(Static,
["SQUARESPACE_CONTEXT","authenticatedAccount"]);return b?b.id:null}},proxyForId:{value:null},recordType:{validator:a.Squarespace.AttrValidators.isValueIn(f),writeOnce:!0},childType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},addedOn:{valueFn:function(){return(new Date).getTime()},validator:a.Squarespace.AttrValidators.isNumber,writeOnce:"initOnly"},updatedOn:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},publishOn:{valueFn:function(){return(new Date).getTime()},
validator:a.Squarespace.AttrValidators.isNumber},unsaved:{value:null,validator:a.Squarespace.AttrValidators.isNullOrBoolean},urlId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},title:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},body:{value:null,setter:function(b){return a.merge(this.get("body"),b)},validator:a.Squarespace.AttrValidators.isNullOrObject},excerpt:{value:{html:"",raw:!1},validator:a.Squarespace.AttrValidators.isNullOrObject},displayIndex:{value:0,
validator:a.Squarespace.AttrValidators.isNumber},starred:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},passthrough:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},tags:{value:[],validator:a.Squarespace.AttrValidators.isArray},categories:{value:[],validator:a.Squarespace.AttrValidators.isArray},workflowState:{value:b.DRAFT,validator:a.Squarespace.AttrValidators.isValueIn(b)},systemDataId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},systemDataVariants:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},systemDataOrigin:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},contentType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},filename:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},dataSize:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},sourceUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},mediaProcessingState:{value:null,validator:a.Squarespace.AttrValidators.isNullOr(a.Squarespace.AttrValidators.isValueIn(l))},
mediaFocalPoint:{value:{x:0.5,y:0.5},setter:function(b){if(a.Lang.isString(b)){b=b.split(",");var d=parseFloat(b[0]);b=parseFloat(b[1]);return{x:!isNaN(d)&&1>=d?d:0.5,y:!isNaN(b)&&1>=b?b:0.5}}return b}},colorData:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},clickthroughUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},location:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},customContent:{value:null},likeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},
dislikeCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},publicCommentCount:{value:0,validator:a.Squarespace.AttrValidators.isNumber},commentState:{valueFn:function(){var a=n.getState().toJS(),b=a.commentsEnabled;return a.commentEnableByDefault&&b?k.ENABLED:k.DISABLED},validator:a.Squarespace.AttrValidators.isValueIn(k)},commentDisableOn:{valueFn:function(){var b=a.Object.getValue(Static,["SQUARESPACE_CONTEXT","websiteSettings",
"commentDisableAfterDaysDefault"]);return b?a.Date.addDays(new Date,b).getTime():null},validator:a.Squarespace.AttrValidators.isNullOrNumber},pushedServices:{value:{},validator:a.Squarespace.AttrValidators.isObject},shareStates:{value:[]},structuredContent:{valueFn:function(){var b=this._getStructuredContentCtor();return a.Lang.isNull(b)?null:new b},setter:function(b){if(b instanceof a.Squarespace.Models.StructuredContent)return b;var d=this._getStructuredContentCtor();return a.Lang.isNull(d)?null:
new d(b)}},items:{valueFn:function(){return new a.Squarespace.Models.ContentItemList({parent:this})},setter:function(b){var d=this.get("items");return a.Lang.isValue(d)?(d.reset(b),d):b instanceof a.Squarespace.Models.ContentItemList?b:new a.Squarespace.Models.ContentItemList({items:b,parent:this})}},childrenGroups:{value:{},validator:a.Squarespace.AttrValidators.isObject},author:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},fullUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
assetUrl:{value:null,getter:function(b){return a.Squarespace.UrlUtils.isSecure()?a.Squarespace.UrlUtils.securifyURL(b):b},validator:a.Squarespace.AttrValidators.isNulLOrString},resolved:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},postItemInjectCode:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlock:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},promotedBlockType:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},nextDisplayIndex:{value:0,
validator:a.Squarespace.AttrValidators.isNumber,readOnly:!0},mediaIsUploading:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},hasFileData:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},isGlobalFakeContentItem:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},licensedAssetPreview:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},licensedAssetId:{value:null,validator:a.Lang.isString},isPusher:{value:!0,readOnly:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},
"1.0",{requires:"base json model squarespace-attr-validators squarespace-model-sync-rest squarespace-models-audio squarespace-models-calendar-event squarespace-models-check-in squarespace-models-content-collection squarespace-models-content-item-list squarespace-models-embed squarespace-models-instagram squarespace-models-kb-article squarespace-models-link squarespace-models-quote squarespace-models-store-item squarespace-models-tweet squarespace-url-utils squarespace-util".split(" ")})},1174:function(g,
c){YUI.add("squarespace-models-embed",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Embed=a.Base.create("Embed",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Embed",validator:function(a){return"Embed"===a},readOnly:!0},embed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},oembed:{value:null,validator:a.Squarespace.AttrValidators.isNullOrObject},overlay:{value:!0,validator:a.Squarespace.AttrValidators.isBoolean}}})},"1.0",{requires:["base",
"squarespace-attr-validators","squarespace-models-structured-content"]})},1175:function(g,c){YUI.add("squarespace-models-instagram",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Instagram=a.Base.create("Instagram",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Instagram",validator:function(a){return"Instagram"===a},readOnly:!0},instagramId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},
imageLowResolutionUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageThumbnailUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},imageStandardUrl:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},width:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},height:{value:null,validator:a.Squarespace.AttrValidators.isNullOrNumber},filter:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userProfilePictureUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},userAccountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userDisplayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1176:function(g,c){YUI.add("squarespace-models-kb-article",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.KBArticle=a.Base.create("KBArticle",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"KBArticle",validator:function(a){return"KBArticle"===a},readOnly:!0},upVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber},downVotes:{value:0,validator:a.Squarespace.AttrValidators.isNumber}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1177:function(g,c){YUI.add("squarespace-models-link",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Link=a.Base.create("Link",a.Squarespace.Models.StructuredContent,
[],{},{ATTRS:{_type:{value:"Link",validator:function(a){return"Link"===a},readOnly:!0},url:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1178:function(g,c){YUI.add("squarespace-models-quote",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Quote=a.Base.create("Quote",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Quote",validator:function(a){return"Quote"===
a},readOnly:!0},quote:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1179:function(g,c,a){var k=a(4),l=a(301);YUI.add("squarespace-models-store-item",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.StoreItem=a.Base.create("StoreItem",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"StoreItem",validator:function(a){return"StoreItem"===a},readOnly:!0},
productType:{value:l.PHYSICAL,validator:a.Squarespace.AttrValidators.isValueIn(l)},priceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},salePriceCents:{value:0,validator:a.Squarespace.AttrValidators.isNumber},onSale:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},variants:{value:[],validator:a.Squarespace.AttrValidators.isArray},originalVariants:{value:[],validator:a.Squarespace.AttrValidators.isArray},variantOptionOrdering:{value:[],validator:a.Squarespace.AttrValidators.isArray},
additionalFieldsFormId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},customAddButtonText:{value:k("Add to Cart"),validator:a.Squarespace.AttrValidators.isString},useCustomAddButtonText:{value:!1,validator:a.Squarespace.AttrValidators.isBoolean},additionalFieldsForm:{value:null}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1180:function(g,c){YUI.add("squarespace-models-structured-content",function(a){a.namespace("Squarespace.Models");
a.Squarespace.Models.StructuredContent=a.Base.create("StructuredContent",a.Model,[],{},{ATTRS:{_type:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString,writeOnce:"initOnly"}}})},"1.0",{requires:["base","model","squarespace-attr-validators"]})},1181:function(g,c){YUI.add("squarespace-models-tweet",function(a){a.namespace("Squarespace.Models");a.Squarespace.Models.Tweet=a.Base.create("Tweet",a.Squarespace.Models.StructuredContent,[],{},{ATTRS:{_type:{value:"Tweet",validator:function(a){return"Tweet"===
a},readOnly:!0},tweetId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},timeZone:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountId:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},displayName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},accountName:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},tweet:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrl:{value:null,
validator:a.Squarespace.AttrValidators.isNullOrString},profileImageUrlHttps:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString},userLocation:{value:null,validator:a.Squarespace.AttrValidators.isNullOrString}}})},"1.0",{requires:["base","squarespace-attr-validators","squarespace-models-structured-content"]})},1231:function(g,c){g.exports=function(a,c){for(var l=-1,f=a?a.length:0;++l<f;)if(!c(a[l],l,a))return!1;return!0}},1234:function(g,c,a){var k=a(246);g.exports=function(a,c){var b=
!0;k(a,function(a,d,n){return b=!!c(a,d,n)});return b}},1238:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c};c=a(9);var f=a(1248);a=function(){function a(){(0,k.default)(this,a);this.generateActions("saveSuccess")}(0,l.default)(a,[{key:"save",value:function(a,b){var c=this;return function(m){m();return f.save(a,b).then(function(a){c.saveSuccess(a)})}}}]);return a}();g.exports=c.createActions(a)},1248:function(g,c,a){var k=a(24);g.exports={save:function(a,
c){return k.put("/api/member-website-settings/"+a,c)},commerceUpsellShown:function(a){return k.post("/api/member-website-settings/"+a+"/commerce-upsell-shown")}}},1290:function(g,c,a){var k=a(24);g.exports={getTemplate:function(a){return k.get("/api/templates/"+a)}}},1291:function(g,c,a){var k=a(24),l=a(175);g.exports={loadTemplateInstallations:function(){return k.get("/api/template-installations")},setLiveInstallation:function(a){return k.post("/api/template/SetTemplate",l.stringify({installationId:a}))},
updateInstallation:function(a){return k.put("/api/template-installations/"+a.id,a)},setHomepageCollectionId:function(a){return k.post("/api/template/SetHomepageCollection",l.stringify({collectionId:a}))}}},135:function(g,c){g.exports=function(a,c){for(var l=-1,f=a?a.length:0,b=Array(f);++l<f;)b[l]=c(a[l],l,a);return b}},136:function(g,c,a){function k(a,b){var d=b?m:n,c=b?a.prototype:a;return Object.getOwnPropertyNames(c).reduce(function(a,b){if(-1!==d.indexOf(b))return a;a[b]=c[b];return a},{})}function l(a){var b=
1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return a===Function.prototype?b:l(Object.getPrototypeOf(a),d.assign(b,k(a,!0)))}function f(a,b,d,c){return{type:b,payload:d,meta:e({dispatchId:a},c),id:a,action:b,data:d,details:c}}function b(){}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var d=arguments[b],c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}return a};Object.defineProperty(c,"__esModule",{value:!0});c.getInternalMethods=k;c.getPrototypeChain=
l;c.warn=function(a){"undefined"!==typeof console&&console.warn(new ReferenceError(a))};c.uid=function(a,b){for(var d=0,c=b;Object.hasOwnProperty.call(a,c);)c=b+String(++d);return c};c.formatAsConstant=function(a){return a.replace(/[a-z]([A-Z])/g,function(a){return String(a[0])+"_"+String(a[1].toLowerCase())}).toUpperCase()};c.dispatchIdentity=function(a){if(void 0===a)return null;for(var b=arguments.length,d=Array(1<b?b-1:0),c=1;c<b;c++)d[c-1]=arguments[c];return d.length?[a].concat(d):a};c.fsa=
f;c.dispatch=function(a,b,c,e){c=b.dispatch(c);if(void 0===c)return null;var m=b.id,n={id:m,namespace:m,name:m};b=function(a){return e.dispatch(m,a,n)};return d.isFunction(c)?c(b,e):e.dispatcher.dispatch(f(a,m,c,n))};var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b}(a(52)),n=Object.getOwnPropertyNames(b),m=Object.getOwnPropertyNames(b.prototype)},138:function(g,c,a){var k=a(135),l=a(221),
f=a(353);c=a(172);var b=a(231);a=c(function(a,d){return null==a?{}:f(a,k(l(d,1),b))});g.exports=a},140:function(g,c){g.exports={WAITING:1,PROCESSING:2,SUCCESS:3,FAILURE:4,CANCELLED:5,SCHEDULED:6}},1529:function(g,c,a){c=a(223);var k=a(63);a=a(1546);g.exports={DEFAULT_COLLECTION_CONFIGURATIONS:{page:{collectionType:k.COLLECTION_TYPE_PAGE,typeName:"page",title:"Page",ordering:c.CUSTOM,icon:"page",addText:"Add Block"},"gallery-block":{collectionType:k.GALLERY_BLOCK,typeName:"gallery-block",title:"Gallery Block",
ordering:c.USER,acceptTypes:["image","video"]},products:{collectionType:k.PRODUCTS,typeName:"products",title:"Products",pageSize:20,ordering:c.USER,acceptTypes:["store_item"],view:a.PRODUCT_TABLE,icon:"products",addText:"Add Product"},"template-page":{collectionType:k.TEMPLATE_PAGE,title:"Template Page",icon:"projects"},"splash-page":{collectionType:k.SPLASH_PAGE,typeName:"splash-page",title:"Cover Page",ordering:c.CUSTOM,icon:"splash-page"},subscription:{collectionType:k.COLLECTION_TYPE_SUBSCRIPTION,
typeName:"subscription",title:"Subscription",ordering:c.CHRONOLOGICAL}},DEFAULT_COLLECTION_CONFIGURATION:{collectionType:k.COLLECTION_TYPE_GENERIC,supported:!0,supportsVideoBackgrounds:!1},DEFAULT_TEMPLATE_PAGE_CONFIGURATION:{icon:"template-page",collectionType:k.TEMPLATE_PAGE,supported:!0,folder:!1,supportsVideoBackgrounds:!1}}},1532:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(1);var l=k(c);c=a(2);var f=k(c);c=a(244);var b=k(c);c=a(79);var e=k(c);c=a(21);var d=k(c),n,
m,p,q,h,s,w;c=a(9);var t=a(238),r=a(279),v=a(1095),y=a(1039);a=a(1533);var I=function A(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,d.default)(a).forEach(function(b){b=a[b];"object"===("undefined"===typeof b?"undefined":(0,e.default)(b))&&A(b)});return(0,b.default)(a)},K=(w={},w[r.ABANDONED_CART_RECOVERY]=(n={},n[v.WEBSITE_LEGACY_TRIAL]={title:a.abandonedCartTrialUpgradeTitle,message:a.abandonedCartTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN},n[v.WEBSITE_LEGACY_COMMERCE]=
{title:a.abandonedCartPlanSwitchTitle,message:a.abandonedCartPlanSwitchMessage,destination:y.UPGRADE_PLAN},n[v.WEBSITE_COMMERCE_TRIAL]={title:a.abandonedCartSoftTrialUpgradeTitle,message:a.abandonedCartSoftTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},n[v.WEBSITE_COMMERCE_BASIC]={title:a.abandonedCartPlanSwitchTitle,message:a.abandonedCartPlanSwitchMessage,destination:y.UPGRADE_PLAN},n),w[r.AUTO_TRIGGERED_DISCOUNTS]=(m={},m[v.WEBSITE_LEGACY_COMMERCE]={title:a.automaticDiscountsTrialTitle,
message:a.automaticDiscountsTrialMessage,destination:y.UPGRADE_PLAN,isSoftWarning:!0},m[v.WEBSITE_LEGACY_TRIAL]={title:a.automaticDiscountsTrialTitle,message:a.automaticDiscountsTrialMessage,destination:y.UPGRADE_PLAN,isSoftWarning:!0},m[v.WEBSITE_CLASSIC_TRIAL]={title:a.automaticDiscountsTrialTitle,message:a.automaticDiscountsTrialMessage,destination:y.UPGRADE_PLAN,isSoftWarning:!0},m[v.WEBSITE_COMMERCE_TRIAL]={title:a.automaticDiscountsTrialTitle,message:a.automaticDiscountsTrialMessage,destination:y.UPGRADE_PLAN,
isSoftWarning:!0},m),w[r.COMMERCE]=(p={},p[v.WEBSITE_LEGACY_TRIAL]={title:a.commerceTrialUpgradeTitle,message:a.commerceTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN},p[v.WEBSITE_CLASSIC_TRIAL]={title:a.commerceTrialUpgradeTitle,message:a.commerceTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN},p[v.WEBSITE_COMMERCE_TRIAL]={title:a.commerceTrialUpgradeTitle,message:a.commerceTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN},p),w[r.CRM]=(q={},q[v.WEBSITE_LEGACY_COMMERCE]={title:a.crmSoftPlanSwitchTitle,
message:a.crmSoftPlanSwitchMessage,destination:y.UPGRADE_PLAN,isSoftWarning:!0},q),w[r.REAL_TIME_SHIPPING_RATES]=(h={},h[v.WEBSITE_LEGACY_TRIAL]={title:a.realTimeShippingTrialUpgradeTitle,message:a.realTimeShippingTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN},h[v.WEBSITE_COMMERCE_TRIAL]={title:a.realTimeShippingSoftTrialUpgradeTitle,message:a.realTimeShippingSoftTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN,isSoftWarning:!0},h[v.WEBSITE_COMMERCE_BASIC]={title:a.realTimeShippingPlanSwitchTitle,
message:a.realTimeShippingPlanSwitchMessage,destination:y.UPGRADE_PLAN},h),w[r.SHIPSTATION_INTEGRATION]=(s={},s[v.WEBSITE_LEGACY_TRIAL]={title:a.shipstationTrialUpgradeTitle,message:a.shipstationTrialUpgradeMessage,destination:y.TRIAL_UPGRADE_PLAN},s),w);n=function(){function a(){(0,l.default)(this,a);this.state=I(K);this.exportPublicMethods({get:this.get})}(0,f.default)(a,[{key:"get",value:function(a){return t(this.state,a)}}]);return a}();g.exports=c.createStore(n,"UpsellFeaturesStore")},1533:function(g,
c,a){c=(c=a(244))&&c.__esModule?c:{"default":c};c=(0,c.default)({abandonedCartPlanSwitchTitle:"Upgrade Needed",abandonedCartPlanSwitchMessage:"Upgrade to the Advanced plan to get Abandoned Checkout. Your current plan doesn't include this feature.",abandonedCartSoftTrialUpgradeTitle:"Note",abandonedCartSoftTrialUpgradeMessage:"To continue using Abandoned Checkout after your trial, subscribe to the Advanced plan.",abandonedCartTrialUpgradeTitle:"Switch Product Line",abandonedCartTrialUpgradeMessage:"Switch to the new Squarespace Commerce product to get Abandoned Checkout. Your current plan doesn't include this feature.",
automaticDiscountsTrialUpgradeTitle:"Switch to Squarespace Commerce",automaticDiscountsTrialUpgradeMessage:"To continue using automatic discounts after your trial, subscribe to the Advanced plan.",commerceTrialUpgradeTitle:"Cannot Go Live",commerceTrialUpgradeMessage:"Subscribe to a paid plan to launch your store and start accepting payments.",crmSoftPlanSwitchTitle:"Switch to Squarespace Commerce",crmSoftPlanSwitchMessage:"Switch to the Squarespace Commerce product to view and manage your customers. Your current plan doesn't include this feature.",
realTimeShippingTrialUpgradeTitle:"Switch Product Line",realTimeShippingTrialUpgradeMessage:"To use Real&#8209;Time Carrier Rates, you must switch to the new Squarespace Commerce product.",realTimeShippingSoftTrialUpgradeTitle:"Note",realTimeShippingSoftTrialUpgradeMessage:"To continue using Real&#8209;Time Carrier Rates after your trial, subscribe to the Advanced plan.",realTimeShippingPlanSwitchTitle:"Upgrade Needed",realTimeShippingPlanSwitchMessage:"Upgrade to the Advanced plan to get Real&#8209;Time Carrier Rates. Your current plan doesn't include this feature.",
shipstationTrialUpgradeTitle:"Switch Product Line",shipstationTrialUpgradeMessage:"To connect ShipStation, you must switch to the new Squarespace Commerce product."});g.exports=c},1534:function(g,c,a){g.exports=a(1532)},1535:function(g,c,a){var k={diff:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],b={deletions:[],additions:[]};a.forEach(function(a){var d=c.find(function(b){return b.collectionId===a.collectionId});
d?(d=k.diff(a.children,d.children),d.deletions.length&&b.deletions.push([a.collectionId,d.deletions[0][0]]),d.additions.length&&b.additions.push([a.collectionId,d.additions[0][0]])):b.deletions.push([a.collectionId])});c.forEach(function(c){a.find(function(a){return a.collectionId===c.collectionId})||b.additions.push([c.collectionId])});return b}};g.exports=k},1546:function(g,c,a){g.exports={LIST:"list",GRID:"grid",PRODUCT:"product"}},1553:function(g,c,a){g.exports=function(a){return a.replace(/^\s\s*/,
"").replace(/\s\s*$/,"").toLowerCase().replace(/[^a-z0-9_\s]+/g,"").replace(/[\s]+/g,"-")}},16:function(g,c,a){c.__esModule=!0;g=a(19);c.default=(g&&g.__esModule?g:{"default":g}).default||function(a){for(var c=1;c<arguments.length;c++){var f=arguments[c],b;for(b in f)Object.prototype.hasOwnProperty.call(f,b)&&(a[b]=f[b])}return a}},163:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c};c=a(9);var f=a(101),b=a(40),e=a(49),d=a(608),n=a(769),m=a(543);
a=function(){function a(){(0,k.default)(this,a);this.state=new n;this.bindActions(d);this.bindActions(m);this.bindListeners({onStaticBootstrap:e.BOOTSTRAP});this.exportPublicMethods({save:this.save})}(0,l.default)(a,[{key:"onStaticBootstrap",value:function(a){this.setState(new n(a.websiteSettings))}},{key:"onUpdate",value:function(a){var d=this.state.merge(a);a.businessHours&&(d=this.state.set("businessHours",b.fromJS(a.businessHours)));this.setState(d)}},{key:"onUpdateStoreCurrencySuccess",value:function(a){var b=
this.state,d=b.get("storeSettings"),d=d.set("selectedCurrency",a);this.setState(b.set("storeSettings",d))}},{key:"save",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=this.getState().mergeDeep(a).toJS();a.businessHours&&(c.businessHours=a.businessHours);return d.save(c,b)}}]);return a}();g.exports=c.createStore(f(a),"WebsiteSettingsStore")},165:function(g,c,a){c.__esModule=!0;var k=(g=a(41))&&g.__esModule?g:{"default":g},l=(a=a(473))&&a.__esModule?a:{"default":a};
c.default=function b(a,d,c){null===a&&(a=Function.prototype);var m=(0,l.default)(a,d);if(void 0===m)return a=(0,k.default)(a),null===a?void 0:b(a,d,c);if("value"in m)return m.value;d=m.get;return void 0===d?void 0:d.call(c)}},169:function(g,c){g.exports={FOURSQUARE:1,FACEBOOK:2,FLICKR:3,TWITTER:4,GOOGLE:5,GOOGLE_SPREADSHEET:6,TUMBLR:8,DROPBOX:9,INSTAGRAM:10,YOUTUBE:11,VIMEO:12,MAILCHIMP:13,LINKEDIN:14,STRIPE:15,FIVEHUNDREDPIX:16,SMUGMUG:17,DRIBBBLE:18,PINTEREST:19,EMAIL:20,GOOGLEAUTH2:21,GOOGLEDOCS2:22,
GITHUB:23,XERO:24,SOUNDCLOUD:25,SPOTIFY:26,ITUNES:27,GOOGLEPLAY:28,BANDSINTOWN:29,BEHANCE:30,CODEPEN:31,MEDIUM:32,MEETUP:33,RDIO:34,TWITCH:35,VEVO:36,VINE:37,VSCO:38,YELP:39,DROPBOX2:40,HOUZZ:42,REDDIT:43,STUMBLEUPON:44,PAYPAL_SANDBOX_ONBOARDING:45,PAYPAL_LIVE_ONBOARDING:46,PAYPAL_SANDBOX_BILLING:47,PAYPAL_LIVE_BILLING:48,CHOWNOW:49,SNAPCHAT:50,IMDB:51,GOODREADS:52,STITCHER:53,TIDAL:54}},172:function(g,c,a){var k=a(576),l=Math.max;g.exports=function(a,b){b=l(void 0===b?a.length-1:b,0);return function(){for(var c=
arguments,d=-1,n=l(c.length-b,0),m=Array(n);++d<n;)m[d]=c[b+d];d=-1;for(n=Array(b+1);++d<b;)n[d]=c[d];n[b]=m;return k(a,this,n)}}},21:function(g,c,a){g.exports={"default":a(434),__esModule:!0}},221:function(g,c,a){function k(a,c,d,n,m){var p=-1,q=a.length;d||(d=f);for(m||(m=[]);++p<q;){var h=a[p];0<c&&d(h)?1<c?k(h,c-1,d,n,m):l(m,h):n||(m[m.length]=h)}return m}var l=a(516),f=a(580);g.exports=k},222:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(1);var l=k(c);c=a(2);var f=
k(c);c=a(95);var b=k(c),e=a(139),d=a(1071);c=a(9);var n=a(1038),m=a(49),p=a(1078),q=d(p,function(a,d){d.features.forEach(function(d){var c=d.options;a.push(d.cookieKey);c&&a.push.apply(a,(0,b.default)(c.map(function(a){return a.cookieKey})))})},[]);a=function(){function a(){(0,l.default)(this,a);this.bindActions(n);this.bindListeners({onBootstrap:m.BOOTSTRAP});this.exportPublicMethods({isFeatureEnabled:this.isFeatureEnabled});var d=q.filter(function(a){return e.get&&"true"===e.get(a)}),c=[].concat((0,
b.default)(d));this.state={enabledFeatures:d,previousEnabledFeatures:c,featureGroups:[].concat((0,b.default)(p)),allFeatures:q}}(0,f.default)(a,[{key:"isFeatureEnabled",value:function(a){return-1!==this.getState().enabledFeatures.indexOf(a)}},{key:"onBootstrap",value:function(a){this.addFeaturesFromContext(a)}},{key:"addFeaturesFromContext",value:function(a){if(a=a.betaFeatureFlags){var b=this.state.enabledFeatures;a.forEach(function(a){-1===b.indexOf(a)&&b.push(a)});this.setState({enabledFeatures:b})}}},
{key:"onSetEnabledFeatures",value:function(a){var b=this.state.previousEnabledFeatures,d=b.filter(function(b){return 0>a.indexOf(b)}),c=a.filter(function(a){return 0>b.indexOf(a)});d.forEach(function(a){e.set(a,"",{expires:new Date(0)})});c.forEach(function(a){e.set(a,"true")});this.setState({enabledFeatures:a})}}]);return a}();g.exports=c.createStore(a,"BetaFeaturesStore")},223:function(g,c){g.exports={USER:1,CHRONOLOGICAL:2,CUSTOM:3,CALENDAR:4,MUSIC_ALBUM:5,KNOWLEDGE_BASE:6}},225:function(g,c,a){g.exports=
function(){var a=[],c=!1,f={},b=function(b){var d=a.indexOf(b);0>d||(c?f[d]=b:a.splice(d,1))};return{publish:function(){for(var e=arguments.length,d=Array(e),n=0;n<e;n++)d[n]=arguments[n];c=!0;try{a.forEach(function(a,b){return f[b]||a.apply(void 0,d)})}finally{c=!1,Object.keys(f).forEach(function(a){return b(f[a])}),f={}}},subscribe:function(c){a.push(c);return{dispose:function(){return b(c)}}},$subscriptions:a}}},227:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?
c:{"default":c},f=a(606),b=a(764);c=a(9);var e=a(753),d=a(780),n=a(140),m={interval:2E3,increment:400,maxInterval:12E4,maxIterations:1E3},p=[n.WAITING,n.PROCESSING],q=void 0,h=[],s=function(a){q?q.reset():q=new d(a,m);q.run()};a=function(){function a(){(0,k.default)(this,a);this.generateActions("complete")}(0,l.default)(a,[{key:"monitor",value:function(a){var b=this;h=f(h.concat(a));0<h.length&&s(function(){0===h.length?q&&(q.cancel(),q=null):b.load(h)});return a}},{key:"load",value:function(a){var b=
this;return e.load(a).then(function(d){d=d.data;Array.isArray(d)&&0===d.length&&(d=a.map(function(a){return{id:a,status:n.SUCCESS}}));b.loadSuccess(d);return d})}},{key:"loadChildren",value:function(a){var b=this;return e.loadChildren(a).then(function(a){a=a.jobs;b.loadSuccess(a);return a})}},{key:"loadExisting",value:function(){var a=this;return e.loadExisting().then(function(b){b=b.data;a.loadSuccess(b);return b})}},{key:"loadSuccess",value:function(a){h=b(h,a.filter(function(a){return!(-1<p.indexOf(a.status))}).map(function(a){return a.id}));
var d=a.filter(function(a){return a.status===n.SUCCESS});0<d.length&&this.complete.defer(d.map(function(a){return a.id}));return a}},{key:"cancel",value:function(a){return function(b){b(a);b=h.indexOf(a);-1<b&&h.splice(b,1);return e.delete(a)}}},{key:"delete",value:function(a){return function(b){b(a);b=h.indexOf(a);-1<b&&h.splice(b,1);return e.delete(a)}}}]);return a}();g.exports=c.createActions(a)},232:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(161);var l=k(c);c=a(19);
var f=k(c);c=a(26);var b=k(c);c=a(95);var e=k(c);c=a(1);var d=k(c);c=a(2);var n=k(c),m=a(274).CancellationError,p=a(224);c=a(9);var q=a(227),h=a(481),s=a(482).isValidUploadToken,w=a(226).trackCaughtError,t=function(){},r=[],v=[],y=p(function(){0<r.length&&6>v.length&&r.splice(0,Math.min(6-v.length,r.length)).forEach(function(a){var b=a.dequeue;v.push(a.token.getId());b()})},100),I=function(a){a=v.indexOf(a.getId());-1<a&&v.splice(a,1);y()};a=function(){function a(){(0,d.default)(this,a);this.generateActions("uploadProgress",
"cleanUploadData")}(0,n.default)(a,[{key:"uploadFile",value:function(a,b,d){var c=this;return function(e){s(a)?(h.uploadFile(a.getId(),b,d,{onProgress:function(b){return c.uploadProgress({token:a,percent:b})},onCancel:t}).then(function(b){return c.uploadSuccess(a,b,d)},function(b){return c.uploadFailure(a,b)}),e({token:a,data:d})):c.uploadFailure(a,Error("Upload token is invalid"))}}},{key:"uploadFiles",value:function(a,b,d){var c=this;d=d.map(function(b,d){return{token:a[d],data:b}});r.push.apply(r,
(0,e.default)(d.map(function(a){var d=a.token,e=a.data;return{token:d,dequeue:function(){return c.uploadFile(d,b,e)}}})));y();return d}},{key:"uploadFromFileUrl",value:function(a,d,c){var e=this;return function(m){if(s(a))return m({token:a,data:c}),h.uploadFromFileUrl(a.getId(),d,c).then(function(b){return e.uploadSuccess(a,b,c)},function(d){e.uploadFailure(a,d);return b.default.reject({token:a,error:d})});e.uploadFailure(a,Error("Upload token is invalid"))}}},{key:"uploadSuccess",value:function(a,
b,d){var c=b=b.data,e=c.job,c=c.media,m=d.replaceItemId,h=d.Filedata,n=d.fileUrl;c&&(b={job:e,contentItem:c[0]});-1<d.contentType.indexOf("image")?(0,f.default)(b,{replaceItemId:m,fileData:h,fileUrl:n}):m&&(b.replaceItemId=m);I(a);(d=e&&e.id||b.processingJobId)&&q.monitor.defer(d);return{token:a,data:b}}},{key:"uploadFailure",value:function(a,b){if(!(b instanceof m)){var d=b.message||b.statusText||b;b.data&&w("damask","Upload Error: "+(0,l.default)(b.data));I(a);return{token:a,error:d}}}},{key:"cancelUpload",
value:function(a){var b=r.findIndex(function(b){return b.token===a});-1<b&&r.splice(b,1);I(a);h.cancelFileUpload(a.getId());return a}}]);return a}();g.exports=c.createActions(a)},239:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(21);var l=k(c);c=a(19);var f=k(c);c=a(1);var b=k(c);c=a(2);var e=k(c),d=a(542);c=a(9);var n=a(961),m=a(49),p=a(751),q=a(223),h=a(241);a=a(1529);var s=a.DEFAULT_COLLECTION_CONFIGURATIONS,w=a.DEFAULT_COLLECTION_CONFIGURATION,t=a.DEFAULT_TEMPLATE_PAGE_CONFIGURATION;
a=function(){function a(){(0,b.default)(this,a);this.bindListeners({handleLoadTemplate:p.LOAD_TEMPLATE,staticInitialized:m.BOOTSTRAP});this.exportPublicMethods({isTemplateOwner:this.isTemplateOwner,getCollectionConfig:this.getCollectionConfig,getCustomType:this.getCustomType,getPageConfig:this.getPageConfig})}(0,e.default)(a,[{key:"getCollectionConfig",value:function(a){return this.getState().collectionConfigs[a]}},{key:"getCustomType",value:function(a){return this.getState().customTypes[a]}},{key:"getPageConfig",
value:function(a){return this.getState().pageConfigs[a]}},{key:"isTemplateOwner",value:function(){var a=this.getState();return a.ownerWebsiteId===a.websiteId}},{key:"staticInitialized",value:function(a){this.setTemplateData(a.template);this.demoCollections=this.processDemoCollections(a.demoCollections);this.websiteId=a.website.id;a.templateInstallation&&(this.installationId=a.templateInstallation.id)}},{key:"handleLoadTemplate",value:function(a){this.waitFor(n.dispatchToken);a.error?this.error=a.response:
(this.error=null,this.setTemplateData(a.template),this.demoCollections=this.processDemoCollections(a.demoCollections),this.installationId=a.installation.id)}},{key:"setTemplateData",value:function(a){a&&(this.id=a.id,this.name=a.name,this.updatedOn=a.updatedOn,this.ownerWebsiteId=a.ownerWebsiteId,this.collectionConfigs=this.processCollectionConfigs(a.collectionConfigs),this.pageConfigs=this.processPageConfigs(a.pageConfigs),this.customTypes=this.processCustomTypes(a.customTypes),this.layouts=this.processLayouts(a.layouts),
this.navigations=a.navigations)}},{key:"processCollectionConfigs",value:function(a){a.products&&(a.products=(0,f.default)({},s.products,a.products),a.products.acceptTypes&&0===a.products.acceptTypes.length&&(a.products.acceptTypes=s.products.acceptTypes),a.products.ordering=q.USER);a.page&&(a.page=(0,f.default)({},s.page,a.page));a=(0,f.default)({},s,a);a=d(a,function(a){a=(0,f.default)({},w,a);!0===a.variation?a.folderBehavior=h.VARIATION:!0===a.index?a.folderBehavior=h.INDEX:!0===a.folder&&(a.folderBehavior=
h.NONE);return a});var b=a.folders||a.folder;b&&(b.acceptTypes=this.calculateFolderAcceptTypes(a));return a}},{key:"calculateFolderAcceptTypes",value:function(a){var b=["subscription","gallery-block","template-page"];return(0,l.default)(a).filter(function(d){return a[d].folder?!1:-1===b.indexOf(d)}).concat(["link"])}},{key:"processPageConfigs",value:function(a){return d(a,function(a){return(0,f.default)({},t,a)})}},{key:"processCustomTypes",value:function(){return(0<arguments.length&&void 0!==arguments[0]?
arguments[0]:[]).reduce(function(a,b){a[b.name]=b;return a},{})}},{key:"processDemoCollections",value:function(a){return a||[]}},{key:"processLayouts",value:function(a){return a||{}}}]);return a}();g.exports=c.createStore(a,"TemplateStore")},241:function(g,c){g.exports={INDEX:1,REDIRECT:2,NONE:3,VARIATION:4}},244:function(g,c,a){g.exports={"default":a(569),__esModule:!0}},246:function(g,c,a){c=a(276);a=a(578)(c);g.exports=a},249:function(g,c,a){function k(a,b){b.forEach(function(b){Object.keys(Object(b)).forEach(function(d){a(d,
b[d])})})}Object.defineProperty(c,"__esModule",{value:!0});c.isPojo=function(a){var b=a.constructor;return!!a&&"object"===typeof a&&"[object Object]"===Object.prototype.toString.call(a)&&l(b)&&(b instanceof b||"AltStore"===a.type)};c.isPromise=function(a){return!!a&&("object"===typeof a||"function"===typeof a)&&"function"===typeof a.then};c.eachObject=k;c.assign=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];k(function(b,d){return a[b]=d},c);return a};var l=
function(a){return"function"===typeof a};c.isFunction=l},250:function(g,c,a){g.exports={"default":a(432),__esModule:!0}},253:function(g,c){g.exports={AUTHENTICATED:0,CONFIG:1,ADMIN:2,CONFIG_CONTENT_MANAGER:11,CONFIG_SETTINGS:12,CONFIG_ACTIVITY:13,CONFIG_COMMERCE:14,CONFIG_NEWSLETTER:15,CONFIG_DAMASK:17,CONFIG_CRM:18,CONFIG_CHANGE_STRUCTURE:1110,CONFIG_TRUSTED_COMMENTER:1111,CONFIG_SETTINGS_GENERAL:1210,CONFIG_SETTINGS_LOCALE:1211,CONFIG_SETTINGS_SOCIAL_ACCOUNT:1212,CONFIG_SETTINGS_FACEBOOK:1213,CONFIG_SETTINGS_SOCIAL_SETTINGS:1214,
CONFIG_SETTINGS_MEMBER_ACCOUNTS:1215,CONFIG_SETTINGS_DOMAIN:1216,CONFIG_SETTINGS_TEMPLATE:1217,CONFIG_SETTINGS_IMPORT:1218,CONFIG_SETTINGS_CODEINJECT:1219,CONFIG_SETTINGS_ADVANCED:1220,CONFIG_SETTINGS_DEVELOPER:1221,CONFIG_SETTINGS_SESSIONS:1222,CONFIG_SETTINGS_MOBILE:1223,CONFIG_SETTINGS_BILLING:1224,CONFIG_SETTINGS_SUPPORT:1225,CONFIG_SETTINGS_SITE:1226,CONFIG_SETTINGS_LABS:1227,CONFIG_SETTINGS_ADVERTISING:1228,CONFIG_ACTIVITY_STATS:1310,CONFIG_ACTIVITY_COMMENTS:1311,CONFIG_COMMERCE_ORDERS:1410,
CONFIG_COMMERCE_STORE_SETTINGS:1411,CONFIG_COMMERCE_SHIPPING:1412,CONFIG_COMMERCE_COUPONS:1413,CONFIG_COMMERCE_TAXES:1414,CONFIG_COMMERCE_EMAIL_NOTIFICATIONS:1415,CONFIG_COMMERCE_INVENTORY:1416,CONFIG_COMMERCE_DONATIONS:1417,CONFIG_COMMERCE_ACCOUNTING:1418,CONFIG_COMMERCE_DISCOUNTS:1419,CONFIG_NEWSLETTER_READ_SUBSCRIBER:1510,CONFIG_NEWSLETTER_WRITE_SUBSCRIBER:1511,CONFIG_NEWSLETTER_READ_GROUP:1512,CONFIG_NEWSLETTER_WRITE_GROUP:1513,CONFIG_NEWSLETTER_READ_MESSAGE:1514,CONFIG_NEWSLETTER_WRITE_MESSAGE:1515,
CONFIG_NEWSLETTER_READ_SETTINGS:1516,CONFIG_NEWSLETTER_WRITE_SETTINGS:1517,CONFIG_ACCEPT_TOS:1610,CONFIG_DOMAINS_REMOVE:1611,CONFIG_DOMAINS_ADD:1612,CONFIG_CRM_COMMERCE_CUSTOMERS:1810,ADMIN_GRANT_ACCESS:2010,ADMIN_BILLING_READ:2011,ADMIN_BILLING_WRITE:2012,ADMIN_READ_CUSTOMER_DATA:2013,ADMIN_WRITE_CUSTOMER_DATA:2014,ADMIN_DEV_SETTINGS:2015,ADMIN_MARKETING_READ:2016,ADMIN_MARKETING_WRITE:2017,ADMIN_LOGINAS:2018,ADMIN_TEMPLATE_SETTINGS:2019,ADMIN_SYSTEM_JSON_VIEW:2020,ADMIN_TAXONOMY:2021,ADMIN_CHANGE_USER_EMAIL:2022,
ADMIN_ADD_NOTE:2023,ADMIN_EDIT_OTHER_NOTES:2024,ADMIN_EXTEND_TRIAL:2025,ADMIN_BIZPIPE_STATS_MOBILE_ACCESS:2026,ADMIN_REFERRALS:2027,ADMIN_BILLING_REFUND:2028,ADMIN_BILLING_APPLY_EDU_DISCOUNT:2029,ADMIN_DEACTIVATE_SQUARESPACE_ACCOUNT:2030,ADMIN_BILLING_EXPIRE:2031,ADMIN_CHANGE_MAX_COMPS:2032,ADMIN_CHANGE_GUILDS:2033,ADMIN_DOMAIN_WRITE:2034,ADMIN_GOOGLE_APPS_WRITE:2035,ADMIN_ADD_CONTRIBUTER:2036,ADMIN_CHANGE_WEBSITE_OWNER:2037,ADMIN_REMOVE_CONTRIBUTER:2038,ADMIN_TAXATION_READ:2039,ADMIN_SUSPEND:2040,
ADMIN_TAXATION_WRITE:2041,ADMIN_LOGINAS_PUBLIC:2042,ADMIN_MASS_REMOVAL:2043,ADMIN_REMOVE_SITE:2044,ADMIN_TERMINATE_MEMBER_ACCOUNT:2045,ADMIN_DOMAIN_REMOVE:2046}},258:function(g,c){g.exports={STRIPE:1,PAYPAL:2}},274:function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});c.CancellationError=c.default=void 0;g=(g=a(901))&&g.__esModule?g:{"default":g};a=(a=a(513))&&a.__esModule?a:{"default":a};c.default=g.default;c.CancellationError=a.default},279:function(g,c){g.exports={ADD_PAGES:1,ADD_CONTRIBUTORS:2,
ADD_COMMERCE_PRODUCTS:3,DEVELOPER_SDK:4,MOBILE_PORTFOLIO:5,COMMERCE:6,ACCOUNTING:7,SHIPSTATION_INTEGRATION:8,ABANDONED_CART_RECOVERY:9,REAL_TIME_SHIPPING_RATES:10,COMMERCE_TRANSACTION_FEE:11,FREE_GOOGLE_APPS_INBOX:12,GOOGLE_AD_WORDS_CREDIT:13,VAT_COLLECTION_BETA:14,MULTICURRENCY_BETA:15,STRICT_GOOGLE_APPS_FREE_INBOX_POLICY:16,CRM:17,AUTO_TRIGGERED_DISCOUNTS:18,ACUITY:19}},283:function(g,c,a){var k=a(285);g.exports=function(a,c){return!(!a||!a.length)&&-1<k(a,c,0)}},284:function(g,c){g.exports=function(a,
c,l){for(var f=-1,b=a?a.length:0;++f<b;)if(l(c,a[f]))return!0;return!1}},285:function(g,c,a){var k=a(303),l=a(552);g.exports=function(a,b,c){if(b!==b)return k(a,l,c);c-=1;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}},286:function(g,c){g.exports=function(a,c){return a.has(c)}},294:function(g,c,a){var k=(c=a(161))&&c.__esModule?c:{"default":c},l=(a=a(21))&&a.__esModule?a:{"default":a};g.exports={encodeUrl:function(a){var b=[];(0,l.default)(a).forEach(function(c){if(a.hasOwnProperty(c)&&
a[c]){var d="string"===typeof a[c]?a[c]:(0,k.default)(a[c]);b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}});return b.join("&")},removeHttpAndWwwFromUrl:function(a){return a.replace(/(?:https?:\/\/)?(?:www\.)?(.*)\/?$/i,"$1")}}},296:function(g,c,a){var k=a(61),l=a(289),f=Object.prototype.toString;g.exports=function(a){return"string"==typeof a||!k(a)&&l(a)&&"[object String]"==f.call(a)}},2962:function(g,c,a){var k=a(4);YUI.add("squarespace-simple-liking",function(a){var c=a.config.win.Static;
a.Squarespace.SimpleLike={TEXT_LIKE_VERB_NONE:k("No Likes"),TEXT_LIKE_VERB_SINGULAR:"Like",TEXT_LIKE_VERB_PLURAL:"Likes",TEXT_LIKE_ACTIVATED:k("You like this"),TEXT_LIKE_SUGGEST:k("Click to like"),attached:!1,attach:function(){if(!this.attached){this.attached=!0;var b;try{localStorage&&((b=a.JSON.parse(localStorage.getItem("squarespace-likes")))||(b={}),localStorage.setItem("squarespace-likes",a.JSON.stringify(b)))}catch(e){b={}}this.eventHandlers=[];var d=a.delegate("click",function(d){d=d.currentTarget;
var c=d.getAttribute("data-item-id");if(c){for(var e=0;5>e;++e)a.Squarespace.SimpleLike.burst(d);if(!d.hasClass("clicked")&&!d.hasClass("float")){e=parseInt(d.getAttribute("data-like-count"),10);d.setAttribute("data-like-count",e+1);a.Squarespace.SimpleLike.renderLikeCount(d);d.addClass("clicked");try{localStorage&&(b[c]=!0,localStorage.setItem("squarespace-likes",a.JSON.stringify(b)))}catch(f){console.warn("Unable to save like to local storage: ",f)}(new a.Squarespace.Models.ContentItem({id:c})).like(function(b,
d){d.commited&&console.log("Like was counted!");a.Lang.isValue(b)&&b.crumbFail&&!a.Squarespace.Utils.areCookiesEnabled()&&alert(k("You need to enable cookies to be able to like something."))})}}},"body",".sqs-simple-like");this.eventHandlers.push(d);a.all(".sqs-simple-like").each(function(d){var e=d.getAttribute("data-item-id");e&&(c.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled||d.remove(),b[e]&&d.addClass("clicked"),a.Squarespace.SimpleLike.renderLikeCount(d))})}},detach:function(){this.attached=
!1;this.eventHandlers.forEach(function(a){a.detach()})},renderLikeCount:function(b){var c=b.getAttribute("data-item-id"),d=b.getAttribute("data-like-count");b=b.one(".like-count");c&&b&&(c="",c=0===d?a.Squarespace.SimpleLike.TEXT_LIKE_VERB_NONE:1==d?"1 "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_SINGULAR:d+" "+a.Squarespace.SimpleLike.TEXT_LIKE_VERB_PLURAL,b.setContent(c))},burst:function(b){var c=b.cloneNode(!0);c.one(".like-count")&&c.one(".like-count").remove();var d=b.one(".like-icon");if(!d||"none"===
d.getStyle("display"))d=b;c.setStyles({position:"absolute",left:d.getX()+"px",top:d.getY()+"px"});a.one(a.config.doc.body).append(c);b=new a.Anim({node:c,duration:2,easing:a.Easing.easeOut});b.set("to",{curve:a.Squarespace.SimpleLike.randomCurve(c)});b.on("end",function(){this.get("node").remove()});b.run();c.removeClass("clicked");c.addClass("float")},randomCurve:function(a){var c=[],d=Math.floor(2*Math.random())?1:-1,n=Math.floor(2*Math.random())?1:-1,m=a.getX();a=a.getY();for(var f=0;3>f;++f)m+=
Math.floor(30*Math.random())*d,a+=Math.floor(30*Math.random())*n,c.push([m,a]);return c}};a.config.win.Squarespace.onInitialize(a,function(){c.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled&&a.Squarespace.SimpleLike.attach()});a.config.win.Squarespace.onDestroy(a,function(){!0===a.Squarespace.SimpleLike.attached&&a.Squarespace.SimpleLike.detach()})},"1.0",{requires:["anim","json","node","squarespace-models-content-item","squarespace-util"]})},297:function(g,c,a){function k(a){return a&&a.__esModule?
a:{"default":a}}c=a(26);var l=k(c);c=a(79);var f=k(c);c=a(19);var b=k(c);c=a(1);var e=k(c);c=a(2);var d=k(c),n=a(296),m=a(1272),p=a(169),q=a(779),h={useLoginFlag:!1,includeWebsiteList:!1,targetIdentifier:null,authenticationType:null,startSubscription:!1},s={serviceProvider:null,customParameters:null,urlParams:{}},w=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var d=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?d:d&7|8).toString(16)})},
t=function(){function a(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,e.default)(this,a);this.urlParams=(0,b.default)({},h,d);this.urlParams.uuid=w();this.reset();this.boundMessageReceiver=this.receiveMessage.bind(this)}(0,d.default)(a,[{key:"getAuthResponse",value:function(){return{socialConfig:this.socialConfig,websites:this.websites,website:this.website,memberAccount:this.memberAccount}}},{key:"openPopupWindow",value:function(a,b){var d="/auth/ExternalAuthenticationInitiate?"+
this.buildQueryParams(a,b);this.oauthWindow=window.open(d,"ConnectWithOAuth","location=0,status=0,scrollbars=1,width=1020,height=520");window.addEventListener("message",this.boundMessageReceiver)}},{key:"reset",value:function(){this.socialConfig=this.memberAccount=this.website=this.websites=null;this.messageReceived=!1}},{key:"buildQueryParams",value:function(a,d){var c=(0,b.default)({},this.urlParams,d);c.serviceProvider=n(a)?p[a.toUpperCase()]:a;a===p.FACEBOOK&&(c.redirArgs=encodeURIComponent("scopeuser_checkins,offline_access,manage_pages,publish_stream"));
c.useLoginFlag&&(c.loginFlag=!0,delete c.useLoginFlag);var e=this.getInviteCode();e&&(c.invitation=e);return m.stringify(c,{skipNulls:!0,filter:function(a,b){if(!1!==b)return b}})}},{key:"getInviteCode",value:function(){var a=document.location.search;"?"===a[0]&&(a=a.slice(1));return m.parse(a).invitation}},{key:"receiveMessage",value:function(a){a=JSON.parse(a.data);if(null!==a&&"object"===("undefined"===typeof a?"undefined":(0,f.default)(a)))this.saveAuthResponse(a),this.messageReceived=!0}},{key:"saveAuthResponse",
value:function(a){this.websites=a.websites;this.memberAccount=a.memberAccount;this.website=a.website;this.socialConfig=a.config?a.config:a.socialConfig}},{key:"checkClosedOnInterval",value:function(a,b){this.oauthWindow.closed?(window.removeEventListener("message",this._boundMessageReceiver),setTimeout(function(){var d=this;this.messageReceived?a(this.getAuthResponse()):q.getResult(this.urlParams.uuid).then(function(b){d.saveAuthResponse(b);a(d.getAuthResponse())},b).catch(b)}.bind(this,a,b),20)):
setTimeout(this.checkClosedOnInterval.bind(this,a,b),200)}}]);return a}();g.exports={authenticate:function(a){a=(0,b.default)({},s,a);if(null===a.serviceProvider||!["string","number"].includes((0,f.default)(a.serviceProvider)))throw Error("Invalid or nonexistant oauth service provider");var d=new t(a.urlParams);return new l.default(function(b,c){d.openPopupWindow(a.serviceProvider,a.customParameters);d.checkClosedOnInterval(b,c)})}}},298:function(g,c,a){g.exports={"default":a(528),__esModule:!0}},
300:function(g,c){g.exports={IMAGE_PROCESSING:2,IMPORTING:3,PUSH:4,S3:6,SMTP:7,DESK_TICKET:8,INSTAGRAM:10,SOCIAL_PULL:11,FOURSQUARE:12,DYNECT:13,BETAEND:14,EXPORTING_WORDPRESS:16,EXPORTING_INTERNAL:17,COLLECTION_SYNC:18,CONTENT_STATS_REGENERATION:19,SEARCH_REALTIME:20,GENERATE_SITEMAP:21,IMAGE_FOCAL_POINT:22,MIGRATE_CONTENT_STATS:23,DELETE_WEBSITE:24,RESTORE_DELETED_WEBSITE:25,STATS_MIGRATION:26,STATS_COPY:27,AUDIO_PROCESSING:28,SEND_NEWSLETTER_MESSAGE:29,PUBLISH_SCHEDULED_POST:30,DISABLE_COMMENTS:31,
XERO_MANUAL_EXPORT:32,SIGNUP:33,GOOGLE_APPS_REGISTRATION:34,DELINQUENT_BILLING_MAIL:35,ONBOARDING_TRIAL_EMAIL:36,DOMAIN_BATCH_REGISTRATION:37,DOMAIN_BATCH_CONFIRMATION_EMAIL:38,PINTEREST_DOMAIN_VERIFICATION_POLL:39,SEND_FREE_INBOX_REMINDER:40,DROPBOX2_TEMPLATE_PUSH:41,CREATIVE_WELCOME_EMAIL:42,MASS_REMOVAL_PARENT:43,MASS_REMOVAL_SUBSCRIPTION:44,IMAGE_SCALING:45,GLOBAL_MIGRATION:46,DOMAIN_TRANSFER_REQUEST:47,PARKING_PAGE_SIGNUP:48}},303:function(g,c){g.exports=function(a,c,l,f){var b=a.length;for(l+=
f?1:-1;f?l--:++l<b;)if(c(a[l],l,a))return l;return-1}},304:function(g,c){YUI.add("model",function(a,c){function l(){l.superclass.constructor.apply(this,arguments)}var f=YUI.namespace("Env.Model"),b=a.Lang,e=a.Array,d=a.Object,n="error";a.Model=a.extend(l,a.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(a){this.changed={};this.lastChange={};this.lists=[]},destroy:function(a,b){var d=this;"function"===typeof a&&(b=a,a=null);d.onceAfter("destroy",function(){function c(h){h||
e.each(d.lists.concat(),function(b){b.remove(d,a)});b&&b.apply(null,arguments)}a&&(a.remove||a["delete"])?d.sync("delete",a,c):c()});return l.superclass.destroy.call(d)},generateClientId:function(){f.lastId||(f.lastId=0);return this.constructor.NAME+"_"+(f.lastId+=1)},getAsHTML:function(d){d=this.get(d);return a.Escape.html(b.isValue(d)?String(d):"")},getAsURL:function(a){a=this.get(a);return encodeURIComponent(b.isValue(a)?String(a):"")},isModified:function(){return this.isNew()||!d.isEmpty(this.changed)},
isNew:function(){return!b.isValue(this.get("id"))},load:function(a,b){var d=this;"function"===typeof a&&(b=a,a={});a||(a={});d.sync("read",a,function(c,e){var f={options:a,response:e},l;c?(f.error=c,f.src="load",d.fire(n,f)):(d._loadEvent||(d._loadEvent=d.publish("load",{preventable:!1})),l=f.parsed=d._parse(e),d.setAttrs(l,a),d.changed={},d.fire("load",f));b&&b.apply(null,arguments)});return d},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)}catch(d){return this.fire(n,{error:d,
response:b,src:"parse"}),null}return b},save:function(a,b){var d=this;"function"===typeof a&&(b=a,a={});a||(a={});d._validate(d.toJSON(),function(c){c?b&&b.call(null,c):d.sync(d.isNew()?"create":"update",a,function(c,e){var h={options:a,response:e},f;c?(h.error=c,h.src="save",d.fire(n,h)):(d._saveEvent||(d._saveEvent=d.publish("save",{preventable:!1})),e&&(f=h.parsed=d._parse(e),d.setAttrs(f,a)),d.changed={},d.fire("save",h));b&&b.apply(null,arguments)})});return d},set:function(a,b,d){var c={};c[a]=
b;return this.setAttrs(c,d)},setAttrs:function(b,c){var e=this.idAttribute,h,f,n,l;c=a.merge(c);l=c._transaction={};"id"!==e&&(b=a.merge(b),d.owns(b,e)?b.id=b[e]:d.owns(b,"id")&&(b[e]=b.id));for(f in b)d.owns(b,f)&&this._setAttr(f,b[f],c);if(!d.isEmpty(l)){e=this.changed;n=this.lastChange={};for(f in l)d.owns(l,f)&&(h=l[f],e[f]=h.newVal,n[f]={newVal:h.newVal,prevVal:h.prevVal,src:h.src||null});c.silent||(this._changeEvent||(this._changeEvent=this.publish("change",{preventable:!1})),c.changed=n,this.fire("change",
c))}return this},sync:function(){var a=e(arguments,0,!0).pop();"function"===typeof a&&a()},toJSON:function(){var a=this.getAttrs();delete a.clientId;delete a.destroyed;delete a.initialized;"id"!==this.idAttribute&&delete a.id;return a},undo:function(a,b){var c=this.lastChange,h=this.idAttribute,f={},n;a||(a=d.keys(c));e.each(a,function(a){d.owns(c,a)&&(a=a===h?"id":a,n=!0,f[a]=c[a].prevVal)});return n?this.setAttrs(f,b):this},validate:function(a,b){b&&b()},addAttr:function(a,d,c){var e=this.idAttribute,
f;e&&a===e&&(e=this._isLazyAttr("id")||this._getAttrCfg("id"),f=d.value===d.defaultValue?null:d.value,b.isValue(f)||(f=e.value===e.defaultValue?null:e.value,b.isValue(f)||(f=b.isValue(d.defaultValue)?d.defaultValue:e.defaultValue)),d.value=f,e.value!==f&&(e.value=f,this._isLazyAttr("id")?this._state.add("id","lazy",e):this._state.add("id","value",f)));return l.superclass.addAttr.apply(this,arguments)},_parse:function(a){return this.parse(a)},_validate:function(a,d){function c(f){b.isValue(f)?(e.fire(n,
{attributes:a,error:f,src:"validate"}),d(f)):d()}var e=this;1===e.validate.length?c(e.validate(a,c)):e.validate(a,c)},_setAttrVal:function(a,b,d,c,e,f){var n=l.superclass._setAttrVal.apply(this,arguments),k=e&&e._transaction,g=f&&f.initializing;n&&(k&&!g)&&(k[a]={newVal:this.get(a),prevVal:d,src:e.src||null});return n}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.17.2",{requires:["base-build","escape","json-parse"]})},353:function(g,c,a){var k=a(562);
g.exports=function(a,c){a=Object(a);return k(a,c,function(b,c){return c in a})}},40:function(g,c,a){(function(a,c){g.exports=c()})(this,function(){function a(u,b){b&&(u.prototype=Object.create(b.prototype));u.prototype.constructor=u}function c(a){return d(a)?a:L(a)}function f(a){return n(a)?a:T(a)}function b(a){return m(a)?a:J(a)}function e(a){return d(a)&&!g(a)?a:ba(a)}function d(a){return!(!a||!a[Hb])}function n(a){return!(!a||!a[Ib])}function m(a){return!(!a||!a[Jb])}function g(a){return n(a)||
m(a)}function q(a){return!(!a||!a[ua])}function h(a){a.value=!1;return a}function s(a){a&&(a.value=!0)}function w(){}function t(a,b){b=b||0;for(var d=Math.max(0,a.length-b),c=Array(d),e=0;e<d;e++)c[e]=a[e+b];return c}function r(a){void 0===a.size&&(a.size=a.__iterate(y));return a.size}function v(a,b){if("number"!==typeof b){var d=b>>>0;if(""+d!==b||4294967295===d)return NaN;b=d}return 0>b?r(a)+b:b}function y(){return!0}function I(a,b,d){return(0===a||void 0!==d&&a<=-d)&&(void 0===b||void 0!==d&&b>=
d)}function K(a,b,d){return void 0===a?d:0>a?Math.max(0,b+a):void 0===b?a:Math.min(b,a)}function z(a){this.next=a}function A(a,b,d,c){a=0===a?b:1===a?d:[b,d];c?c.value=a:c={value:a,done:!1};return c}function x(){return{value:void 0,done:!0}}function $(a){return a&&"function"===typeof a.next}function aa(a){var b=Ea(a);return b&&b.call(a)}function Ea(a){a=a&&(bb&&a[bb]||a[Lb]);if("function"===typeof a)return a}function L(a){if(null===a||void 0===a)a=Pa();else if(d(a))a=a.toSeq();else{var b=Mb(a)||"object"===
typeof a&&new na(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);a=b}return a}function T(a){return null===a||void 0===a?Pa().toKeyedSeq():d(a)?n(a)?a.toSeq():a.fromEntrySeq():Nb(a)}function J(a){return null===a||void 0===a?Pa():!d(a)?cb(a):n(a)?a.entrySeq():a.toIndexedSeq()}function ba(a){return(null===a||void 0===a?Pa():!d(a)?cb(a):n(a)?a.entrySeq():a).toSetSeq()}function ga(a){this._array=a;this.size=a.length}function na(a){var b=Object.keys(a);this._object=
a;this._keys=b;this.size=b.length}function Fa(a){this._iterable=a;this.size=a.length||a.size}function Ga(a){this._iterator=a;this._iteratorCache=[]}function db(a){return!(!a||!a[Ob])}function Pa(){return Pb||(Pb=new ga([]))}function Nb(a){var b=Array.isArray(a)?(new ga(a)).fromEntrySeq():$(a)?(new Ga(a)).fromEntrySeq():Ea(a)?(new Fa(a)).fromEntrySeq():"object"===typeof a?new na(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}
function cb(a){var b=Mb(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Mb(a){return a&&"number"===typeof a.length?new ga(a):$(a)?new Ga(a):Ea(a)?new Fa(a):void 0}function Qb(a,b,d,c){var e=a._cache;if(e){for(var f=e.length-1,n=0;n<=f;n++){var h=e[d?f-n:n];if(!1===b(h[1],c?h[0]:n,a))return n+1}return n}return a.__iterateUncached(b,d)}function Rb(a,b,d,c){var e=a._cache;if(e){var f=e.length-1,n=0;return new z(function(){var a=e[d?f-n:n];return n++>
f?x():A(b,c?a[0]:n-1,a[1])})}return a.__iteratorUncached(b,d)}function eb(a,b){return b?fb(b,a,"",{"":a}):gb(a)}function fb(a,b,d,c){return Array.isArray(b)?a.call(c,d,J(b).map(function(d,c){return fb(a,d,c,b)})):b&&(b.constructor===Object||void 0===b.constructor)?a.call(c,d,T(b).map(function(d,c){return fb(a,d,c,b)})):b}function gb(a){return Array.isArray(a)?J(a).map(gb).toList():a&&(a.constructor===Object||void 0===a.constructor)?T(a).map(gb).toMap():a}function M(a,b){if(a===b||a!==a&&b!==b)return!0;
if(!a||!b)return!1;if("function"===typeof a.valueOf&&"function"===typeof b.valueOf){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return"function"===typeof a.equals&&"function"===typeof b.equals&&a.equals(b)?!0:!1}function hb(a,b){if(a===b)return!0;if(!d(b)||void 0!==a.size&&void 0!==b.size&&a.size!==b.size||void 0!==a.__hash&&void 0!==b.__hash&&a.__hash!==b.__hash||n(a)!==n(b)||m(a)!==m(b)||q(a)!==q(b))return!1;if(0===a.size&&0===b.size)return!0;var c=!g(a);if(q(a)){var e=
a.entries();return b.every(function(a,b){var u=e.next().value;return u&&M(u[1],a)&&(c||M(u[0],b))})&&e.next().done}var f=!1;if(void 0===a.size)if(void 0===b.size)"function"===typeof a.cacheResult&&a.cacheResult();else{var f=!0,h=a;a=b;b=h}var l=!0,h=b.__iterate(function(b,d){if(c?!a.has(b):f?!M(b,a.get(d,C)):!M(a.get(d,C),b))return l=!1});return l&&a.size===h}function Q(a,b){if(!(this instanceof Q))return new Q(a,b);this._value=a;this.size=void 0===b?Infinity:Math.max(0,b);if(0===this.size){if(ib)return ib;
ib=this}}function Qa(a,b){if(!a)throw Error(b);}function R(a,b,d){if(!(this instanceof R))return new R(a,b,d);Qa(0!==d,"Cannot step a Range by 0");a=a||0;void 0===b&&(b=Infinity);d=void 0===d?1:Math.abs(d);b<a&&(d=-d);this._start=a;this._end=b;this._step=d;this.size=Math.max(0,Math.ceil((b-a)/d-1)+1);if(0===this.size){if(jb)return jb;jb=this}}function oa(){throw TypeError("Abstract");}function Ha(){}function va(){}function Ra(){}function W(a){if(!1===a||(null===a||void 0===a)||"function"===typeof a.valueOf&&
(a=a.valueOf(),!1===a||null===a||void 0===a))return 0;if(!0===a)return 1;var b=typeof a;if("number"===b){b=a|0;for(b!==a&&(b^=4294967295*a);4294967295<a;)a/=4294967295,b^=a;return b>>>1&1073741824|b&3221225471}if("string"===b)return a.length>Fc?(b=kb[a],void 0===b&&(b=lb(a),mb===Gc&&(mb=0,kb={}),mb++,kb[a]=b),a=b):a=lb(a),a;if("function"===typeof a.hashCode)return a.hashCode();if("object"===b)return Hc(a);if("function"===typeof a.toString)return lb(a.toString());throw Error("Value type "+b+" cannot be hashed.");
}function lb(a){for(var b=0,d=0;d<a.length;d++)b=31*b+a.charCodeAt(d)|0;return b>>>1&1073741824|b&3221225471}function Hc(a){var b;if(nb&&(b=ob.get(a),void 0!==b))return b;b=a[ra];if(void 0!==b)return b;if(!Sa){b=a.propertyIsEnumerable&&a.propertyIsEnumerable[ra];if(void 0!==b)return b;a:{if(a&&0<a.nodeType)switch(a.nodeType){case 1:b=a.uniqueID;break a;case 9:b=a.documentElement&&a.documentElement.uniqueID;break a}b=void 0}if(void 0!==b)return b}b=++pb;pb&1073741824&&(pb=0);if(nb)ob.set(a,b);else{if(void 0!==
Sb&&!1===Sb(a))throw Error("Non-extensible objects are not allowed as keys.");if(Sa)Object.defineProperty(a,ra,{enumerable:!1,configurable:!1,writable:!1,value:b});else if(void 0!==a.propertyIsEnumerable&&a.propertyIsEnumerable===a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[ra]=b;else if(void 0!==a.nodeType)a[ra]=b;else throw Error("Unable to set a non-enumerable property on object.");
}return b}function X(a){Qa(Infinity!==a,"Cannot perform this action with an infinite size.")}function D(a){return null===a||void 0===a?ha():qb(a)&&!q(a)?a:ha().withMutations(function(b){var d=f(a);X(d.size);d.forEach(function(a,u){return b.set(u,a)})})}function qb(a){return!(!a||!a[Tb])}function Ia(a,b){this.ownerID=a;this.entries=b}function wa(a,b,d){this.ownerID=a;this.bitmap=b;this.nodes=d}function Ja(a,b,d){this.ownerID=a;this.count=b;this.nodes=d}function sa(a,b,d){this.ownerID=a;this.keyHash=
b;this.entries=d}function ia(a,b,d){this.ownerID=a;this.keyHash=b;this.entry=d}function rb(a,b,d){this._type=b;this._reverse=d;this._stack=a._root&&{node:a._root,index:0,__prev:void 0}}function sb(a,b,d,c){var e=Object.create(B);e.size=a;e._root=b;e.__ownerID=d;e.__hash=c;e.__altered=!1;return e}function ha(){return Ub||(Ub=sb(0))}function Vb(a,b,d){var c;if(a._root){c=h(Ic);var e=h(Wb);b=tb(a._root,a.__ownerID,0,void 0,b,d,c,e);if(!e.value)return a;c=a.size+(c.value?d===C?-1:1:0)}else{if(d===C)return a;
c=1;b=new Ia(a.__ownerID,[[b,d]])}return a.__ownerID?(a.size=c,a._root=b,a.__hash=void 0,a.__altered=!0,a):b?sb(c,b):ha()}function tb(a,b,d,c,e,f,n,h){if(!a){if(f===C)return a;s(h);s(n);return new ia(b,c,[e,f])}return a.update(b,d,c,e,f,n,h)}function ub(a,b,d,c,e){if(a.keyHash===c)return new sa(b,c,[a.entry,e]);var f=(0===d?a.keyHash:a.keyHash>>>d)&U,n=(0===d?c:c>>>d)&U,h;a=f===n?[ub(a,b,d+F,c,e)]:(h=new ia(b,c,e),f<n?[a,h]:[h,a]);return new wa(b,1<<f|1<<n,a)}function Ta(a,b,c){for(var e=[],n=0;n<
c.length;n++){var h=c[n],m=f(h);d(h)||(m=m.map(function(a){return eb(a)}));e.push(m)}return Xb(a,b,e)}function Yb(a,b,c){return a&&a.mergeDeep&&d(b)?a.mergeDeep(b):M(a,b)?a:b}function Zb(a){return function(b,c,e){if(b&&b.mergeDeepWith&&d(c))return b.mergeDeepWith(a,c);c=a(b,c,e);return M(b,c)?b:c}}function Xb(a,b,d){d=d.filter(function(a){return 0!==a.size});return 0===d.length?a:0===a.size&&!a.__ownerID&&1===d.length?a.constructor(d[0]):a.withMutations(function(a){for(var u=b?function(d,u){a.update(u,
C,function(a){return a===C?d:b(a,d,u)})}:function(b,d){a.set(d,b)},c=0;c<d.length;c++)d[c].forEach(u)})}function $b(a,b,d,c){var e=a===C,f=b.next();if(f.done)return e=e?d:a,c=c(e),c===e?a:c;Qa(e||a&&a.set,"invalid keyPath");var f=f.value,n=e?C:a.get(f,C);c=$b(n,b,d,c);return c===n?a:c===C?a.remove(f):(e?ha():a).set(f,c)}function ac(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a+=a>>8;return a+(a>>16)&127}function G(a){var d=vb();if(null===a||void 0===a)return d;if(bc(a))return a;
var c=b(a),e=c.size;if(0===e)return d;X(e);return 0<e&&e<ca?Ka(0,e,F,null,new pa(c.toArray())):d.withMutations(function(a){a.setSize(e);c.forEach(function(b,d){return a.set(d,b)})})}function bc(a){return!(!a||!a[cc])}function pa(a,b){this.array=a;this.ownerID=b}function dc(a,b){function d(a,c){var u=c===n?h&&h.array:a&&a.array,Kb=c>e?0:e-c,m=f-c;m>ca&&(m=ca);return function(){if(Kb===m)return La;var a=b?--m:Kb++;return u&&u[a]}}function c(a,u,n){var h,m=a&&a.array,l=n>e?0:e-n>>u,g=(f-n>>u)+1;g>ca&&
(g=ca);return function(){do{if(h){var a=h();if(a!==La)return a;h=null}if(l===g)return La;a=b?--g:l++;h=0===u-F?d(m&&m[a],n+(a<<u)):c(m&&m[a],u-F,n+(a<<u))}while(1)}}var e=a._origin,f=a._capacity,n=Ma(f),h=a._tail;return 0===a._level?d(a._root,0):c(a._root,a._level,0)}function Ka(a,b,d,c,e,f,n){var h=Object.create(V);h.size=b-a;h._origin=a;h._capacity=b;h._level=d;h._root=c;h._tail=e;h.__ownerID=f;h.__hash=n;h.__altered=!1;return h}function vb(){return ec||(ec=Ka(0,0,F))}function Jc(a,b,d){b=v(a,b);
if(b!==b)return a;if(b>=a.size||0>b)return a.withMutations(function(a){0>b?qa(a,b).set(0,d):qa(a,0,b+1).set(b,d)});b+=a._origin;var c=a._tail,e=a._root,f=h(Wb);b>=Ma(a._capacity)?c=wb(c,a.__ownerID,0,b,d,f):e=wb(e,a.__ownerID,a._level,b,d,f);return!f.value?a:a.__ownerID?(a._root=e,a._tail=c,a.__hash=void 0,a.__altered=!0,a):Ka(a._origin,a._capacity,a._level,e,c)}function wb(a,b,d,c,e,f){var n=c>>>d&U,h=a&&n<a.array.length;if(!h&&void 0===e)return a;if(0<d){h=a&&a.array[n];e=wb(h,b,d-F,c,e,f);if(e===
h)return a;a=xa(a,b);a.array[n]=e;return a}if(h&&a.array[n]===e)return a;s(f);a=xa(a,b);void 0===e&&n===a.array.length-1?a.array.pop():a.array[n]=e;return a}function xa(a,b){return b&&a&&b===a.ownerID?a:new pa(a?a.array.slice():[],b)}function fc(a,b){if(b>=Ma(a._capacity))return a._tail;if(b<1<<a._level+F){for(var d=a._root,c=a._level;d&&0<c;)d=d.array[b>>>c&U],c-=F;return d}}function qa(a,b,d){void 0!==b&&(b|=0);void 0!==d&&(d|=0);var c=a.__ownerID||new w,e=a._origin,f=a._capacity;b=e+b;d=void 0===
d?f:0>d?f+d:e+d;if(b===e&&d===f)return a;if(b>=d)return a.clear();for(var n=a._level,h=a._root,m=0;0>b+m;)h=new pa(h&&h.array.length?[void 0,h]:[],c),n+=F,m+=1<<n;m&&(b+=m,e+=m,d+=m,f+=m);for(var l=Ma(f),g=Ma(d);g>=1<<n+F;)h=new pa(h&&h.array.length?[h]:[],c),n+=F;var m=a._tail,k=g<l?fc(a,d-1):g>l?new pa([],c):m;if(m&&g>l&&b<f&&m.array.length){for(var p=h=xa(h,c),q=n;q>F;q-=F)var s=l>>>q&U,p=p.array[s]=xa(p.array[s],c);p.array[l>>>F&U]=m}d<f&&(k=k&&k.removeAfter(c,0,d));if(b>=g)b-=g,d-=g,n=F,h=null,
k=k&&k.removeBefore(c,0,b);else if(b>e||g<l){for(m=0;h;){f=b>>>n&U;if(f!==g>>>n&U)break;f&&(m+=(1<<n)*f);n-=F;h=h.array[f]}h&&b>e&&(h=h.removeBefore(c,n,b-m));h&&g<l&&(h=h.removeAfter(c,n,g-m));m&&(b-=m,d-=m)}return a.__ownerID?(a.size=d-b,a._origin=b,a._capacity=d,a._level=n,a._root=h,a._tail=k,a.__hash=void 0,a.__altered=!0,a):Ka(b,d,n,h,k)}function Ua(a,c,e){for(var f=[],n=0,h=0;h<e.length;h++){var m=e[h],l=b(m);l.size>n&&(n=l.size);d(m)||(l=l.map(function(a){return eb(a)}));f.push(l)}n>a.size&&
(a=a.setSize(n));return Xb(a,c,f)}function Ma(a){return a<ca?0:a-1>>>F<<F}function N(a){return null===a||void 0===a?Va():gc(a)?a:Va().withMutations(function(b){var d=f(a);X(d.size);d.forEach(function(a,d){return b.set(d,a)})})}function gc(a){return qb(a)&&q(a)}function xb(a,b,d,c){var e=Object.create(N.prototype);e.size=a?a.size:0;e._map=a;e._list=b;e.__ownerID=d;e.__hash=c;return e}function Va(){return hc||(hc=xb(ha(),vb()))}function ic(a,b,d){var c=a._map,e=a._list,f=c.get(b),n=void 0!==f;if(d===
C){if(!n)return a;e.size>=ca&&e.size>=2*c.size?(b=e.filter(function(a,b){return void 0!==a&&f!==b}),c=b.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(c.__ownerID=b.__ownerID=a.__ownerID)):(c=c.remove(b),b=f===e.size-1?e.pop():e.set(f,void 0))}else if(n){if(d===e.get(f)[1])return a;b=e.set(f,[b,d])}else c=c.set(b,e.size),b=e.set(e.size,[b,d]);return a.__ownerID?(a.size=c.size,a._map=c,a._list=b,a.__hash=void 0,a):xb(c,b)}function da(a,b){this._iter=a;this._useKeys=b;this.size=
a.size}function ya(a){this._iter=a;this.size=a.size}function za(a){this._iter=a;this.size=a.size}function Aa(a){this._iter=a;this.size=a.size}function jc(a){var b=ja(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=yb;b.__iterateUncached=function(b,d){var c=this;return a.__iterate(function(a,d){return!1!==
b(d,a,c)},d)};b.__iteratorUncached=function(b,d){if(b===ka){var c=a.__iterator(b,d);return new z(function(){var a=c.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===ea?Na:ea,d)};return b}function kc(a,b,d){var c=ja(a);c.size=a.size;c.has=function(b){return a.has(b)};c.get=function(c,e){var f=a.get(c,C);return f===C?e:b.call(d,f,c,a)};c.__iterateUncached=function(c,e){var f=this;return a.__iterate(function(a,u,e){return!1!==c(b.call(d,a,u,e),
u,f)},e)};c.__iteratorUncached=function(c,e){var f=a.__iterator(ka,e);return new z(function(){var e=f.next();if(e.done)return e;var n=e.value,h=n[0];return A(c,h,b.call(d,n[1],h,a),e)})};return c}function zb(a,b){var d=ja(a);d._iter=a;d.size=a.size;d.reverse=function(){return a};a.flip&&(d.flip=function(){var b=jc(a);b.reverse=function(){return a.flip()};return b});d.get=function(d,c){return a.get(b?d:-1-d,c)};d.has=function(d){return a.has(b?d:-1-d)};d.includes=function(b){return a.includes(b)};
d.cacheResult=yb;d.__iterate=function(b,d){var c=this;return a.__iterate(function(a,d){return b(a,d,c)},!d)};d.__iterator=function(b,d){return a.__iterator(b,!d)};return d}function lc(a,b,d,c){var e=ja(a);c&&(e.has=function(c){var e=a.get(c,C);return e!==C&&!!b.call(d,e,c,a)},e.get=function(c,e){var f=a.get(c,C);return f!==C&&b.call(d,f,c,a)?f:e});e.__iterateUncached=function(e,f){var n=this,h=0;a.__iterate(function(a,u,f){if(b.call(d,a,u,f))return h++,e(a,c?u:h-1,n)},f);return h};e.__iteratorUncached=
function(e,f){var n=a.__iterator(ka,f),h=0;return new z(function(){for(;;){var f=n.next();if(f.done)return f;var m=f.value,l=m[0],m=m[1];if(b.call(d,m,l,a))return A(e,c?l:h++,m,f)}})};return e}function Kc(a,b,d){var c=D().asMutable();a.__iterate(function(e,f){c.update(b.call(d,e,f,a),0,function(a){return a+1})});return c.asImmutable()}function Lc(a,d,c){var h=n(a),l=(q(a)?N():D()).asMutable();a.__iterate(function(b,e){l.update(d.call(c,b,e,a),function(a){return a=a||[],a.push(h?[e,b]:b),a})});var g=
n(a)?f:m(a)?b:e;return l.map(function(b){return E(a,g(b))})}function Ab(a,b,d,c){var e=a.size;void 0!==b&&(b|=0);void 0!==d&&(d|=0);if(I(b,d,e))return a;var f=K(b,e,0),e=K(d,e,e);if(f!==f||e!==e)return Ab(a.toSeq().cacheResult(),b,d,c);b=e-f;var n;b===b&&(n=0>b?0:b);b=ja(a);b.size=0===n?n:a.size&&n||void 0;!c&&(db(a)&&0<=n)&&(b.get=function(b,d){b=v(this,b);return 0<=b&&b<n?a.get(b+f,d):d});b.__iterateUncached=function(b,d){var e=this;if(0===n)return 0;if(d)return this.cacheResult().__iterate(b,d);
var ab=0,h=!0,m=0;a.__iterate(function(a,d){if(!h||!(h=ab++<f))return m++,!1!==b(a,c?d:m-1,e)&&m!==n});return m};b.__iteratorUncached=function(b,d){if(0!==n&&d)return this.cacheResult().__iterator(b,d);var e=0!==n&&a.__iterator(b,d),ab=0,h=0;return new z(function(){for(;ab++<f;)e.next();if(++h>n)return x();var a=e.next();return c||b===ea?a:b===Na?A(b,h-1,void 0,a):A(b,h-1,a.value[1],a)})};return b}function Mc(a,b,d){var c=ja(a);c.__iterateUncached=function(c,e){var f=this;if(e)return this.cacheResult().__iterate(c,
e);var n=0;a.__iterate(function(a,u,e){return b.call(d,a,u,e)&&++n&&c(a,u,f)});return n};c.__iteratorUncached=function(c,e){var f=this;if(e)return this.cacheResult().__iterator(c,e);var n=a.__iterator(ka,e),h=!0;return new z(function(){if(!h)return x();var a=n.next();if(a.done)return a;var u=a.value,e=u[0],u=u[1];return!b.call(d,u,e,f)?(h=!1,x()):c===ka?a:A(c,e,u,a)})};return c}function mc(a,b,d,c){var e=ja(a);e.__iterateUncached=function(e,f){var n=this;if(f)return this.cacheResult().__iterate(e,
f);var h=!0,m=0;a.__iterate(function(a,u,f){if(!h||!(h=b.call(d,a,u,f)))return m++,e(a,c?u:m-1,n)});return m};e.__iteratorUncached=function(e,f){var n=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(ka,f),m=!0,l=0;return new z(function(){var a,u,f;do{a=h.next();if(a.done)return c||e===ea?a:e===Na?A(e,l++,void 0,a):A(e,l++,a.value[1],a);f=a.value;u=f[0];f=f[1];m&&(m=b.call(d,f,u,n))}while(m);return e===ka?a:A(e,u,f,a)})};return e}function Nc(a,b){var c=n(a),e=[a].concat(b).map(function(a){d(a)?
c&&(a=f(a)):a=c?Nb(a):cb(Array.isArray(a)?a:[a]);return a}).filter(function(a){return 0!==a.size});if(0===e.length)return a;if(1===e.length){var h=e[0];if(h===a||c&&n(h)||m(a)&&m(h))return h}h=new ga(e);c?h=h.toKeyedSeq():m(a)||(h=h.toSetSeq());h=h.flatten(!0);h.size=e.reduce(function(a,b){if(void 0!==a){var d=b.size;if(void 0!==d)return a+d}},0);return h}function nc(a,b,c){var e=ja(a);e.__iterateUncached=function(e,f){function h(a,u){var l=this;a.__iterate(function(a,f){if((!b||u<b)&&d(a))h(a,u+
1);else if(!1===e(a,c?f:n++,l))m=!0;return!m},f)}var n=0,m=!1;h(a,0);return n};e.__iteratorUncached=function(e,f){var h=a.__iterator(e,f),n=[],m=0;return new z(function(){for(;h;){var a=h.next();if(!1!==a.done)h=n.pop();else{var u=a.value;e===ka&&(u=u[1]);if((!b||n.length<b)&&d(u))n.push(h),h=u.__iterator(e,f);else return c?a:A(e,m++,u,a)}}return x()})};return e}function Oc(a,d,c){var h=n(a)?f:m(a)?b:e;return a.toSeq().map(function(b,e){return h(d.call(c,b,e,a))}).flatten(!0)}function Pc(a,b){var d=
ja(a);d.size=a.size&&2*a.size-1;d.__iterateUncached=function(d,c){var e=this,f=0;a.__iterate(function(a,c){return(!f||!1!==d(b,f++,e))&&!1!==d(a,f++,e)},c);return f};d.__iteratorUncached=function(d,c){var e=a.__iterator(ea,c),f=0,h;return new z(function(){if(!h||f%2)if(h=e.next(),h.done)return h;return f%2?A(d,f++,b):A(d,f++,h.value,h)})};return d}function Ba(a,b,d){b||(b=oc);var c=n(a),e=0,f=a.toSeq().map(function(b,c){return[c,b,e++,d?d(b,c,a):b]}).toArray();f.sort(function(a,d){return b(a[3],d[3])||
a[2]-d[2]}).forEach(c?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return c?T(f):m(a)?J(f):ba(f)}function Wa(a,b,d){b||(b=oc);if(d){var c=a.toSeq().map(function(b,c){return[b,d(b,c,a)]}).reduce(function(a,d){return pc(b,a[1],d[1])?d:a});return c&&c[0]}return a.reduce(function(a,d){return pc(b,a,d)?d:a})}function pc(a,b,d){a=a(d,b);return 0===a&&d!==b&&(void 0===d||null===d||d!==d)||0<a}function Bb(a,b,d){a=ja(a);a.size=(new ga(d)).map(function(a){return a.size}).min();a.__iterate=function(a,
b){for(var d=this.__iterator(ea,b),c,u=0;!(c=d.next()).done&&!1!==a(c.value,u++,this););return u};a.__iteratorUncached=function(a,u){var e=d.map(function(a){return a=c(a),aa(u?a.reverse():a)}),f=0,h=!1;return new z(function(){var d;h||(d=e.map(function(a){return a.next()}),h=d.some(function(a){return a.done}));return h?x():A(a,f++,b.apply(null,d.map(function(a){return a.value})))})};return a}function E(a,b){return db(a)?b:a.constructor(b)}function qc(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+
a);}function rc(a){X(a.size);return r(a)}function ja(a){return Object.create((n(a)?T:m(a)?J:ba).prototype)}function yb(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):L.prototype.cacheResult.call(this)}function oc(a,b){return a>b?1:a<b?-1:0}function sc(a){var b=aa(a);if(!b){if(!(a&&"number"===typeof a.length))throw new TypeError("Expected iterable or array-like: "+a);b=aa(c(a))}return b}function Y(a,b){var d,c=function(f){if(f instanceof c)return f;if(!(this instanceof
c))return new c(f);if(!d){d=!0;var h=Object.keys(a);try{h.forEach(Qc.bind(void 0,e))}catch(n){}e.size=h.length;e._name=b;e._keys=h;e._defaultValues=a}this._map=D(f)},e=c.prototype=Object.create(P);return e.constructor=c}function Xa(a,b,d){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=d;return a}function Qc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){Qa(this.__ownerID,"Cannot set on an immutable record.");this.set(b,a)}})}function H(a){return null===
a||void 0===a?Cb():Db(a)&&!q(a)?a:Cb().withMutations(function(b){var d=e(a);X(d.size);d.forEach(function(a){return b.add(a)})})}function Db(a){return!(!a||!a[tc])}function Eb(a,b){return a.__ownerID?(a.size=b.size,a._map=b,a):b===a._map?a:0===b.size?a.__empty():a.__make(b)}function uc(a,b){var d=Object.create(Z);d.size=a?a.size:0;d._map=a;d.__ownerID=b;return d}function Cb(){return vc||(vc=uc(ha()))}function la(a){return null===a||void 0===a?Fb():wc(a)?a:Fb().withMutations(function(b){var d=e(a);
X(d.size);d.forEach(function(a){return b.add(a)})})}function wc(a){return Db(a)&&q(a)}function xc(a,b){var d=Object.create(Ya);d.size=a?a.size:0;d._map=a;d.__ownerID=b;return d}function Fb(){return yc||(yc=xc(Va()))}function O(a){return null===a||void 0===a?Ca||(Ca=ta(0)):zc(a)?a:(Ca||(Ca=ta(0))).unshiftAll(a)}function zc(a){return!(!a||!a[Ac])}function ta(a,b,d,c){var e=Object.create(Da);e.size=a;e._head=b;e.__ownerID=d;e.__hash=c;e.__altered=!1;return e}function ma(a,b){var d=function(d){a.prototype[d]=
b[d]};Object.keys(b).forEach(d);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(d);return a}function Rc(a,b){return b}function Sc(a,b){return[b,a]}function Za(a){return function(){return!a.apply(this,arguments)}}function Bc(a){return function(){return-a.apply(this,arguments)}}function Cc(a){return"string"===typeof a?JSON.stringify(a):a}function Tc(){return t(arguments)}function Dc(a,b){return a<b?1:a>b?-1:0}function Uc(a){if(Infinity===a.size)return 0;var b=q(a),d=n(a),c=b?1:
0;a=a.__iterate(d?b?function(a,b){c=31*c+Ec(W(a),W(b))|0}:function(a,b){c=c+Ec(W(a),W(b))|0}:b?function(a){c=31*c+W(a)|0}:function(a){c=c+W(a)|0});return Vc(a,c)}function Vc(a,b){b=Oa(b,3432918353);b=Oa(b<<15|b>>>-15,461845907);b=Oa(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Oa(b^b>>>16,2246822507);b=Oa(b^b>>>13,3266489909);return(b^b>>>16)>>>1&1073741824|(b^b>>>16)&3221225471}function Ec(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var fa=Array.prototype.slice;a(f,c);a(b,c);a(e,c);c.isIterable=d;c.isKeyed=
n;c.isIndexed=m;c.isAssociative=g;c.isOrdered=q;c.Keyed=f;c.Indexed=b;c.Set=e;var Hb="@@__IMMUTABLE_ITERABLE__@@",Ib="@@__IMMUTABLE_KEYED__@@",Jb="@@__IMMUTABLE_INDEXED__@@",ua="@@__IMMUTABLE_ORDERED__@@",F=5,ca=1<<F,U=ca-1,C={},Ic={value:!1},Wb={value:!1},Na=0,ea=1,ka=2,bb="function"===typeof Symbol&&Symbol.iterator,Lb="@@iterator",Gb=bb||Lb;z.prototype.toString=function(){return"[Iterator]"};z.KEYS=Na;z.VALUES=ea;z.ENTRIES=ka;z.prototype.inspect=z.prototype.toSource=function(){return this.toString()};
z.prototype[Gb]=function(){return this};a(L,c);L.of=function(){return L(arguments)};L.prototype.toSeq=function(){return this};L.prototype.toString=function(){return this.__toString("Seq {","}")};L.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};L.prototype.__iterate=function(a,b){return Qb(this,a,b,!0)};L.prototype.__iterator=function(a,b){return Rb(this,a,b,!0)};a(T,L);T.prototype.toKeyedSeq=
function(){return this};a(J,L);J.of=function(){return J(arguments)};J.prototype.toIndexedSeq=function(){return this};J.prototype.toString=function(){return this.__toString("Seq [","]")};J.prototype.__iterate=function(a,b){return Qb(this,a,b,!1)};J.prototype.__iterator=function(a,b){return Rb(this,a,b,!1)};a(ba,L);ba.of=function(){return ba(arguments)};ba.prototype.toSetSeq=function(){return this};L.isSeq=db;L.Keyed=T;L.Set=ba;L.Indexed=J;var Ob="@@__IMMUTABLE_SEQ__@@";L.prototype[Ob]=!0;a(ga,J);ga.prototype.get=
function(a,b){return this.has(a)?this._array[v(this,a)]:b};ga.prototype.__iterate=function(a,b){for(var d=this._array,c=d.length-1,e=0;e<=c;e++)if(!1===a(d[b?c-e:e],e,this))return e+1;return e};ga.prototype.__iterator=function(a,b){var d=this._array,c=d.length-1,e=0;return new z(function(){return e>c?x():A(a,e,d[b?c-e++:e++])})};a(na,T);na.prototype.get=function(a,b){return void 0!==b&&!this.has(a)?b:this._object[a]};na.prototype.has=function(a){return this._object.hasOwnProperty(a)};na.prototype.__iterate=
function(a,b){for(var d=this._object,c=this._keys,e=c.length-1,f=0;f<=e;f++){var h=c[b?e-f:f];if(!1===a(d[h],h,this))return f+1}return f};na.prototype.__iterator=function(a,b){var d=this._object,c=this._keys,e=c.length-1,f=0;return new z(function(){var h=c[b?e-f:f];return f++>e?x():A(a,h,d[h])})};na.prototype[ua]=!0;a(Fa,J);Fa.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);var d=aa(this._iterable),c=0;if($(d))for(var e;!(e=d.next()).done&&!1!==a(e.value,c++,
this););return c};Fa.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var d=aa(this._iterable);if(!$(d))return new z(x);var c=0;return new z(function(){var b=d.next();return b.done?b:A(a,c++,b.value)})};a(Ga,J);Ga.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);for(var d=this._iterator,c=this._iteratorCache,e=0;e<c.length;)if(!1===a(c[e],e++,this))return e;for(var f;!(f=d.next()).done&&!(f=f.value,c[e]=f,!1===a(f,e++,
this)););return e};Ga.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var d=this._iterator,c=this._iteratorCache,e=0;return new z(function(){if(e>=c.length){var b=d.next();if(b.done)return b;c[e]=b.value}return A(a,e,c[e++])})};var Pb;a(Q,J);Q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Q.prototype.get=function(a,b){return this.has(a)?this._value:b};Q.prototype.includes=function(a){return M(this._value,
a)};Q.prototype.slice=function(a,b){var d=this.size;return I(a,b,d)?this:new Q(this._value,K(b,d,d)-K(a,d,0))};Q.prototype.reverse=function(){return this};Q.prototype.indexOf=function(a){return M(this._value,a)?0:-1};Q.prototype.lastIndexOf=function(a){return M(this._value,a)?this.size:-1};Q.prototype.__iterate=function(a,b){for(var d=0;d<this.size;d++)if(!1===a(this._value,d,this))return d+1;return d};Q.prototype.__iterator=function(a,b){var d=this,c=0;return new z(function(){return c<d.size?A(a,
c++,d._value):x()})};Q.prototype.equals=function(a){return a instanceof Q?M(this._value,a._value):hb(a)};var ib;a(R,J);R.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1<this._step?" by "+this._step:"")+" ]"};R.prototype.get=function(a,b){return this.has(a)?this._start+v(this,a)*this._step:b};R.prototype.includes=function(a){a=(a-this._start)/this._step;return 0<=a&&a<this.size&&a===Math.floor(a)};R.prototype.slice=function(a,b){if(I(a,b,this.size))return this;
a=K(a,this.size,0);b=K(b,this.size,this.size);return b<=a?new R(0,0):new R(this.get(a,this._end),this.get(b,this._end),this._step)};R.prototype.indexOf=function(a){a-=this._start;return 0===a%this._step&&(a/=this._step,0<=a&&a<this.size)?a:-1};R.prototype.lastIndexOf=function(a){return this.indexOf(a)};R.prototype.__iterate=function(a,b){for(var d=this.size-1,c=this._step,e=b?this._start+d*c:this._start,f=0;f<=d;f++){if(!1===a(e,f,this))return f+1;e+=b?-c:c}return f};R.prototype.__iterator=function(a,
b){var d=this.size-1,c=this._step,e=b?this._start+d*c:this._start,f=0;return new z(function(){var h=e;e+=b?-c:c;return f>d?x():A(a,f++,h)})};R.prototype.equals=function(a){return a instanceof R?this._start===a._start&&this._end===a._end&&this._step===a._step:hb(this,a)};var jb;a(oa,c);a(Ha,oa);a(va,oa);a(Ra,oa);oa.Keyed=Ha;oa.Indexed=va;oa.Set=Ra;var Oa="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(a,b){a|=0;b|=0;var d=a&65535,c=b&65535;return d*c+((a>>>16)*c+d*(b>>>
16)<<16>>>0)|0},Sb=Object.isExtensible,Sa;try{Object.defineProperty({},"@",{}),Sa=!0}catch(Zc){Sa=!1}var nb="function"===typeof WeakMap,ob;nb&&(ob=new WeakMap);var pb=0,ra="__immutablehash__";"function"===typeof Symbol&&(ra=Symbol(ra));var Fc=16,Gc=255,mb=0,kb={};a(D,Ha);D.prototype.toString=function(){return this.__toString("Map {","}")};D.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};D.prototype.set=function(a,b){return Vb(this,a,b)};D.prototype.setIn=function(a,
b){return this.updateIn(a,C,function(){return b})};D.prototype.remove=function(a){return Vb(this,a,C)};D.prototype.deleteIn=function(a){return this.updateIn(a,function(){return C})};D.prototype.update=function(a,b,d){return 1===arguments.length?a(this):this.updateIn([a],b,d)};D.prototype.updateIn=function(a,b,d){d||(d=b,b=void 0);a=$b(this,sc(a),b,d);return a===C?void 0:a};D.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=
!0,this):ha()};D.prototype.merge=function(){return Ta(this,void 0,arguments)};D.prototype.mergeWith=function(a){var b=fa.call(arguments,1);return Ta(this,a,b)};D.prototype.mergeIn=function(a){var b=fa.call(arguments,1);return this.updateIn(a,ha(),function(a){return"function"===typeof a.merge?a.merge.apply(a,b):b[b.length-1]})};D.prototype.mergeDeep=function(){return Ta(this,Yb,arguments)};D.prototype.mergeDeepWith=function(a){var b=fa.call(arguments,1);return Ta(this,Zb(a),b)};D.prototype.mergeDeepIn=
function(a){var b=fa.call(arguments,1);return this.updateIn(a,ha(),function(a){return"function"===typeof a.mergeDeep?a.mergeDeep.apply(a,b):b[b.length-1]})};D.prototype.sort=function(a){return N(Ba(this,a))};D.prototype.sortBy=function(a,b){return N(Ba(this,b,a))};D.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};D.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new w)};D.prototype.asImmutable=
function(){return this.__ensureOwner()};D.prototype.wasAltered=function(){return this.__altered};D.prototype.__iterator=function(a,b){return new rb(this,a,b)};D.prototype.__iterate=function(a,b){var d=this,c=0;this._root&&this._root.iterate(function(b){c++;return a(b[1],b[0],d)},b);return c};D.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:!a?(this.__ownerID=a,this.__altered=!1,this):sb(this.size,this._root,a,this.__hash)};D.isMap=qb;var Tb="@@__IMMUTABLE_MAP__@@",B=D.prototype;
B[Tb]=!0;B["delete"]=B.remove;B.removeIn=B.deleteIn;Ia.prototype.get=function(a,b,d,c){a=this.entries;b=0;for(var e=a.length;b<e;b++)if(M(d,a[b][0]))return a[b][1];return c};Ia.prototype.update=function(a,b,d,c,e,f,h){d=e===C;b=this.entries;for(var n=0,m=b.length;n<m&&!M(c,b[n][0]);n++);var l=n<m;if(l?b[n][1]===e:d)return this;s(h);(d||!l)&&s(f);if(!(d&&1===b.length)){if(!l&&!d&&b.length>=Wc){a||(a=new w);c=new ia(a,W(c),[c,e]);for(e=0;e<b.length;e++)f=b[e],c=c.update(a,0,void 0,f[0],f[1]);return c}b=
(f=a&&a===this.ownerID)?b:t(b);l?d?n===m-1?b.pop():b[n]=b.pop():b[n]=[c,e]:b.push([c,e]);return f?(this.entries=b,this):new Ia(a,b)}};wa.prototype.get=function(a,b,d,c){void 0===b&&(b=W(d));var e=1<<((0===a?b:b>>>a)&U),f=this.bitmap;return 0===(f&e)?c:this.nodes[ac(f&e-1)].get(a+F,b,d,c)};wa.prototype.update=function(a,b,d,c,e,f,h){void 0===d&&(d=W(c));var n=(0===b?d:d>>>b)&U,m=1<<n,l=this.bitmap,g=0!==(l&m);if(!g&&e===C)return this;var k=ac(l&m-1),p=this.nodes,q=g?p[k]:void 0;b=tb(q,a,b+F,d,c,e,
f,h);if(b===q)return this;if(!g&&b&&p.length>=Xc){k=l;m=0;g=Array(ca);for(l=0;0!==k;l++,k>>>=1)g[l]=k&1?p[m++]:void 0;g[n]=b;return new Ja(a,m+1,g)}if(g&&!b&&2===p.length&&(p[k^1].constructor===ia||p[k^1].constructor===sa))return p[k^1];if(g&&b&&1===p.length&&(b.constructor===ia||b.constructor===sa))return b;n=a&&a===this.ownerID;m=g?b?l:l^m:l|m;if(g)if(b)p=n?p:t(p),p[k]=b;else if(b=p.length-1,n&&k===b)p.pop();else{g=Array(b);for(q=l=0;q<b;q++)q===k&&(l=1),g[q]=p[q+l];p=g}else if(g=p.length+1,n&&
k+1===g)p[k]=b;else{l=Array(g);for(d=q=0;d<g;d++)d===k?(l[d]=b,q=-1):l[d]=p[d+q];p=l}return n?(this.bitmap=m,this.nodes=p,this):new wa(a,m,p)};Ja.prototype.get=function(a,b,d,c){void 0===b&&(b=W(d));var e=this.nodes[(0===a?b:b>>>a)&U];return e?e.get(a+F,b,d,c):c};Ja.prototype.update=function(a,b,d,c,e,f,h){void 0===d&&(d=W(c));var n=(0===b?d:d>>>b)&U,m=this.nodes,l=m[n];if(e===C&&!l)return this;b=tb(l,a,b+F,d,c,e,f,h);if(b===l)return this;d=this.count;if(l){if(!b&&(d--,d<Yc)){b=l=0;d=Array(d);c=0;
e=1;for(f=m.length;c<f;c++,e<<=1)h=m[c],void 0!==h&&c!==n&&(l|=e,d[b++]=h);return new wa(a,l,d)}}else d++;m=(l=a&&a===this.ownerID)?m:t(m);m[n]=b;return l?(this.count=d,this.nodes=m,this):new Ja(a,d,m)};sa.prototype.get=function(a,b,d,c){a=this.entries;b=0;for(var e=a.length;b<e;b++)if(M(d,a[b][0]))return a[b][1];return c};sa.prototype.update=function(a,b,d,c,e,f,h){void 0===d&&(d=W(c));var n=e===C;if(d!==this.keyHash){if(n)return this;s(h);s(f);return ub(this,a,b,d,[c,e])}var m=this.entries;b=0;
for(d=m.length;b<d&&!M(c,m[b][0]);b++);var l=b<d;if(l?m[b][1]===e:n)return this;s(h);(n||!l)&&s(f);if(n&&2===d)return new ia(a,this.keyHash,m[b^1]);h=(f=a&&a===this.ownerID)?m:t(m);l?n?b===d-1?h.pop():h[b]=h.pop():h[b]=[c,e]:h.push([c,e]);return f?(this.entries=h,this):new sa(a,this.keyHash,h)};ia.prototype.get=function(a,b,d,c){return M(d,this.entry[0])?this.entry[1]:c};ia.prototype.update=function(a,b,d,c,e,f,h){d=e===C;var n=M(c,this.entry[0]);if(n?e===this.entry[1]:d)return this;s(h);if(d)s(f);
else{if(n)return a&&a===this.ownerID?(this.entry[1]=e,this):new ia(a,this.keyHash,[c,e]);s(f);return ub(this,a,b,W(c),[c,e])}};Ia.prototype.iterate=sa.prototype.iterate=function(a,b){for(var d=this.entries,c=0,e=d.length-1;c<=e;c++)if(!1===a(d[b?e-c:c]))return!1};wa.prototype.iterate=Ja.prototype.iterate=function(a,b){for(var d=this.nodes,c=0,e=d.length-1;c<=e;c++){var f=d[b?e-c:c];if(f&&!1===f.iterate(a,b))return!1}};ia.prototype.iterate=function(a,b){return a(this.entry)};a(rb,z);rb.prototype.next=
function(){for(var a=this._type,b=this._stack;b;){var d=b.node,c=b.index++,e;if(d.entry){if(0===c)return A(a,d.entry[0],d.entry[1])}else if(d.entries){if(e=d.entries.length-1,c<=e)return A(a,d.entries[this._reverse?e-c:c][0],d.entries[this._reverse?e-c:c][1])}else if(e=d.nodes.length-1,c<=e){if(d=d.nodes[this._reverse?e-c:c]){if(d.entry)return A(a,d.entry[0],d.entry[1]);b=this._stack={node:d,index:0,__prev:b}}continue}b=this._stack=this._stack.__prev}return x()};var Ub,Wc=ca/4,Xc=ca/2,Yc=ca/4;a(G,
va);G.of=function(){return this(arguments)};G.prototype.toString=function(){return this.__toString("List [","]")};G.prototype.get=function(a,b){a=v(this,a);if(0<=a&&a<this.size){a+=this._origin;var d=fc(this,a);return d&&d.array[a&U]}return b};G.prototype.set=function(a,b){return Jc(this,a,b)};G.prototype.remove=function(a){return!this.has(a)?this:0===a?this.shift():a===this.size-1?this.pop():this.splice(a,1)};G.prototype.insert=function(a,b){return this.splice(a,0,b)};G.prototype.clear=function(){return 0===
this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=F,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):vb()};G.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(d){qa(d,0,b+a.length);for(var c=0;c<a.length;c++)d.set(b+c,a[c])})};G.prototype.pop=function(){return qa(this,0,-1)};G.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){qa(b,-a.length);for(var d=0;d<a.length;d++)b.set(d,
a[d])})};G.prototype.shift=function(){return qa(this,1)};G.prototype.merge=function(){return Ua(this,void 0,arguments)};G.prototype.mergeWith=function(a){var b=fa.call(arguments,1);return Ua(this,a,b)};G.prototype.mergeDeep=function(){return Ua(this,Yb,arguments)};G.prototype.mergeDeepWith=function(a){var b=fa.call(arguments,1);return Ua(this,Zb(a),b)};G.prototype.setSize=function(a){return qa(this,0,a)};G.prototype.slice=function(a,b){var d=this.size;return I(a,b,d)?this:qa(this,K(a,d,0),K(b,d,d))};
G.prototype.__iterator=function(a,b){var d=0,c=dc(this,b);return new z(function(){var b=c();return b===La?x():A(a,d++,b)})};G.prototype.__iterate=function(a,b){for(var d=0,c=dc(this,b),e;(e=c())!==La&&!1!==a(e,d++,this););return d};G.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:!a?(this.__ownerID=a,this):Ka(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};G.isList=bc;var cc="@@__IMMUTABLE_LIST__@@",V=G.prototype;V[cc]=!0;V["delete"]=V.remove;V.setIn=
B.setIn;V.deleteIn=V.removeIn=B.removeIn;V.update=B.update;V.updateIn=B.updateIn;V.mergeIn=B.mergeIn;V.mergeDeepIn=B.mergeDeepIn;V.withMutations=B.withMutations;V.asMutable=B.asMutable;V.asImmutable=B.asImmutable;V.wasAltered=B.wasAltered;pa.prototype.removeBefore=function(a,b,d){if(d===b?1<<b:0===this.array.length)return this;var c=d>>>b&U;if(c>=this.array.length)return new pa([],a);var e=0===c,f;if(0<b){var h=this.array[c];f=h&&h.removeBefore(a,b-F,d);if(f===h&&e)return this}if(e&&!f)return this;
a=xa(this,a);if(!e)for(e=0;e<c;e++)a.array[e]=void 0;f&&(a.array[c]=f);return a};pa.prototype.removeAfter=function(a,b,d){if(d===(b?1<<b:0)||0===this.array.length)return this;var c=d-1>>>b&U;if(c>=this.array.length)return this;var e;if(0<b){var f=this.array[c];e=f&&f.removeAfter(a,b-F,d);if(e===f&&c===this.array.length-1)return this}a=xa(this,a);a.array.splice(c+1);e&&(a.array[c]=e);return a};var La={},ec;a(N,D);N.of=function(){return this(arguments)};N.prototype.toString=function(){return this.__toString("OrderedMap {",
"}")};N.prototype.get=function(a,b){var d=this._map.get(a);return void 0!==d?this._list.get(d)[1]:b};N.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Va()};N.prototype.set=function(a,b){return ic(this,a,b)};N.prototype.remove=function(a){return ic(this,a,C)};N.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};N.prototype.__iterate=function(a,b){var d=this;return this._list.__iterate(function(b){return b&&
a(b[1],b[0],d)},b)};N.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};N.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),d=this._list.__ensureOwner(a);return!a?(this.__ownerID=a,this._map=b,this._list=d,this):xb(b,d,a,this.__hash)};N.isOrderedMap=gc;N.prototype[ua]=!0;N.prototype["delete"]=N.prototype.remove;var hc;a(da,T);da.prototype.get=function(a,b){return this._iter.get(a,b)};da.prototype.has=function(a){return this._iter.has(a)};
da.prototype.valueSeq=function(){return this._iter.valueSeq()};da.prototype.reverse=function(){var a=this,b=zb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};da.prototype.map=function(a,b){var d=this,c=kc(this,a,b);this._useKeys||(c.valueSeq=function(){return d._iter.toSeq().map(a,b)});return c};da.prototype.__iterate=function(a,b){var d=this,c;return this._iter.__iterate(this._useKeys?function(b,c){return a(b,c,d)}:(c=b?rc(this):0,function(e){return a(e,
b?--c:c++,d)}),b)};da.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var d=this._iter.__iterator(ea,b),c=b?rc(this):0;return new z(function(){var e=d.next();return e.done?e:A(a,b?--c:c++,e.value,e)})};da.prototype[ua]=!0;a(ya,J);ya.prototype.includes=function(a){return this._iter.includes(a)};ya.prototype.__iterate=function(a,b){var d=this,c=0;return this._iter.__iterate(function(b){return a(b,c++,d)},b)};ya.prototype.__iterator=function(a,b){var d=this._iter.__iterator(ea,
b),c=0;return new z(function(){var b=d.next();return b.done?b:A(a,c++,b.value,b)})};a(za,ba);za.prototype.has=function(a){return this._iter.includes(a)};za.prototype.__iterate=function(a,b){var d=this;return this._iter.__iterate(function(b){return a(b,b,d)},b)};za.prototype.__iterator=function(a,b){var d=this._iter.__iterator(ea,b);return new z(function(){var b=d.next();return b.done?b:A(a,b.value,b.value,b)})};a(Aa,T);Aa.prototype.entrySeq=function(){return this._iter.toSeq()};Aa.prototype.__iterate=
function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){qc(b);var e=d(b);return a(e?b.get(1):b[1],e?b.get(0):b[0],c)}},b)};Aa.prototype.__iterator=function(a,b){var c=this._iter.__iterator(ea,b);return new z(function(){for(;;){var b=c.next();if(b.done)return b;var e=b.value;if(e){qc(e);var f=d(e);return A(a,f?e.get(0):e[0],f?e.get(1):e[1],b)}}})};ya.prototype.cacheResult=da.prototype.cacheResult=za.prototype.cacheResult=Aa.prototype.cacheResult=yb;a(Y,Ha);Y.prototype.toString=function(){return this.__toString((this._name||
this.constructor.name||"Record")+" {","}")};Y.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};Y.prototype.get=function(a,b){if(!this.has(a))return b;var d=this._defaultValues[a];return this._map?this._map.get(a,d):d};Y.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var a=this.constructor;return a._empty||(a._empty=Xa(this,ha()))};Y.prototype.set=function(a,b){if(!this.has(a))throw Error('Cannot set unknown key "'+a+'" on '+(this._name||
this.constructor.name||"Record"));var d=this._map&&this._map.set(a,b);return this.__ownerID||d===this._map?this:Xa(this,d)};Y.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Xa(this,a)};Y.prototype.wasAltered=function(){return this._map.wasAltered()};Y.prototype.__iterator=function(a,b){var d=this;return f(this._defaultValues).map(function(a,b){return d.get(b)}).__iterator(a,b)};Y.prototype.__iterate=function(a,b){var d=
this;return f(this._defaultValues).map(function(a,b){return d.get(b)}).__iterate(a,b)};Y.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);return!a?(this.__ownerID=a,this._map=b,this):Xa(this,b,a)};var P=Y.prototype;P["delete"]=P.remove;P.deleteIn=P.removeIn=B.removeIn;P.merge=B.merge;P.mergeWith=B.mergeWith;P.mergeIn=B.mergeIn;P.mergeDeep=B.mergeDeep;P.mergeDeepWith=B.mergeDeepWith;P.mergeDeepIn=B.mergeDeepIn;P.setIn=B.setIn;P.update=
B.update;P.updateIn=B.updateIn;P.withMutations=B.withMutations;P.asMutable=B.asMutable;P.asImmutable=B.asImmutable;a(H,Ra);H.of=function(){return this(arguments)};H.fromKeys=function(a){return this(f(a).keySeq())};H.prototype.toString=function(){return this.__toString("Set {","}")};H.prototype.has=function(a){return this._map.has(a)};H.prototype.add=function(a){return Eb(this,this._map.set(a,!0))};H.prototype.remove=function(a){return Eb(this,this._map.remove(a))};H.prototype.clear=function(){return Eb(this,
this._map.clear())};H.prototype.union=function(){var a=fa.call(arguments,0),a=a.filter(function(a){return 0!==a.size});return 0===a.length?this:0===this.size&&!this.__ownerID&&1===a.length?this.constructor(a[0]):this.withMutations(function(b){for(var d=0;d<a.length;d++)e(a[d]).forEach(function(a){return b.add(a)})})};H.prototype.intersect=function(){var a=fa.call(arguments,0);if(0===a.length)return this;var a=a.map(function(a){return e(a)}),b=this;return this.withMutations(function(d){b.forEach(function(b){a.every(function(a){return a.includes(b)})||
d.remove(b)})})};H.prototype.subtract=function(){var a=fa.call(arguments,0);if(0===a.length)return this;var a=a.map(function(a){return e(a)}),b=this;return this.withMutations(function(d){b.forEach(function(b){a.some(function(a){return a.includes(b)})&&d.remove(b)})})};H.prototype.merge=function(){return this.union.apply(this,arguments)};H.prototype.mergeWith=function(a){var b=fa.call(arguments,1);return this.union.apply(this,b)};H.prototype.sort=function(a){return la(Ba(this,a))};H.prototype.sortBy=
function(a,b){return la(Ba(this,b,a))};H.prototype.wasAltered=function(){return this._map.wasAltered()};H.prototype.__iterate=function(a,b){var d=this;return this._map.__iterate(function(b,c){return a(c,c,d)},b)};H.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};H.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);return!a?(this.__ownerID=a,this._map=b,this):this.__make(b,a)};H.isSet=Db;var tc="@@__IMMUTABLE_SET__@@",
Z=H.prototype;Z[tc]=!0;Z["delete"]=Z.remove;Z.mergeDeep=Z.merge;Z.mergeDeepWith=Z.mergeWith;Z.withMutations=B.withMutations;Z.asMutable=B.asMutable;Z.asImmutable=B.asImmutable;Z.__empty=Cb;Z.__make=uc;var vc;a(la,H);la.of=function(){return this(arguments)};la.fromKeys=function(a){return this(f(a).keySeq())};la.prototype.toString=function(){return this.__toString("OrderedSet {","}")};la.isOrderedSet=wc;var Ya=la.prototype;Ya[ua]=!0;Ya.__empty=Fb;Ya.__make=xc;var yc;a(O,va);O.of=function(){return this(arguments)};
O.prototype.toString=function(){return this.__toString("Stack [","]")};O.prototype.get=function(a,b){var d=this._head;for(a=v(this,a);d&&a--;)d=d.next;return d?d.value:b};O.prototype.peek=function(){return this._head&&this._head.value};O.prototype.push=function(){if(0===arguments.length)return this;for(var a=this.size+arguments.length,b=this._head,d=arguments.length-1;0<=d;d--)b={value:arguments[d],next:b};return this.__ownerID?(this.size=a,this._head=b,this.__hash=void 0,this.__altered=!0,this):
ta(a,b)};O.prototype.pushAll=function(a){a=b(a);if(0===a.size)return this;X(a.size);var d=this.size,c=this._head;a.reverse().forEach(function(a){d++;c={value:a,next:c}});return this.__ownerID?(this.size=d,this._head=c,this.__hash=void 0,this.__altered=!0,this):ta(d,c)};O.prototype.pop=function(){return this.slice(1)};O.prototype.unshift=function(){return this.push.apply(this,arguments)};O.prototype.unshiftAll=function(a){return this.pushAll(a)};O.prototype.shift=function(){return this.pop.apply(this,
arguments)};O.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this.__hash=this._head=void 0,this.__altered=!0,this):Ca||(Ca=ta(0))};O.prototype.slice=function(a,b){if(I(a,b,this.size))return this;var d=K(a,this.size,0);if(K(b,this.size,this.size)!==this.size)return va.prototype.slice.call(this,a,b);for(var c=this.size-d,e=this._head;d--;)e=e.next;return this.__ownerID?(this.size=c,this._head=e,this.__hash=void 0,this.__altered=!0,this):ta(c,e)};O.prototype.__ensureOwner=
function(a){return a===this.__ownerID?this:!a?(this.__ownerID=a,this.__altered=!1,this):ta(this.size,this._head,a,this.__hash)};O.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);for(var d=0,c=this._head;c&&!1!==a(c.value,d++,this);)c=c.next;return d};O.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var d=0,c=this._head;return new z(function(){if(c){var b=c.value;c=c.next;return A(a,d++,b)}return x()})};O.isStack=zc;var Ac="@@__IMMUTABLE_STACK__@@",
Da=O.prototype;Da[Ac]=!0;Da.withMutations=B.withMutations;Da.asMutable=B.asMutable;Da.asImmutable=B.asImmutable;Da.wasAltered=B.wasAltered;var Ca;c.Iterator=z;ma(c,{toArray:function(){X(this.size);var a=Array(this.size||0);this.valueSeq().__iterate(function(b,d){a[d]=b});return a},toIndexedSeq:function(){return new ya(this)},toJS:function(){return this.toSeq().map(function(a){return a&&"function"===typeof a.toJS?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&
"function"===typeof a.toJSON?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new da(this,!0)},toMap:function(){return D(this.toKeyedSeq())},toObject:function(){X(this.size);var a={};this.__iterate(function(b,d){a[d]=b});return a},toOrderedMap:function(){return N(this.toKeyedSeq())},toOrderedSet:function(){return la(n(this)?this.valueSeq():this)},toSet:function(){return H(n(this)?this.valueSeq():this)},toSetSeq:function(){return new za(this)},toSeq:function(){return m(this)?this.toIndexedSeq():
n(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return O(n(this)?this.valueSeq():this)},toList:function(){return G(n(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return 0===this.size?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var a=fa.call(arguments,0);return E(this,Nc(this,a))},includes:function(a){return this.some(function(b){return M(b,a)})},entries:function(){return this.__iterator(ka)},every:function(a,
b){X(this.size);var d=!0;this.__iterate(function(c,e,f){if(!a.call(b,c,e,f))return d=!1});return d},filter:function(a,b){return E(this,lc(this,a,b,!0))},find:function(a,b,d){return(a=this.findEntry(a,b))?a[1]:d},findEntry:function(a,b){var d;this.__iterate(function(c,e,f){if(a.call(b,c,e,f))return d=[e,c],!1});return d},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){X(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){X(this.size);a=
void 0!==a?""+a:",";var b="",d=!0;this.__iterate(function(c){d?d=!1:b+=a;b+=null!==c&&void 0!==c?c.toString():""});return b},keys:function(){return this.__iterator(Na)},map:function(a,b){return E(this,kc(this,a,b))},reduce:function(a,b,d){X(this.size);var c,e;2>arguments.length?e=!0:c=b;this.__iterate(function(b,f,h){e?(e=!1,c=b):c=a.call(d,c,b,f,h)});return c},reduceRight:function(a,b,d){var c=this.toKeyedSeq().reverse();return c.reduce.apply(c,arguments)},reverse:function(){return E(this,zb(this,
!0))},slice:function(a,b){return E(this,Ab(this,a,b,!0))},some:function(a,b){return!this.every(Za(a),b)},sort:function(a){return E(this,Ba(this,a))},values:function(){return this.__iterator(ea)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(a,b){return r(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return Kc(this,a,b)},equals:function(a){return hb(this,a)},entrySeq:function(){var a=
this;if(a._cache)return new ga(a._cache);var b=a.toSeq().map(Sc).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(Za(a),b)},findLast:function(a,b,d){return this.toKeyedSeq().reverse().find(a,b,d)},first:function(){return this.find(y)},flatMap:function(a,b){return E(this,Oc(this,a,b))},flatten:function(a){return E(this,nc(this,a,!0))},fromEntrySeq:function(){return new Aa(this)},get:function(a,b){return this.find(function(b,d){return M(d,
a)},void 0,b)},getIn:function(a,b){for(var d=this,c=sc(a),e;!(e=c.next()).done;)if(e=e.value,d=d&&d.get?d.get(e,C):C,d===C)return b;return d},groupBy:function(a,b){return Lc(this,a,b)},has:function(a){return this.get(a,C)!==C},hasIn:function(a){return this.getIn(a,C)!==C},isSubset:function(a){a="function"===typeof a.includes?a:c(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){a="function"===typeof a.isSubset?a:c(a);return a.isSubset(this)},keySeq:function(){return this.toSeq().map(Rc).toIndexedSeq()},
last:function(){return this.toSeq().reverse().first()},max:function(a){return Wa(this,a)},maxBy:function(a,b){return Wa(this,b,a)},min:function(a){return Wa(this,a?Bc(a):Dc)},minBy:function(a,b){return Wa(this,b?Bc(b):Dc,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return E(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return E(this,mc(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(Za(a),b)},
sortBy:function(a,b){return E(this,Ba(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return E(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return E(this,Mc(this,a,b))},takeUntil:function(a,b){return this.takeWhile(Za(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Uc(this))}});var S=c.prototype;S[Hb]=!0;S[Gb]=S.values;S.__toJS=S.toArray;S.__toStringMapper=Cc;S.inspect=S.toSource=
function(){return this.toString()};S.chain=S.flatMap;S.contains=S.includes;(function(){try{Object.defineProperty(S,"length",{get:function(){if(!c.noLengthWarning){var a;try{throw Error();}catch(b){a=b.stack}if(-1===a.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+a),this.size}}})}catch(a){}})();ma(f,{flip:function(){return E(this,jc(this))},
findKey:function(a,b){var d=this.findEntry(a,b);return d&&d[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return M(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return M(b,a)})},mapEntries:function(a,b){var d=this,c=0;return E(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],c++,d)}).fromEntrySeq())},mapKeys:function(a,b){var d=this;return E(this,this.toSeq().flip().map(function(c,e){return a.call(b,
c,e,d)}).flip())}});var $a=f.prototype;$a[Ib]=!0;$a[Gb]=S.entries;$a.__toJS=S.toObject;$a.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+Cc(a)};ma(b,{toKeyedSeq:function(){return new da(this,!1)},filter:function(a,b){return E(this,lc(this,a,b,!1))},findIndex:function(a,b){var d=this.findEntry(a,b);return d?d[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return void 0===a?-1:a},lastIndexOf:function(a){a=this.toKeyedSeq().reverse().keyOf(a);return void 0===a?-1:a},reverse:function(){return E(this,
zb(this,!1))},slice:function(a,b){return E(this,Ab(this,a,b,!1))},splice:function(a,b){var d=arguments.length;b=Math.max(b|0,0);if(0===d||2===d&&!b)return this;var c=0>a?this.count():this.size;a=K(a,c,0);c=this.slice(0,a);return E(this,1===d?c:c.concat(t(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){var d=this.toKeyedSeq().findLastKey(a,b);return void 0===d?-1:d},first:function(){return this.get(0)},flatten:function(a){return E(this,nc(this,a,!1))},get:function(a,b){a=v(this,a);return 0>
a||Infinity===this.size||void 0!==this.size&&a>this.size?b:this.find(function(b,d){return d===a},void 0,b)},has:function(a){a=v(this,a);return 0<=a&&(void 0!==this.size?Infinity===this.size||a<this.size:-1!==this.indexOf(a))},interpose:function(a){return E(this,Pc(this,a))},interleave:function(){var a=[this].concat(t(arguments)),b=Bb(this.toSeq(),J.of,a),d=b.flatten(!0);b.size&&(d.size=b.size*a.length);return E(this,d)},last:function(){return this.get(-1)},skipWhile:function(a,b){return E(this,mc(this,
a,b,!1))},zip:function(){var a=[this].concat(t(arguments));return E(this,Bb(this,Tc,a))},zipWith:function(a){var b=t(arguments);b[0]=this;return E(this,Bb(this,a,b))}});b.prototype[Jb]=!0;b.prototype[ua]=!0;ma(e,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});e.prototype.has=S.includes;ma(T,f.prototype);ma(J,b.prototype);ma(ba,e.prototype);ma(Ha,f.prototype);ma(va,b.prototype);ma(Ra,e.prototype);return{Iterable:c,Seq:L,
Collection:oa,Map:D,OrderedMap:N,List:G,Stack:O,Set:H,OrderedSet:la,Record:Y,Range:R,Repeat:Q,is:M,fromJS:eb}})},41:function(g,c,a){g.exports={"default":a(433),__esModule:!0}},430:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(26);var l=k(c);c=a(1);var f=k(c);c=a(2);var b=k(c);c=a(9);var e=a(617);a=function(){function a(){(0,f.default)(this,a);this.generateActions("insert","insertMany")}(0,b.default)(a,[{key:"read",value:function(a){var b=this,d=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:!1,c=arguments[2];return function(f){f(a);return e.read(a,d,c).then(function(a){return b.insert(a.data)}).catch(function(a){a=a.data;return l.default.reject(a.message||a)})}}},{key:"readForCollection",value:function(a){var b=this;return function(d){d(a);return e.readForCollection(a).then(function(a){(a=a.data)&&b.insertMany(a.results);return l.default.resolve(a)}).catch(function(a){a=a.data;return l.default.reject(a.message||a)})}}},{key:"update",value:function(a,b){var d=
this;return function(c){c(a.id);return e.update(a,b).then(function(a){a=a.data;d.insert(a);return a}).catch(function(a){a=a.data;return l.default.reject(a.message||a)})}}},{key:"updateField",value:function(a,b,d){return function(c){c({id:a,key:b,value:d});return e.updateField({itemId:a,field:b,value:d}).then(function(a){return l.default.resolve(a.data)}).catch(function(a){a=a.data;return l.default.reject(a.message||a)})}}},{key:"updateForCollection",value:function(a,b){var d=this;return e.updateForCollection(a,
b).then(function(a){return d.insert(a.data)}).catch(function(a){a=a.data;return l.default.reject(a.message||a)})}},{key:"create",value:function(a,b,d){var c=this;return e.create(a,b,d).then(function(a){a=a.data;c.insert(a);return a}).catch(function(a){a=a.data;return l.default.reject(a.message||a)})}},{key:"createForCollection",value:function(a,b,d){var c=this;return function(f){f(a);return e.createForCollection(a,b,d).then(function(a){a=a.data;c.insert(a);return a}).catch(function(a){a=a.data;return l.default.reject(a.message||
a)})}}},{key:"delete",value:function(a,b){return function(d){d(a);return e.delete(a,b).catch(function(a){a=a.data;return l.default.reject(a.message||a)})}}},{key:"deleteMany",value:function(a){return function(b){b(a);return e.deleteMany(a)}}},{key:"reorderItems",value:function(a,b,d,c){return function(f){return e.reorderItems(a,b,d).then(function(b){f({collectionId:a,reorderedItems:b.data.items,allItemIds:c})}).catch(function(a){a=a.data;return l.default.reject(a&&a.message||a)})}}}]);return a}();
g.exports=c.createActions(a)},431:function(g,c,a){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b}function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(c,"__esModule",{value:!0});var b=a(446),e=a(445),d=k(e),e=a(52),n=k(e),e=a(444),m=k(e),e=a(136),p=k(e),q=(a=a(441))&&a.__esModule?a:{"default":a};a=function(){function a(){var d=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];f(this,a);this.config=d;this.serialize=d.serialize||JSON.stringify;this.deserialize=d.deserialize||JSON.parse;this.dispatcher=d.dispatcher||
new b.Dispatcher;this.batchingFunction=d.batchingFunction||function(a){return a()};this.actions={global:{}};this.stores={};this.storeTransforms=d.storeTransforms||[];this.trapAsync=!1;this._actionsRegistry={};this._initSnapshot={};this._lastSnapshot={}}a.prototype.dispatch=function(){return function(a,b,d){var c=this;this.batchingFunction(function(){var e=Math.random().toString(18).substr(2,16);return a.hasOwnProperty("type")&&a.hasOwnProperty("payload")?c.dispatcher.dispatch(p.fsa(e,a.type,a.payload,
{id:a.type,namespace:a.type,name:a.type})):a.id&&a.dispatch?p.dispatch(e,a,b,c):c.dispatcher.dispatch(p.fsa(e,a,b,d))})}}();a.prototype.createUnsavedStore=function(){return function(a){var b=a.displayName||"";m.createStoreConfig(this.config,a);for(var d=m.transformStore(this.storeTransforms,a),c=arguments.length,e=Array(1<c?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];return n.isFunction(d)?m.createStoreFromClass.apply(m,[this,d,b].concat(e)):m.createStoreFromObject(this,d,b)}}();a.prototype.createStore=
function(){return function(a,b){var c=b||a.displayName||a.name||"";m.createStoreConfig(this.config,a);var e=m.transformStore(this.storeTransforms,a);if(this.stores[c]||!c)this.stores[c]?p.warn("A store named "+String(c)+" already exists, double check your store names or pass in your own custom identifier for each store"):p.warn("Store name was not specified"),c=p.uid(this.stores,c);for(var f=arguments.length,h=Array(2<f?f-2:0),l=2;l<f;l++)h[l-2]=arguments[l];e=n.isFunction(e)?m.createStoreFromClass.apply(m,
[this,e,c].concat(h)):m.createStoreFromObject(this,e,c);this.stores[c]=e;d.saveInitialSnapshot(this,c);return e}}();a.prototype.generateActions=function(){return function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return this.createActions(b.reduce(function(a,b){a[b]=p.dispatchIdentity;return a},{name:"global"}))}}();a.prototype.createAction=function(){return function(a,b,d){return(0,q.default)(this,"global",a,b,d)}}();a.prototype.createActions=function(){return function(a){var b=
this,d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],c={},e=p.uid(this._actionsRegistry,a.displayName||a.name||"Unknown");if(n.isFunction(a)){n.assign(c,p.getPrototypeChain(a));for(var h=function(a){function b(){f(this,b);for(var d=arguments.length,c=Array(d),e=0;e<d;e++)c[e]=arguments[e];d=a.call.apply(a,[this].concat(c));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&("object"===typeof d||"function"===typeof d)?d:this}l(b,a);
b.prototype.generateActions=function(){return function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];b.forEach(function(a){c[a]=p.dispatchIdentity})}}();return b}(a),m=arguments.length,g=Array(2<m?m-2:0),k=2;k<m;k++)g[k-2]=arguments[k];n.assign(c,new (Function.prototype.bind.apply(h,[null].concat(g))))}else n.assign(c,a);this.actions[e]=this.actions[e]||{};n.eachObject(function(a,c){if(n.isFunction(c)){d[a]=(0,q.default)(b,e,a,c,d);var f=p.formatAsConstant(a);d[f]=d[a].id}else d[a]=
c},[c]);return d}}();a.prototype.takeSnapshot=function(){return function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];a=d.snapshot(this,b);n.assign(this._lastSnapshot,a);return this.serialize(a)}}();a.prototype.rollback=function(){return function(){d.setAppState(this,this.serialize(this._lastSnapshot),function(a){a.lifecycle("rollback");a.emitChange()})}}();a.prototype.recycle=function(){return function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];
a=b.length?d.filterSnapshots(this,this._initSnapshot,b):this._initSnapshot;d.setAppState(this,this.serialize(a),function(a){a.lifecycle("init");a.emitChange()})}}();a.prototype.flush=function(){return function(){var a=this.serialize(d.snapshot(this));this.recycle();return a}}();a.prototype.bootstrap=function(){return function(a){d.setAppState(this,a,function(a,b){a.lifecycle("bootstrap",b);a.emitChange()})}}();a.prototype.prepare=function(){return function(a,b){var d={};if(!a.displayName)throw new ReferenceError("Store provided does not have a name");
d[a.displayName]=b;return this.serialize(d)}}();a.prototype.addActions=function(){return function(a,b){for(var d=arguments.length,c=Array(2<d?d-2:0),e=2;e<d;e++)c[e-2]=arguments[e];this.actions[a]=Array.isArray(b)?this.generateActions.apply(this,b):this.createActions.apply(this,[b].concat(c))}}();a.prototype.addStore=function(){return function(a,b){for(var d=arguments.length,c=Array(2<d?d-2:0),e=2;e<d;e++)c[e-2]=arguments[e];this.createStore.apply(this,[b,a].concat(c))}}();a.prototype.getActions=
function(){return function(a){return this.actions[a]}}();a.prototype.getStore=function(){return function(a){return this.stores[a]}}();a.debug=function(){return function(a,b,d){!d&&"undefined"!==typeof window&&(d=window);"undefined"!==typeof d&&(d["alt.js.org"]=d["alt.js.org"]||[],d["alt.js.org"].push({name:a,alt:b}));return b}}();return a}();c.default=a;g.exports=c["default"]},432:function(g,c,a){a(451);var k=a(28).Object;g.exports=function(a,c){return k.create(a,c)}},433:function(g,c,a){a(452);g.exports=
a(28).Object.getPrototypeOf},434:function(g,c,a){a(453);g.exports=a(28).Object.keys},435:function(g,c,a){a(454);g.exports=a(28).Object.setPrototypeOf},441:function(g,c,a){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(a,c,m,l,g){var h=b.uid(a._actionsRegistry,String(c)+"."+String(m));a._actionsRegistry[h]=1;var k={id:h,
namespace:c,name:m},w=function(b){return a.dispatch(h,b,k)},t=function(){for(var c=arguments.length,h=Array(c),n=0;n<c;n++)h[n]=arguments[n];h=c=l.apply(g,h);if(void 0!==c&&!(0,e.default)(c))f.isFunction(c)?h=c(w,a):w(c);void 0===c&&b.warn("An action was called but nothing was dispatched");return h};t.defer=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return setTimeout(function(){return t.apply(null,b)})};t.id=h;t.data=k;c=a.actions[c];m=b.uid(c,m);c[m]=t;m=b.formatAsConstant(m);
c[m]=h;return t};var l=a(52),f=k(l),l=a(136),b=k(l),e=(a=a(457))&&a.__esModule?a:{"default":a};g.exports=c["default"]},442:function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});var k=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(a(52)),l=(a=a(225))&&a.__esModule?a:{"default":a};a=function(){function a(b,c,d,n){var m=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var g=c.lifecycleEvents;this.transmitter=(0,l.default)();this.lifecycle=function(a,b){g[a]&&g[a].publish(b)};this.state=d;this.alt=b;this.preventDefault=!1;this.displayName=c.displayName;this.boundListeners=c.boundListeners;this.StoreModel=n;this.reduce=c.reduce||function(a){return a};this.subscriptions=[];var q=c.output||function(a){return a};this.emitChange=function(){return m.transmitter.publish(q(m.state))};var h=function(a,b){try{return a()}catch(d){if(c.handlesOwnErrors)return m.lifecycle("error",
{error:d,payload:b,state:m.state}),!1;throw d;}};k.assign(this,c.publicMethods);this.dispatchToken=b.dispatcher.register(function(a){m.preventDefault=!1;m.lifecycle("beforeEach",{payload:a,state:m.state});var b=c.actionListeners[a.action];if(b||c.otherwise){var d=void 0,d=b?h(function(){return b.filter(Boolean).every(function(b){return!1!==b.call(c,a.data,a.action)})},a):h(function(){return c.otherwise(a.data,a.action)},a);!1!==d&&!m.preventDefault&&m.emitChange()}c.reduce&&(h(function(){var b=c.reduce(m.state,
a);void 0!==b&&(m.state=b)},a),m.preventDefault||m.emitChange());m.lifecycle("afterEach",{payload:a,state:m.state})});this.lifecycle("init")}a.prototype.listen=function(){return function(a){var c=this;if(!k.isFunction(a))throw new TypeError("listen expects a function");var d=this.transmitter.subscribe(a).dispose;this.subscriptions.push({cb:a,dispose:d});return function(){c.lifecycle("unlisten");d()}}}();a.prototype.unlisten=function(){return function(a){this.lifecycle("unlisten");this.subscriptions.filter(function(c){return c.cb===
a}).forEach(function(a){return a.dispose()})}}();a.prototype.getState=function(){return function(){return this.StoreModel.config.getState.call(this,this.state)}}();return a}();c.default=a;g.exports=c["default"]},443:function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});var k=a(225),l=k&&k.__esModule?k:{"default":k},f=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(a(52));a={waitFor:function(){return function(){for(var a=
arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];if(!c.length)throw new ReferenceError("Dispatch tokens not provided");a=c;1===c.length&&(a=Array.isArray(c[0])?c[0]:c);c=a.map(function(a){return a.dispatchToken||a});this.dispatcher.waitFor(c)}}(),exportAsync:function(){return function(a){this.registerAsync(a)}}(),registerAsync:function(){return function(a){var c=this,d=0,n=f.isFunction(a)?a(this.alt):a;a=Object.keys(n).reduce(function(a,b){var l=n[b],h=f.isFunction(l)?l(c):l;["success","error",
"loading"].forEach(function(a){if(h[a]&&!h[a].id)throw Error(String(a)+" handler must be an action function");});a[b]=function(){for(var a=arguments.length,b=Array(a),f=0;f<a;f++)b[f]=arguments[f];var a=c.getInstance().getState(),f=h.local&&h.local.apply(h,[a].concat(b)),n=h.shouldFetch?h.shouldFetch.apply(h,[a].concat(b)):null==f,m=h.interceptResponse||function(a){return a},l=function(){return function(a,f){return function(h){var n=function(){return function(){d-=1;a(m(h,a,b));if(f)throw h;return h}}();
return c.alt.trapAsync?function(){return n()}:n()}}}();if(n)return d+=1,h.loading&&h.loading(m(null,h.loading,b)),h.remote.apply(h,[a].concat(b)).then(l(h.success),l(h.error,1));c.emitChange();return f};return a},{});this.exportPublicMethods(a);this.exportPublicMethods({isLoading:function(){return function(){return 0<d}}()})}}(),exportPublicMethods:function(){return function(a){var c=this;f.eachObject(function(a,b){if(!f.isFunction(b))throw new TypeError("exportPublicMethods expects a function");
c.publicMethods[a]=b},[a])}}(),emitChange:function(){return function(){this.getInstance().emitChange()}}(),on:function(){return function(a,c){"error"===a&&(this.handlesOwnErrors=!0);var d=this.lifecycleEvents[a]||(0,l.default)();this.lifecycleEvents[a]=d;return d.subscribe(c.bind(this))}}(),bindAction:function(){return function(a,c){if(!a)throw new ReferenceError("Invalid action reference passed in");if(!f.isFunction(c))throw new TypeError("bindAction expects a function");var d=a.id?a.id:a;this.actionListeners[d]=
this.actionListeners[d]||[];this.actionListeners[d].push(c.bind(this));this.boundListeners.push(d)}}(),bindActions:function(){return function(a){var c=this;f.eachObject(function(a,b){var f=a.replace(/./,function(a){return"on"+String(a[0].toUpperCase())});if(c[a]&&c[f])throw new ReferenceError("You have multiple action handlers bound to an action: "+(String(a)+" and "+String(f)));(f=c[a]||c[f])&&c.bindAction(b,f)},[a])}}(),bindListeners:function(){return function(a){var c=this;f.eachObject(function(a,
b){var f=c[a];if(!f)throw new ReferenceError(String(a)+" defined but does not exist in "+String(c.displayName));Array.isArray(b)?b.forEach(function(a){c.bindAction(a,f)}):c.bindAction(b,f)},[a])}}()};c.default=a;g.exports=c["default"]},444:function(g,c,a){function k(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b}function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b,c){if(c){var e=b.StoreModel.config;c=d.isFunction(c)?c(b.state):c;b.state=e.setState.call(a,b.state,c);a.alt.dispatcher.isDispatching()||a.emitChange()}}function b(a,b,c,e){return d.assign(a,m.default,{displayName:c,alt:b,dispatcher:b.dispatcher,preventDefault:function(){return function(){this.getInstance().preventDefault=
!0}}(),boundListeners:[],lifecycleEvents:{},actionListeners:{},publicMethods:{},handlesOwnErrors:!1},e)}Object.defineProperty(c,"__esModule",{value:!0});c.createStoreConfig=function(a,b){b.config=d.assign({getState:function(){return function(a){return Array.isArray(a)?a.slice():d.isMutableObject(a)?d.assign({},a):a}}(),setState:function(){return function(a,b){return d.isMutableObject(b)?d.assign(a,b):b}}()},a,b.config)};c.transformStore=function(a,b){return a.reduce(function(a,b){return b(a)},b)};
c.createStoreFromObject=function(a,c,e){var l=void 0,g=b({},a,e,d.assign({getInstance:function(){return function(){return l}}(),setState:function(){return function(a){f(this,l,a)}}()},c));g.bindListeners&&m.default.bindListeners.call(g,g.bindListeners);g.observe&&m.default.bindListeners.call(g,g.observe(a));g.lifecycle&&d.eachObject(function(a,b){m.default.on.call(g,a,b)},[g.lifecycle]);return l=d.assign(new n.default(a,g,void 0!==g.state?g.state:{},c),g.publicMethods,{displayName:e,config:c.config})};
c.createStoreFromClass=function(a,c,h){var m=void 0,g=c.config,k=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");for(var d=arguments.length,c=Array(d),e=0;e<d;e++)c[e]=arguments[e];d=a.call.apply(a,[this].concat(c));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&("object"===typeof d||"function"===typeof d)?d:this}l(b,a);return b}(c);b(k.prototype,a,h,{type:"AltStore",getInstance:function(){return function(){return m}}(),
setState:function(){return function(a){f(this,m,a)}}()});for(var r=arguments.length,v=Array(3<r?r-3:0),y=3;y<r;y++)v[y-3]=arguments[y];k=new (Function.prototype.bind.apply(k,[null].concat(v)));g.bindListeners&&k.bindListeners(g.bindListeners);g.datasource&&k.registerAsync(g.datasource);return m=d.assign(new n.default(a,k,void 0!==k.state?k.state:k,c),e.getInternalMethods(c),g.publicMethods,{displayName:h})};g=a(136);var e=k(g);g=a(52);var d=k(g),n=(g=a(442))&&g.__esModule?g:{"default":g},m=(a=a(443))&&
a.__esModule?a:{"default":a}},445:function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});c.setAppState=function(a,c,b){var e=a.deserialize(c);k.eachObject(function(d,c){var f=a.stores[d];f&&function(){var a=f.StoreModel.config,l=f.state;a.onDeserialize&&(e[d]=a.onDeserialize(c)||c);k.isMutableObject(l)?(k.eachObject(function(a){return delete l[a]},[l]),k.assign(l,e[d])):f.state=e[d];b(f,f.state)}()},[e])};c.snapshot=function(a){var c=1>=arguments.length||void 0===arguments[1]?[]:arguments[1];
return(c.length?c:Object.keys(a.stores)).reduce(function(b,c){var d=c.displayName||c,f=a.stores[d],m=f.StoreModel.config;f.lifecycle("snapshot");m=m.onSerialize&&m.onSerialize(f.state);b[d]=m?m:f.getState();return b},{})};c.saveInitialSnapshot=function(a,c){var b=a.deserialize(a.serialize(a.stores[c].state));a._initSnapshot[c]=b;a._lastSnapshot[c]=b};c.filterSnapshots=function(a,c,b){return b.reduce(function(a,b){var n=b.displayName||b;if(!c[n])throw new ReferenceError(String(n)+" is not a valid store");
a[n]=c[n];return a},{})};var k=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(a(52))},446:function(g,c,a){g.exports.Dispatcher=a(447)},447:function(g,c,a){c.__esModule=!0;var k=a(456);c=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._callbacks={};this._isDispatching=!1;this._isHandled={};this._isPending={};this._lastID=1}a.prototype.register=
function(a){var b="ID_"+this._lastID++;this._callbacks[b]=a;return b};a.prototype.unregister=function(a){!this._callbacks[a]?k(!1):void 0;delete this._callbacks[a]};a.prototype.waitFor=function(a){!this._isDispatching?k(!1):void 0;for(var b=0;b<a.length;b++){var c=a[b];this._isPending[c]?!this._isHandled[c]?k(!1):void 0:(!this._callbacks[c]?k(!1):void 0,this._invokeCallback(c))}};a.prototype.dispatch=function(a){this._isDispatching?k(!1):void 0;this._startDispatching(a);try{for(var b in this._callbacks)this._isPending[b]||
this._invokeCallback(b)}finally{this._stopDispatching()}};a.prototype.isDispatching=function(){return this._isDispatching};a.prototype._invokeCallback=function(a){this._isPending[a]=!0;this._callbacks[a](this._pendingPayload);this._isHandled[a]=!0};a.prototype._startDispatching=function(a){for(var b in this._callbacks)this._isPending[b]=!1,this._isHandled[b]=!1;this._pendingPayload=a;this._isDispatching=!0};a.prototype._stopDispatching=function(){delete this._pendingPayload;this._isDispatching=!1};
return a}();g.exports=c},448:function(g,c,a){g.exports={"default":a(435),__esModule:!0}},450:function(g,c,a){var k=a(99),l=a(90),f=function(a,c){l(a);if(!k(c)&&null!==c)throw TypeError(c+": can't set as prototype!");};g.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a(102)(Function.call,a(245).f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array)}catch(n){c=!0}return function(a,b){f(a,b);c?a.__proto__=b:d(a,b);return a}}({},!1):void 0),check:f}},451:function(g,
c,a){g=a(53);g(g.S,"Object",{create:a(281)})},452:function(g,c,a){var k=a(104),l=a(475);a(98)("getPrototypeOf",function(){return function(a){return l(k(a))}})},453:function(g,c,a){var k=a(104),l=a(134);a(98)("keys",function(){return function(a){return l(k(a))}})},454:function(g,c,a){g=a(53);g(g.S,"Object",{setPrototypeOf:a(450).set})},456:function(g,c,a){g.exports=function(a,c,f,b,e,d,n,m){if(!a){if(void 0===c)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
else{var g=[f,b,e,d,n,m],q=0;a=Error("Invariant Violation: "+c.replace(/%s/g,function(){return g[q++]}))}a.framesToPop=1;throw a;}}},457:function(g,c){g.exports=function(a){return!!a&&("object"===typeof a||"function"===typeof a)&&"function"===typeof a.then}},458:function(g,c,a){var k=a(352),l=a(283),f=a(284),b=a(135),e=a(553),d=a(286);g.exports=function(a,c,g,q){var h=-1,s=l,w=!0,t=a.length,r=[],v=c.length;if(!t)return r;g&&(c=b(c,e(g)));q?(s=f,w=!1):200<=c.length&&(s=d,w=!1,c=new k(c));a:for(;++h<
t;){var y=a[h],I=g?g(y):y,y=q||0!==y?y:0;if(w&&I===I){for(var K=v;K--;)if(c[K]===I)continue a;r.push(y)}else s(c,I,q)||r.push(y)}return r}},460:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(26);var l=k(c);c=a(19);var f=k(c);c=a(16);var b=k(c);c=a(1);var e=k(c);c=a(2);var d=k(c);c=a(40);var n=c.Map,m=c.fromJS;c=a(9);var p=a(101),q=a(49),h=a(430),s=a(232),w=a(227),t=a(558),r=a(300).IMAGE_PROCESSING,v={};a=function(){function a(){(0,e.default)(this,a);this.state=n();this.bindActions(h);
this.bindListeners({onStaticBootstrap:q.BOOTSTRAP,onUploadSuccess:s.UPLOAD_SUCCESS,onJobComplete:w.COMPLETE});this.exportPublicMethods({fetch:this.fetch,fetchFromServer:this.fetchFromServer,fetchForCollection:this.fetchForCollection,getForCollection:this.getForCollection})}(0,d.default)(a,[{key:"onInsert",value:function(a){var d=v[a.id];d&&(a=(0,b.default)({},a,{jobId:d}));this.setState(this.state.set(a.id,m(a)))}},{key:"onInsertMany",value:function(a){a=a.reduce(function(a,d){var c=v[d.id];c&&(d=
(0,b.default)({},d,{jobId:c}));a[d.id]=m(d);return a},{});this.setState(this.state.merge(a))}},{key:"onUpdateField",value:function(a){this.setState(this.state.setIn([a.id,a.key],a.value))}},{key:"onDelete",value:function(a){this.setState(this.state.delete(a))}},{key:"onDeleteMany",value:function(a){this.setState(this.state.filter(function(b,d){return-1===a.indexOf(d)}))}},{key:"onReorderItems",value:function(a){this.setState(this.state.mergeDeep(a.allItemIds.reduce(function(a,b,d){b&&(a[b]={displayIndex:d});
return a},{})))}},{key:"onStaticBootstrap",value:function(a){(a=(a=a.pendingJobs)&&a.filter(function(a){return!!a.data.contentItemId}))&&0<a.length&&a.forEach(function(a){v[a.data.contentItemId]=a.id})}},{key:"onUploadSuccess",value:function(a){var b=a.data;a=b.contentItem;b=b.job;a&&(b&&(a=(0,f.default)({},a,{jobId:b.id})),this.waitFor(t),this.setState(this.state.set(a.id,m(a))))}},{key:"onJobComplete",value:function(a){a=a.map(function(a){return t.getState()[a]}).filter(function(a){return!!a.data.contentItemId});
0<a.length&&this.setState(this.state.mergeDeep(a.reduce(function(a,b){var d=b.data,c=d.assetUrl,e=d.contentItemId,h=d.contentItemUpdatedOn,d=d.assetVariants,n={jobId:null};b.type===r&&h&&(0,f.default)(n,{assetUrl:c,updatedOn:h,originalSize:d.split(",")[0],systemDataVariants:d});a[e]=n;v[e]=null;return a},{})))}},{key:"fetch",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=arguments[2];if(!a)return l.default.resolve();var c=this.getState().get(a);return c&&c.id?
l.default.resolve(c):this.fetchFromServer(a,b,d)}},{key:"fetchFromServer",value:function(a){var b=this;return h.read(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,arguments[2]).then(function(){return b.getState().get(a)})}},{key:"fetchForCollection",value:function(a){var b=this,d=this.getForCollection(a);return 0<d.size?l.default.resolve(d):h.readForCollection(a).then(function(){return b.getForCollection(a)})}},{key:"getForCollection",value:function(a){return this.getState().filter(function(b){return b.get("collectionId")===
a})}}]);return a}();g.exports=c.createStore(p(a),"ContentItemStore")},461:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c},f=a(40).Set,b=a(1129),e=a(538);c=a(9);var d=a(101),n=a(253),m=a(49),p=a(61),q=a(615),h=function(a){return p(a)&&a.every(function(a){return q(a)})};a=function(){function a(){(0,k.default)(this,a);this.state=f();this.bindListeners({onStaticBootstrap:m.BOOTSTRAP});this.exportPublicMethods({hasPermission:this.hasPermission,hasAllPermissions:this.hasAllPermissions,
hasAnyPermission:this.hasAnyPermission,isAdmin:this.isAdmin})}(0,l.default)(a,[{key:"onStaticBootstrap",value:function(a){a=a.accessPermissions;return h(a)?(this.setState(f(a)),!0):!1}},{key:"hasPermission",value:function(a){var b=this.getState(),d="string"===typeof a?n[a]:a;if(void 0===d)throw Error(a?"Permission '"+a+"' not found.":"Permission is undefined.");return b.has(d)}},{key:"hasAllPermissions",value:function(a){return b(a,this.hasPermission.bind(this))}},{key:"hasAnyPermission",value:function(a){return e(a,
this.hasPermission.bind(this))}},{key:"isAdmin",value:function(){return this.hasPermission(n.ADMIN)}}]);return a}();g.exports=c.createStore(d(a,{onDeserialize:function(a){return f.of(a)}}),"AccessPermissionStore")},468:function(g,c,a){function k(a){return{url:J[a.action].replace("{collectionId}",a.collectionId),isFallback:!0}}function l(a){return{url:L[a.collectionType][a.action].replace("{collectionId}",a.collectionId).replace("{parentId}",a.parentId),isFallback:!1}}function f(){var a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};if(!a.collectionId)return{url:ba[a.action],isFallback:!0};if(a.parentId)return a.collectionType===aa.PRODUCTS?l(a):k(a);var b=Ea[a.collectionOrdering];if(!b)return k(a);b=b[a.recordType];return!b?k(a):{url:b[a.action].replace("{collectionId}",a.collectionId),isFallback:!1}}var b=(c=a(16))&&c.__esModule?c:{"default":c},e,d,n,m,p,q,h,s,w,t,r,v,y,I,K,z,A,x=a(479),$=a(81);c=a(223);var aa=a(63),Ea=(w={},w[c.CHRONOLOGICAL]=(m={},m[$.TEXT]=(e={},e[x.GET]="/api/content/blogs/{collectionId}/text-posts/{id}",
e[x.POST]="/api/content/blogs/{collectionId}/text-posts",e[x.PUT]="/api/content/blogs/{collectionId}/text-posts/{id}",e[x.DELETE]="/api/content/blogs/{collectionId}/text-posts/{id}",e),m[$.IMAGE]=(d={},d[x.GET]="/api/content/blogs/{collectionId}/image-posts/{id}",d[x.POST]="/api/content/blogs/{collectionId}/image-posts",d[x.PUT]="/api/content/blogs/{collectionId}/image-posts/{id}",d[x.DELETE]="/api/content/blogs/{collectionId}/image-posts/{id}",d),m[$.VIDEO]=(n={},n[x.GET]="/api/content/blogs/{collectionId}/video-posts/{id}",
n[x.POST]="/api/content/blogs/{collectionId}/video-posts",n[x.PUT]="/api/content/blogs/{collectionId}/video-posts/{id}",n[x.DELETE]="/api/content/blogs/{collectionId}/video-posts/{id}",n),m),w[c.CALENDAR]=(q={},q[$.EVENT]=(p={},p[x.GET]="/api/content/calendars/{collectionId}/events/{id}",p[x.POST]="/api/content/calendars/{collectionId}/events",p[x.PUT]="/api/content/calendars/{collectionId}/events/{id}",p[x.DELETE]="/api/content/calendars/{collectionId}/events/{id}",p),q),w[c.USER]=(s={},s[$.STORE_ITEM]=
(h={},h[x.GET]="/api/content/product-pages/{collectionId}/products/{id}",h[x.POST]="/api/content/product-pages/{collectionId}/products",h[x.PUT]="/api/content/product-pages/{collectionId}/products/{id}",h[x.DELETE]="/api/content/product-pages/{collectionId}/products/{id}",h),s),w),L=(r={},r[aa.PRODUCTS]=(t={},t[x.GET]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",t[x.POST]="/api/content/product-pages/{collectionId}/products/{parentId}/images",t[x.PUT]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",
t[x.DELETE]="/api/content/product-pages/{collectionId}/products/{parentId}/images/{id}",t),r),T=(K={},K[c.CHRONOLOGICAL]=(v={},v[aa.COLLECTION_TYPE_GENERIC]="/api/content/blogs/{collectionId}/posts",v),K[c.CALENDAR]=(y={},y[aa.COLLECTION_TYPE_GENERIC]="/api/content/calendars/{collectionId}/events",y),K[c.USER]=(I={},I[aa.PRODUCTS]="/api/content/product-pages/{collectionId}/products",I),K),J=(z={},z[x.GET]="/api/content-collections/{collectionId}/content-items/{id}",z[x.POST]="/api/content-collections/{collectionId}/content-items",
z[x.PUT]="/api/content-collections/{collectionId}/content-items/{id}",z[x.DELETE]="/api/content-collections/{collectionId}/content-items/{id}",z),ba=(A={},A[x.GET]="/api/content-items/{id}",A[x.POST]="/api/content-items",A[x.PUT]="/api/content-items/{id}",A[x.DELETE]="/api/content-items/{id}",A);g.exports={getTemplateForSingleItem:function(){return f(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url},getTemplateForCollectionItems:function(a,b){if(!a)return"/api/content-collections/{collectionId}/content-items";
var d=void 0;T.hasOwnProperty(a)&&(d=T[a][b]);return!d?"/api/content-collections/{collectionId}/content-items":d},getMainImageUploadUrl:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=f((0,b.default)({},a,{action:x.DELETE}));return a.isFallback?"/api/commondata/SaveMedia":a.url+"/main-image"},getMainImageDeletionUrl:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=f((0,b.default)({},a,{action:x.DELETE}));return a.isFallback?"/api/commondata/ClearEmbeddedAsset":
a.url+"/main-image"},getChildImageUploadUrl:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.recordType===$.STORE_ITEM?l({collectionType:aa.PRODUCTS,recordType:$.STORE_ITEM,action:x.POST,parentId:a.parentId,collectionId:a.collectionId}).url:"/api/commondata/SaveMedia"}}},47:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;g=a(448);var l=k(g);g=a(250);var f=k(g);a=a(79);var b=k(a);c.default=function(a,d){if("function"!==typeof d&&
null!==d)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof d?"undefined":(0,b.default)(d)));a.prototype=(0,f.default)(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(l.default?(0,l.default)(a,d):a.__proto__=d)}},473:function(g,c,a){g.exports={"default":a(474),__esModule:!0}},474:function(g,c,a){a(476);var k=a(28).Object;g.exports=function(a,c){return k.getOwnPropertyDescriptor(a,c)}},476:function(g,c,a){var k=
a(96),l=a(245).f;a(98)("getOwnPropertyDescriptor",function(){return function(a,b){return l(k(a),b)}})},479:function(g,c,a){g.exports={GET:1,POST:2,PUT:3,DELETE:4}},48:function(g,c,a){c.__esModule=!0;var k=(g=a(79))&&g.__esModule?g:{"default":g};c.default=function(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&("object"===("undefined"===typeof c?"undefined":(0,k.default)(c))||"function"===typeof c)?c:a}},481:function(g,c,a){var k=(c=a(26))&&
c.__esModule?c:{"default":c};c=a(274);var l=c.default,f=c.CancellationError,b=a(24),e=a(784),d=a(782),n=a(294).encodeUrl,m={},p=function(a){var b=m[a];delete m[a];return b},q=function(a){return function(b){var d=b.loaded,c=b.total;b.lengthComputable&&a(100*(d/c))}};g.exports={URLS:{FILE:"/api/uploads/files",AVATAR:"/api/uploads/files/avatars",IMAGE:"/api/uploads/images",TWEAK:"/api/uploads/tweak-backgrounds",GALLERY_IMAGE:function(a){return"/api/galleries/"+a+"/images"}},uploadFile:function(a,c,n,
g){var r=g.onProgress,v=g.onCancel;g={headers:{"Content-Type":"multipart/form-data"}};v&&(g.adapter=e,g.cancel=m[a]=new l);r&&(g.progress=q(r));return b.post(c,d(n),g).then(function(b){p(a);return k.default.resolve(b)},function(b){b instanceof f?v(a):p(a);return k.default.reject(b.error||b)})},cancelFileUpload:function(a){return new k.default(function(b){var d=p(a);d&&d.cancel();b(a)})},uploadFromFileUrl:function(a,d,c){return b.post(d,n(c),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}},
482:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=a(582),f=0,b=function d(){(0,k.default)(this,d);var a=""+f++;this.getId=function(){return a}};g.exports={getUploadToken:function(){return new b},getMultipleUploadTokens:function(a){return l(a,function(){return new b})},isValidUploadToken:function(a){return a instanceof b}}},49:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c};a=a(9);c=function(){function a(){(0,k.default)(this,a)}
(0,l.default)(a,[{key:"bootstrap",value:function(a){return a}}]);return a}();a=a.createActions(c);window.StaticActions=a;g.exports=a},50:function(g,c,a){g.exports={"default":a(570),__esModule:!0}},513:function(g,c,a){function k(a){this.message=a||"Operation has been canceled.";this.name="CancellationError";Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Object.defineProperty(c,"__esModule",{value:!0});c.default=k;k.prototype=Object.create(Error.prototype);k.prototype.constructor=
k},52:function(g,c,a){function k(a,b){b.forEach(function(b){Object.keys(Object(b)).forEach(function(d){a(d,b[d])})})}Object.defineProperty(c,"__esModule",{value:!0});c.isMutableObject=function(a){var b=a.constructor;return!!a&&"[object Object]"===Object.prototype.toString.call(a)&&l(b)&&!Object.isFrozen(a)&&(b instanceof b||"AltStore"===a.type)};c.eachObject=k;c.assign=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];k(function(b,d){return a[b]=d},c);return a};
var l=c.isFunction=function(a){return"function"===typeof a}},523:function(g,c){YUI.add("squarespace-model-sync-rest",function(a){function c(){this._ioConfigCache={}}c.prototype={sync:function(c,f,b){a.Lang.isValue(f.timeout)||(f.timeout=1E7);a.ModelSync.REST.prototype.sync.apply(this,arguments)},_storeRequest:function(c,f){this._ioConfigCache[c.id]=a.merge(f,{})},_retrieveAndEvict:function(a){var c=this._ioConfigCache[a];this._ioConfigCache[a]=null;return c},_isCrumbFailure:function(a){return a&&
a.crumbFail&&a.crumb},_sendSyncIORequest:function(c){var f=a.ModelSync.REST.prototype._sendSyncIORequest.apply(this,arguments);this._storeRequest(f,c);return f},_onSyncIOEnd:function(c,f){this._retrieveAndEvict(c);a.ModelSync.REST.prototype._onSyncIOEnd.apply(this,arguments)},_onSyncIOSuccess:function(c,f,b){var e=this._retrieveAndEvict(c),d={},n=f.responseText;a.Lang.isValue(n)&&n.trim()&&(d=a.JSON.parse(n));this._isCrumbFailure(d)?(d=d.crumb,a.ModelSync.REST.CSRF_TOKEN=d,a.Env.CSRF_TOKEN=d,e.headers["X-CSRF-Token"]=
d,this._sendSyncIORequest(e)):a.ModelSync.REST.prototype._onSyncIOSuccess.apply(this,arguments)},_onSyncIOFailure:function(c,f,b){if(c=b.callback){b={};var e=f.responseText;a.Lang.isValue(e)&&e.trim()&&(b=a.JSON.parse(e));c({code:f.status,msg:f.statusText,responseJSON:b},f)}}};a.mix(c,a.ModelSync.REST,!1,null,1);a.namespace("Squarespace.ModelSync").REST=c},"1.0",{requires:["model-sync-rest"]})},524:function(g,c){YUI.add("model-sync-rest",function(a,c){function g(){}var f=a.Lang;g.CSRF_TOKEN=YUI.Env.CSRF_TOKEN;
g.EMULATE_HTTP=!1;g.HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"};g.HTTP_METHODS={create:"POST",read:"GET",update:"PUT","delete":"DELETE"};g.HTTP_TIMEOUT=3E4;g._NON_ATTRS_CFG=["root","url"];g.prototype={root:"",url:"",initializer:function(a){a||(a={});"root"in a&&(this.root=a.root||"");"url"in a&&(this.url=a.url||"")},getURL:function(b,c){var d=this.root,f=this.url;return this._isYUIModelList?!f?this.model.prototype.root:this._substituteURL(f,a.merge(this.getAttrs(),c)):
d&&("create"===b||this.isNew())?d:!f?this._joinURL(this.getAsURL("id")||""):this._substituteURL(f,a.merge(this.getAttrs(),c))},parseIOResponse:function(a){return a.responseText},serialize:function(b){return a.JSON.stringify(this)},sync:function(b,c,d){c||(c={});var f=this.getURL(b,c),m=g.HTTP_METHODS[b],k=a.merge(g.HTTP_HEADERS,c.headers),q=c.timeout||g.HTTP_TIMEOUT;c=c.csrfToken||g.CSRF_TOKEN;var h;"POST"===m||"PUT"===m?h=this.serialize(b):delete k["Content-Type"];if(g.EMULATE_HTTP&&("PUT"===m||
"DELETE"===m))k["X-HTTP-Method-Override"]=m,m="POST";if(c&&("POST"===m||"PUT"===m||"DELETE"===m))k["X-CSRF-Token"]=c;this._sendSyncIORequest({action:b,callback:d,entity:h,headers:k,method:m,timeout:q,url:f})},_joinURL:function(a){var c=this.root;if(!c&&!a)return"";"/"===a.charAt(0)&&(a=a.substring(1));return c&&"/"===c.charAt(c.length-1)?c+a+"/":c+"/"+a},_parse:function(a){"function"===typeof this.parseIOResponse&&(a=this.parseIOResponse(a));return this.parse(a)},_sendSyncIORequest:function(b){return a.io(b.url,
{arguments:{action:b.action,callback:b.callback,url:b.url},context:this,data:b.entity,headers:b.headers,method:b.method,timeout:b.timeout,on:{start:this._onSyncIOStart,failure:this._onSyncIOFailure,success:this._onSyncIOSuccess,end:this._onSyncIOEnd}})},_substituteURL:function(b,c){if(!b)return"";var d={};a.Object.each(c,function(a,b){if(f.isString(a)||f.isNumber(a))d[b]=encodeURIComponent(a)});return f.sub(b,d)},_onSyncIOEnd:function(a,c){},_onSyncIOFailure:function(a,c,d){(a=d.callback)&&a({code:c.status,
msg:c.statusText},c)},_onSyncIOSuccess:function(a,c,d){(a=d.callback)&&a(null,c)},_onSyncIOStart:function(a,c){}};a.namespace("ModelSync").REST=g},"3.17.2",{requires:["model","io-base","json-stringify"]})},528:function(g,c,a){a(152);a(537);g.exports=a(28).Array.from},530:function(g,c,a){var k=a(92),l=a(230);g.exports=function(a,b,c){b in a?k.f(a,b,l(0,c)):a[b]=c}},537:function(g,c,a){var k=a(102);g=a(53);var l=a(104),f=a(533),b=a(532),e=a(282),d=a(530),n=a(275);g(g.S+g.F*!a(534)(function(a){Array.from(a)}),
"Array",{from:function(a){var c=l(a),g="function"==typeof this?this:Array,h=arguments.length,s=1<h?arguments[1]:void 0,w=void 0!==s,t=0,r=n(c);w&&(s=k(s,2<h?arguments[2]:void 0,2));if(void 0!=r&&!(g==Array&&b(r))){c=r.call(c);for(g=new g;!(h=c.next()).done;t++)d(g,t,w?f(c,s,[h.value,t],!0):h.value)}else{h=e(c.length);for(g=new g(h);h>t;t++)d(g,t,w?s(c[t],t):c[t])}g.length=t;return g}})},538:function(g,c,a){var k=a(921),l=a(91),f=a(577),b=a(61),e=a(459);g.exports=function(a,c,g){var p=b(a)?k:f;g&&
e(a,c,g)&&(c=void 0);return p(a,l(c,3))}},543:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(26);var l=k(c);c=a(1);var f=k(c);c=a(2);var b=k(c);c=a(9);var e=a(258),d=a(768),n=a(771);a=function(){function a(){(0,f.default)(this,a);this.generateActions("disconnectStripeSuccess","disconnectPayPalSuccess","handleFailure","loadSuccess","payPalProcessing","stripeProcessing","payPalBillingAgreementProcessing","setStoreCurrency","setTestMode","setStripeSettings","updateStripeSuccess",
"updateStoreCurrencySuccess","updateTestModeSuccess","cancelPayPalBillingAgreement")}(0,b.default)(a,[{key:"load",value:function(){var a=this;return function(b){b();return d.load().then(function(b){return a.loadSuccess(b.data)},a.handleFailure).catch(a.handleError)}}},{key:"connectStripe",value:function(){var a=this;return function(b){a.stripeProcessing();b();return d.connect(e.STRIPE).then(a.load,a.handleFailure).catch(a.handleError)}}},{key:"connectPayPal",value:function(a){var b=this;return function(c){b.disconnectPayPal().then(b.payPalProcessing);
c();return d.connect(e.PAYPAL,a).then(b.handlePayPalConnected,b.handleFailure).catch(b.handleError)}}},{key:"handlePayPalConnected",value:function(){var a=this;return function(b){b();return a.load()}}},{key:"approvePayPalBillingAgreement",value:function(a){var b=this;return function(c){b.payPalBillingAgreementProcessing();c();return d.approvePayPalBillingAgreement(a).then(b.load,b.handleFailure).catch(b.handleError)}}},{key:"disconnectStripe",value:function(){var a=this;return function(b){a.stripeProcessing();
b();return d.disconnect(e.STRIPE).then(a.disconnectStripeSuccess,a.handleFailure).catch(a.handleError)}}},{key:"disconnectPayPal",value:function(){var a=this;return function(b){a.payPalProcessing();b();return d.disconnect(e.PAYPAL).then(a.disconnectPayPalSuccess,a.handleFailure).catch(a.handleError)}}},{key:"updateTestMode",value:function(a){var b=this;return function(c){c();return d.updateTestMode(a).then(b.updateTestModeSuccess,b.handleFailure).catch(b.handleError)}}},{key:"setStripeSettings",value:function(a){return function(b){b(a);
return l.default.resolve()}}},{key:"updateStoreCurrency",value:function(a,b){var c=this;return function(e){e();return d.updateStoreCurrency(b).then(function(){n.updateStoreCurrencyClass(a,b);c.updateStoreCurrencySuccess(b)},c.handleFailure).catch(c.handleError)}}},{key:"updateStripeSettings",value:function(a){var b=this;return function(c){c();return d.updateStripeSettings(a).then(b.updateStripeSuccess,b.handleFailure).catch(b.handleError)}}},{key:"handleError",value:function(a){this.handleFailure(a)}}]);
return a}();g.exports=c.createActions(a)},545:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c};c=a(9);var f=a(49),b=a(593);a=function(){function a(){(0,k.default)(this,a);this.templateInstallations={};this.bindListeners({handleLoadSuccess:b.LOAD_SUCCESS,handleLoadFailure:b.LOAD_FAILURE,handleStaticInitialized:f.BOOTSTRAP,handlePreviewSet:b.SET_PREVIEW_INSTALLATION,handleTemplateSet:b.SET_LIVE_INSTALLATION,handleHomepageCollectionIdSet:b.SET_HOMEPAGE_COLLECTION_ID});
this.exportPublicMethods({getHomepageCollectionId:this.getHomepageCollectionId})}(0,l.default)(a,[{key:"getHomepageCollectionId",value:function(){return this.getState().activeInstallation?this.getState().activeInstallation.homepageCollectionId:this.getState().homepageCollectionId}},{key:"handleStaticInitialized",value:function(a){var b=a.authenticatedAccountWebsiteSettings;this.previewInstallationId=b?b.previewInstallationId:null;this.homepageCollectionId=a.homepageCollectionId;a.templateInstallation?
(this.liveInstallationId=a.templateInstallation.id,this.templateInstallations[this.liveInstallationId]=a.templateInstallation):this.liveInstallationId=null;this.updateInstallationReferences()}},{key:"updateInstallationReferences",value:function(){this.liveInstallation=this.getTemplateInstallation(this.liveInstallationId);this.previewInstallation=null;this.previewInstallationId!==this.liveInstallationId&&(this.previewInstallation=this.getTemplateInstallation(this.previewInstallationId));this.activeInstallation=
this.previewInstallation||this.liveInstallation}},{key:"getTemplateInstallation",value:function(a){return!a||!this.templateInstallations[a]?null:this.templateInstallations[a]}},{key:"handleHomepageCollectionIdSet",value:function(a){a.error||(this.homepageCollectionId=a.homepageCollectionId,this.activeInstallation&&(this.activeInstallation.homepageCollectionId=a.homepageCollectionId))}},{key:"handlePreviewSet",value:function(a){this.previewInstallationId=a;this.updateInstallationReferences()}},{key:"handleTemplateSet",
value:function(a){this.liveInstallationId=a;this.previewInstallationId=null;this.updateInstallationReferences()}},{key:"handleLoadSuccess",value:function(a){var b={};a.forEach(function(a){this[a.id]=a},b);this.maintainMissingInstallation(b,this.liveInstallationId);this.maintainMissingInstallation(b,this.previewInstallationId);this.templateInstallations=b;this.updateInstallationReferences()}},{key:"maintainMissingInstallation",value:function(a,b){b&&!a[b]&&(a[b]=this.templateInstallations[b])}},{key:"handleLoadFailure",
value:function(){console.error("Unable to load installations")}}]);return a}();g.exports=c.createStore(a,"TemplateInstallationsStore")},552:function(g,c){g.exports=function(a){return a!==a}},557:function(g,c){YUI.add("model-list",function(a,c){function g(){g.superclass.constructor.apply(this,arguments)}var f=a.Attribute.prototype,b=a.Lang,e=a.Array;a.ModelList=a.extend(g,a.Base,{model:a.Model,_isYUIModelList:!0,initializer:function(b){b||(b={});var c=this.model=b.model||this.model;"string"===typeof c&&
((this.model=a.Object.getValue(a,c.split(".")))||a.error("ModelList: Model class not found: "+c));this.publish("add",{defaultFn:this._defAddFn});this.publish("reset",{defaultFn:this._defResetFn});this.publish("remove",{defaultFn:this._defRemoveFn});this.after("*:idChange",this._afterIdChange);this._clear();b.items&&this.add(b.items,{silent:!0})},destructor:function(){this._clear()},add:function(c,f){var g=c._isYUIModelList;return g||b.isArray(c)?e.map(g?c.toArray():c,function(b,c){var d=f||{};"index"in
d&&(d=a.merge(d,{index:d.index+c}));return this._add(b,d)},this):this._add(c,f)},create:function(b,c,e){var f=this;"function"===typeof c&&(e=c,c={});c||(c={});b._isYUIModel||(b=new this.model(b));f.fire("create",a.merge(c,{model:b}));return b.save(c,function(a){a||f.add(b,c);e&&e.apply(null,arguments)})},each:function(a,b){var c=this._items.concat(),e,f,h;e=0;for(h=c.length;e<h;e++)f=c[e],a.call(b||f,f,e,this);return this},filter:function(a,b){var c=[],e=this._items,f,h,g;"function"===typeof a&&(b=
a,a={});f=0;for(g=e.length;f<g;++f)h=e[f],b.call(this,h,f,this)&&c.push(h);return a.asList?(e=new this.constructor({model:this.model}),c.length&&e.add(c,{silent:!0}),e):c},get:function(a){return this.attrAdded(a)?f.get.apply(this,arguments):this.invoke("get",a)},getAsHTML:function(b){return this.attrAdded(b)?a.Escape.html(f.get.apply(this,arguments)):this.invoke("getAsHTML",b)},getAsURL:function(a){return this.attrAdded(a)?encodeURIComponent(f.get.apply(this,arguments)):this.invoke("getAsURL",a)},
getByClientId:function(a){return this._clientIdMap[a]||null},getById:function(a){return this._idMap[a]||null},invoke:function(a){var b=[this._items,a].concat(e(arguments,1,!0));return e.invoke.apply(e,b)},load:function(a,b){var c=this;"function"===typeof a&&(b=a,a={});a||(a={});this.sync("read",a,function(e,f){var h={options:a,response:f},g;e?(h.error=e,h.src="load",c.fire("error",h)):(c._loadEvent||(c._loadEvent=c.publish("load",{preventable:!1})),g=h.parsed=c._parse(f),c.reset(g,a),c.fire("load",
h));b&&b.apply(null,arguments)});return this},map:function(a,b){return e.map(this._items,a,b)},parse:function(b){if("string"===typeof b)try{return a.JSON.parse(b)||[]}catch(c){return this.fire("error",{error:c,response:b,src:"parse"}),null}return b||[]},remove:function(a,c){var f=a._isYUIModelList;return f||b.isArray(a)?(a=e.map(f?a.toArray():a,function(a){return b.isNumber(a)?this.item(a):a},this),e.map(a,function(a){return this._remove(a,c)},this)):this._remove(a,c)},reset:function(b,c){b||(b=[]);
c||(c={});var f=a.merge({src:"reset"},c);b=b._isYUIModelList?b.toArray():e.map(b,function(a){return a._isYUIModel?a:new this.model(a)},this);f.models=b;c.silent?this._defResetFn(f):(this.comparator&&b.sort(a.bind(this._sort,this)),this.fire("reset",f));return this},some:function(a,b){var c=this._items.concat(),e,f,g;e=0;for(g=c.length;e<g;e++)if(f=c[e],a.call(b||f,f,e,this))return!0;return!1},sort:function(b){if(!this.comparator)return this;var c=this._items.concat();b||(b={});c.sort(a.rbind(this._sort,
this,b));c=a.merge(b,{models:c,src:"sort"});b.silent?this._defResetFn(c):this.fire("reset",c);return this},sync:function(){var a=e(arguments,0,!0).pop();"function"===typeof a&&a()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(a){return a.toJSON()})},_add:function(c,e){var f;e||(e={});c._isYUIModel||(c=new this.model(c));f=c.get("id");if(this._clientIdMap[c.get("clientId")]||b.isValue(f)&&this._idMap[f])this.fire("error",{error:"Model is already in the list.",
model:c,src:"add"});else return f=a.merge(e,{index:"index"in e?e.index:this._findIndex(c),model:c}),e.silent?this._defAddFn(f):this.fire("add",f),c},_attachList:function(a){a.lists.push(this);a.addTarget(this)},_clear:function(){e.each(this._items,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[]},_compare:function(a,b){return a<b?-1:a>b?1:0},_detachList:function(a){var b=e.indexOf(a.lists,this);-1<b&&(a.lists.splice(b,1),a.removeTarget(this))},_findIndex:function(a){var b=
this._items,c=b.length,e=0,f,g;if(!this.comparator||!c)return c;for(g=this.comparator(a);e<c;)f=e+c>>1,a=b[f],0>this._compare(this.comparator(a),g)?e=f+1:c=f;return e},_parse:function(a){return this.parse(a)},_remove:function(c,e){var f;e||(e={});b.isNumber(c)?(f=c,c=this.item(f)):f=this.indexOf(c);if(-1===f||!c)this.fire("error",{error:"Model is not in the list.",index:f,model:c,src:"remove"});else return f=a.merge(e,{index:f,model:c}),e.silent?this._defRemoveFn(f):this.fire("remove",f),c},_sort:function(a,
b,c){a=this._compare(this.comparator(a),this.comparator(b));return 0===a?a:c&&c.descending?-a:a},_afterIdChange:function(a){var c=a.newVal,e=a.prevVal;a=a.target;if(b.isValue(e))if(this._idMap[e]===a)delete this._idMap[e];else return;else if(-1===this.indexOf(a))return;b.isValue(c)&&(this._idMap[c]=a)},_defAddFn:function(a){var c=a.model,e=c.get("id");this._clientIdMap[c.get("clientId")]=c;b.isValue(e)&&(this._idMap[e]=c);this._attachList(c);this._items.splice(a.index,0,c)},_defRemoveFn:function(a){var c=
a.model,e=c.get("id");this._detachList(c);delete this._clientIdMap[c.get("clientId")];b.isValue(e)&&delete this._idMap[e];this._items.splice(a.index,1)},_defResetFn:function(a){"sort"===a.src?this._items=a.models.concat():(this._clear(),a.models.length&&this.add(a.models,{silent:!0}))}},{NAME:"modelList"});a.augment(g,a.ArrayList)},"3.17.2",{requires:"array-extras array-invoke arraylist base-build escape json-parse model".split(" ")})},558:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}
c=a(19);var l=k(c);c=a(1);var f=k(c);c=a(2);var b=k(c);c=a(9);var e=a(49),d=a(227),n=a(232),m=a(140),p=a(300),q=[m.WAITING,m.PROCESSING];a=function(){function a(){(0,f.default)(this,a);this.state={};this.bindListeners({onStaticBootstrap:e.BOOTSTRAP,onMonitor:d.MONITOR,onUploadSuccess:n.UPLOAD_SUCCESS,onLoadSuccess:d.LOAD_SUCCESS,onCancel:[d.CANCEL,d.DELETE]});this.exportPublicMethods({getJobById:this.getJobById})}(0,b.default)(a,[{key:"onStaticBootstrap",value:function(a){var b=a.pendingJobs;a=a.recentJobs;
var c=[];b&&0<b.length&&(c=c.concat(b),d.monitor.defer(b.map(function(a){return a.id})));a&&0<a.length&&(c=c.concat(a));0<c.length&&this.setState(this.convertJobsArrayToMap(c))}},{key:"onUploadSuccess",value:function(a){var b=a.data;a=b.job;var c=b.replaceItemId,d=b.fileUrl,b=b.fileData;if(a){var e,c={status:m.WAITING,type:a.type,data:a.data,cancelable:!c};a.type===p.IMAGE_PROCESSING&&(c.interimFileData=b,c.interimFileUrl=d);this.setState((e={},e[a.id]=c,e))}}},{key:"onMonitor",value:function(a){var b=
this;a=[].concat(a).filter(function(a){return!b.state[a]});0<a.length&&(a=a.reduce(function(a,b){a[b]={status:m.WAITING};return a},{}),this.setState(a))}},{key:"onLoadSuccess",value:function(a){this.setState(this.convertJobsArrayToMap(a))}},{key:"onCancel",value:function(a){var b,c=(0,l.default)({},this.state[a],{status:m.CANCELLED});if(c.interimFileData||c.interimFileUrl)delete c.interimFileData,delete c.interimFileUrl;this.setState((b={},b[a]=c,b))}},{key:"convertJobsArrayToMap",value:function(a){var b=
this;return a.reduce(function(a,c){var d=b.state[c.id];a[c.id]={status:c.status,messages:c.messages,type:c.type,data:c.data||d.data,cancelable:d&&d.cancelable,childJobIds:c.childJobs&&c.childJobs.map(function(a){return a.id})};d&&(c.type===p.IMAGE_PROCESSING&&q.includes(c.status))&&(a[c.id].interimFileData=d.interimFileData,a[c.id].interimFileUrl=d.interimFileUrl);c.childJobs&&0<c.childJobs.length&&c.childJobs.forEach(function(b){a[b.id]={status:b.status,messages:b.messages,type:b.type,data:b.data}});
return a},{})}},{key:"getJobById",value:function(a){return this.state[a]}}]);return a}();g.exports=c.createStore(a,"JobStore")},559:function(g,c){g.exports={QUEUED:1,PROCESSING:2,READY:3,ERROR:4,DOWNLOAD_ERROR:5,ERROR_TOO_LARGE:6,ERROR_FILE_NOT_FOUND:7,ERROR_UNSUPPORTED_IMAGE_TYPE:8,ERROR_UNSUPPORTED_AUDIO_TYPE:9}},562:function(g,c){g.exports=function(a,c,g){for(var f=-1,b=c.length,e={};++f<b;){var d=c[f],n=a[d];g(n,d)&&(e[d]=n)}return e}},564:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},
l=(c=a(2))&&c.__esModule?c:{"default":c},f=a(40),b=a(518),e=a(279);c=a(9);var d=a(101),n=a(1534),m=a(49),p=b(e);a=function(){function a(){(0,k.default)(this,a);this.bindListeners({onStaticBootstrap:m.BOOTSTRAP});this.exportPublicMethods({isFeatureEnabled:this.isFeatureEnabled,getLimit:this.getLimit,getFeatureUpsellInfo:this.getFeatureUpsellInfo});this.state=f.fromJS({})}(0,l.default)(a,[{key:"onStaticBootstrap",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.setState(f.fromJS({features:a.features,
featureSetIdentifier:a.featureSetId}))}},{key:"getLimit",value:function(a){a=p[a];return this.getState().getIn(["features","limits",a])||Number.MAX_VALUE}},{key:"isFeatureEnabled",value:function(a){a=p[a];return this.getState().hasIn(["features","enabledFeatures",a])}},{key:"getFeatureUpsellInfo",value:function(a){var b=this.getState().get("featureSetIdentifier");return n.get([a,b])}}]);return a}();g.exports=c.createStore(d(a),"FeaturesStore")},569:function(g,c,a){a(573);g.exports=a(28).Object.freeze},
570:function(g,c,a){a(574);g.exports=a(28).Object.values},571:function(g,c,a){var k=a(134),l=a(96),f=a(252).f;g.exports=function(a){return function(c){c=l(c);for(var d=k(c),g=d.length,m=0,p=[],q;g>m;)if(f.call(c,q=d[m++]))p.push(a?[q,c[q]]:c[q]);return p}}},573:function(g,c,a){var k=a(99),l=a(514).onFreeze;a(98)("freeze",function(a){return function(b){return a&&k(b)?a(l(b)):b}})},574:function(g,c,a){g=a(53);var k=a(571)(!1);g(g.S,"Object",{values:function(a){return k(a)}})},576:function(g,c){g.exports=
function(a,c,g){switch(g.length){case 0:return a.call(c);case 1:return a.call(c,g[0]);case 2:return a.call(c,g[0],g[1]);case 3:return a.call(c,g[0],g[1],g[2])}return a.apply(c,g)}},577:function(g,c,a){var k=a(246);g.exports=function(a,c){var b;k(a,function(a,d,g){b=c(a,d,g);return!b});return!!b}},578:function(g,c,a){var k=a(162);g.exports=function(a,c){return function(b,e){if(null==b)return b;if(!k(b))return a(b,e);for(var d=b.length,g=c?d:-1,m=Object(b);(c?g--:++g<d)&&!1!==e(m[g],g,m););return b}}},
580:function(g,c,a){c=a(463);var k=a(465),l=a(61),f=c?c.isConcatSpreadable:void 0;g.exports=function(a){return l(a)||k(a)||!(!f||!a||!a[f])}},582:function(g,c,a){var k=a(91),l=a(946),f=a(173),b=Math.min;g.exports=function(a,c){a=f(a);if(1>a||9007199254740991<a)return[];var g=4294967295,m=b(a,4294967295);c=k(c);a-=4294967295;for(m=l(m,c);++g<a;)c(g);return m}},587:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(161);var l=k(c);c=a(79);var f=k(c);a=a(21);var b=k(a);g.exports=
function(a){var c={};(0,b.default)(a).map(function(b){var g=a[b];"object"===("undefined"===typeof g?"undefined":(0,f.default)(g))?c[b]=(0,l.default)(g):void 0!==g&&(c[b]=g)});return c}},593:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(19);var l=k(c);c=a(1);var f=k(c);c=a(2);var b=k(c),e=a(1238),d=a(1291);c=a(9);var n=a(959),m=a(751);a=function(){function a(){(0,f.default)(this,a);this.generateActions("loadSuccess","loadFailure")}(0,b.default)(a,[{key:"loadAll",value:function(){var a=
this;return function(b){b();return d.loadTemplateInstallations().then(function(b){a.loadSuccess(b.data)},function(b){a.loadFailure(b.error)})}}},{key:"setPreviewInstallation",value:function(a,b,c){return function(d){var f=(0,l.default)({},a,{previewInstallationId:b});e.save(a.id,f).then(function(a){m.loadTemplate.defer(c);d(b);setTimeout(function(){n.setUrl("/");n.refresh()},1E3)},function(a){})}}},{key:"setLiveInstallation",value:function(a,b){return function(c){d.setLiveInstallation(a).then(function(d){m.loadTemplate.defer(b);
c(a);setTimeout(n.refresh,1E3)},function(a){})}}},{key:"setHomepageCollectionId",value:function(a){return function(b){return d.setHomepageCollectionId(a).then(function(c){c={homepageCollectionId:a};b(c);return c},function(c){c={homepageCollectionId:a,error:!0};b(c);return c})}}},{key:"updateInstallation",value:function(a){return d.updateInstallation(a).then(this.loadAll)}}]);return a}();g.exports=c.createActions(a)},606:function(g,c,a){var k=a(761);g.exports=function(a){return a&&a.length?k(a):[]}},
607:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(26);var l=k(c);c=a(1);var f=k(c);c=a(2);var b=k(c),e=a(1137);a=a(9);c=function(){function a(){(0,f.default)(this,a);this.generateActions("insert","insertMany","deleteSuccess","updateSuccess","deleteFailure")}(0,b.default)(a,[{key:"create",value:function(a){var b=this;return function(c){c(a);return e.create(a).then(function(a){a=a.data;b.updateSuccess(a);return a.id})}}},{key:"read",value:function(a){var b=this;return function(c){c(a);
return e.read(a).then(function(a){return b.insert(a.data)})}}},{key:"readAll",value:function(){var a=this;return e.readAll().then(function(b){return a.insertMany(b.data)}).catch(function(a){return l.default.reject(a.data.message)})}},{key:"delete",value:function(a){var b=this;return function(c){c(a);return e.delete(a).then(function(c){b.deleteSuccess(a);return c},function(c){c=c.data;b.deleteFailure(a,c);return l.default.reject(c.message)})}}},{key:"deleteUnusedCollectionPermanently",value:function(a){var b=
this;return function(c){c(a);return e.deleteUnusedPageCollectionPermanently(a).then(function(c){b.deleteSuccess(a);return c},function(c){c=c.data;b.deleteFailure(a,c);return l.default.reject(c.message)})}}},{key:"update",value:function(a){var b=this;return a.id&&!a.urlId?e.generateUrl(a).then(function(c){a.urlId=c.data.urlId;return e.create(a).then(function(a){b.updateSuccess(a.data);return a.data})}).catch(function(a){return l.default.reject(a.data.message)}):e.create(a).then(function(a){a=a.data;
b.updateSuccess(a);return a})}},{key:"clone",value:function(a){var b=this;return function(c){c(a);return e.clone(a).then(function(a){a=a.data;b.updateSuccess(a);return a})}}}]);return a}();g.exports=a.createActions(c)},608:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c};c=a(9);var f=a(24);a=function(){function a(){(0,k.default)(this,a);this.generateActions("update")}(0,l.default)(a,[{key:"save",value:function(a,b){var c=this;return f.put("/api/settings",
a,{params:b}).then(function(a){return c.update(a.data)})}}]);return a}();g.exports=c.createActions(a)},617:function(g,c,a){function k(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return d.getTemplateForSingleItem((0,l.default)({},b,{action:a})).replace("{id}",c)}var l=(c=a(16))&&c.__esModule?c:{"default":c},f=a(175),b=a(24),e=a(587),d=a(468),n=a(294).encodeUrl,m=a(479);g.exports={read:function(a){var c=arguments[2];
return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]?b.get("/api/rest/global-content-items/"+a):b.get(k(m.GET,c,a))},readForCollection:function(a,c){var e=d.getTemplateForCollectionItems(c).replace("{collectionId}",a);return b.get(e)},update:function(a,c){delete a.author;delete a.pendingPushedServices;delete a.pushedServices;delete a.jobId;return b.put(k(m.PUT,c,a.id),a)},updateForCollection:function(a,c){delete a.author;delete a.pendingPushedServices;delete a.pushedServices;delete a.jobId;
return b.put(k(m.PUT,c,a.id),a)},create:function(a,c,d){return b.post(k(m.POST,d),a,c)},createForCollection:function(a,c,d){return b.post(k(m.POST,d),a,c)},updateField:function(a){a=e(a);return b.post("/api/commondata/SaveItemField",f.stringify(a))},"delete":function(a,c){return b.delete(k(m.DELETE,c,a))},deleteMany:function(a){a=f.stringify({items:a});return b.post("/api/commondata/RemoveItems",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},reorderItems:function(a,c,d){a={collectionId:a,
afterId:d};1===c.length?a.itemId=c[0]:a.itemIds=c;return b.post("/api/commondata/ReorderItems",n(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}},6464:function(g,c,a){a(2962);a(1173);a(304);a(523);a(524);a(1167);a(1180);a(1168);a(1169);a(1171);a(557);a(1161);a(1170);a(1172);a(1166);a(956);a(954);a(955);a(1032);a(1174);a(1175);a(1176);a(1177);a(1178);a(1179);a(1181)},751:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c};c=a(9);
var f=a(1290);a=function(){function a(){(0,k.default)(this,a)}(0,l.default)(a,[{key:"loadTemplate",value:function(a){return function(b){f.getTemplate(a).then(function(a){b(a.data)},function(a){b({error:!0,response:a})})}}}]);return a}();g.exports=c.createActions(a)},753:function(g,c,a){var k=a(24),l=a(140);g.exports={load:function(a){Array.isArray(a)&&(a=a.join(","));return k.get("/api/rest/jobs/?id="+a)},loadExisting:function(){return k.get("/api/rest/jobs/?status="+(l.WAITING+","+l.PROCESSING))},
loadChildren:function(a){return k.get("/api/rest/jobs/"+a+"/children")},"delete":function(a){return k.delete("/api/jobs/"+a)}}},761:function(g,c,a){var k=a(352),l=a(283),f=a(284),b=a(286),e=a(922),d=a(464);g.exports=function(a,c,g){var q=-1,h=l,s=a.length,w=!0,t=[],r=t;if(g)w=!1,h=f;else if(200<=s){if(h=c?null:e(a))return d(h);w=!1;h=b;r=new k}else r=c?[]:t;a:for(;++q<s;){var v=a[q],y=c?c(v):v,v=g||0!==v?v:0;if(w&&y===y){for(var I=r.length;I--;)if(r[I]===y)continue a;c&&r.push(y);t.push(v)}else h(r,
y,g)||(r!==t&&r.push(y),t.push(v))}return t}},764:function(g,c,a){var k=a(458),l=a(221);c=a(172);var f=a(591);a=c(function(a,c){return f(a)?k(a,l(c,1,f,!0)):[]});g.exports=a},768:function(g,c,a){var k=a(24),l=a(169),f=a(258),b=a(297);g.exports={load:function(){return k.get("/api/commerce/settings/payment")},approvePayPalBillingAgreement:function(a){return this.startAuthentication(a?l.PAYPAL_LIVE_BILLING:l.PAYPAL_SANDBOX_BILLING)},connect:function(a,b){var c=null;a===f.STRIPE?c=l.STRIPE:a===f.PAYPAL&&
(c=b?l.PAYPAL_LIVE_ONBOARDING:l.PAYPAL_SANDBOX_ONBOARDING);return this.startAuthentication(c)},startAuthentication:function(a){return b.authenticate({serviceProvider:a,urlParams:{authenticationType:"website",startSubscription:!0}})},disconnect:function(a){return k.delete("/api/commerce/settings/payment/"+a)},updateStoreCurrency:function(a){return k.put("/api/commerce/settings/payment/store-currency",a,{headers:{"content-type":"text/plain"}})},updateTestMode:function(a){return k.put("/api/commerce/settings/payment/testmode",
a,{headers:{"content-type":"text/plain"}})},updateStripeSettings:function(a){return k.put("/api/commerce/settings/payment/stripe",{applePayEnabled:a.isApplePayEnabled,testMode:a.isTestMode})}}},769:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(41);var l=k(c);c=a(1);var f=k(c);c=a(2);var b=k(c);c=a(48);var e=k(c);c=a(165);var d=k(c);c=a(47);var n=k(c);c=a(21);c=k(c);var m=a(40),p=m.Record,q=m.Set,h=m.Map,s=a(138),w=a(770);a={allowSquarespacePromotion:!0,amazonAssociateTag:void 0,
announcementBarSettings:h(),assetPurchasesByNonAdminsAllowed:!0,businessHours:h(),collectionTitleFormat:void 0,commentAnonAllowed:void 0,commentApprovalRequired:void 0,commentAvatarsOn:void 0,commentDisableAfterDaysDefault:0,commentEnableByDefault:void 0,commentFlagThreshold:0,commentFlagsAllowed:void 0,commentLikesAllowed:void 0,commentSortType:void 0,commentThreaded:void 0,commentsEnabled:!0,configurationMenuItems:void 0,contactEmail:void 0,contactPhoneNumber:void 0,country:void 0,defaultPostFormat:void 0,
disqusShortname:"",homepageTitleFormat:void 0,hours:void 0,id:void 0,interfaceType:void 0,isExtendTrialButtonVisible:void 0,itemTitleFormat:void 0,lastAgreedTermsOfService:void 0,markdownMode:void 0,mobileInfoBarSettings:h(),notFoundPageId:null,ownerId:void 0,pinterestOverlayOptions:h(),simpleLikingEnabled:void 0,socialAccountDisplayOrder:void 0,ssBadgeDevices:void 0,ssBadgePosition:void 0,ssBadgeType:void 0,ssBadgeVisibility:void 0,state:void 0,storeSettings:void 0,subjects:void 0,tutorialsCompleted:q(),
type:void 0,contentDescription:h(),goals:h(),seoHidden:void 0,useDeviceView:!0,useEscapeKeyToLogin:!0,websiteId:void 0,canAddAcuityBlock:!1};var t=(0,c.default)(a);g.exports=function(a){function c(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,c);return(0,e.default)(this,(c.__proto__||(0,l.default)(c)).call(this,m.fromJS(w(a))))}(0,n.default)(c,a);(0,b.default)(c,[{key:"merge",value:function(a){a=a instanceof p?a:s(w(a),t);return(0,d.default)(c.prototype.__proto__||
(0,l.default)(c.prototype),"merge",this).call(this,a)}},{key:"serializeToModel",value:function(){var a=this.toJS(),b=a.tutorialsCompleted;null===a.notFoundPageId&&(a.notFoundPageId="system-default");b&&(a.tutorialsCompleted=b.reduce(function(a,b){a[b]=!0;return a},{}));return a}}]);return c}(p(a))},770:function(g,c,a){var k=(c=a(21))&&c.__esModule?c:{"default":c},l=(c=a(19))&&c.__esModule?c:{"default":c},f=a(40).Set;g.exports=function(a){var c=a.notFoundPageId,d=a.tutorialsCompleted;a=(0,l.default)({},
a);d&&(a.tutorialsCompleted=f((0,k.default)(d)));"system-default"===c&&(a.notFoundPageId=null);return a}},771:function(g,c,a){g.exports={updateStoreCurrencyClass:function(a,c){var f=document.body.classList;f.remove("native-currency-code-"+a.toLowerCase());f.add("native-currency-code-"+c.toLowerCase())}}},779:function(g,c,a){var k=a(24);g.exports={getResult:function(a){return k.get("/auth/ExternalAuthenticationGetResult",{params:{uuid:a}})}}},780:function(g,c,a){function k(a){return a&&a.__esModule?
a:{"default":a}}c=a(19);var l=k(c);c=a(1);var f=k(c);a=a(2);var b=k(a);a=function(){function a(b,c){var g=c.interval,g=void 0===g?1E3:g,k=c.increment,k=void 0===k?0:k,l=c.maxInterval,l=void 0===l?5E3:l,h=c.maxIterations,h=void 0===h?1E3:h;(0,f.default)(this,a);this.intervalFn=b;this.config={initialInterval:g,increment:k,maxInterval:l,maxIterations:h};this.iterationsCount=0;this.timestamp=Date.now();this.isRunning=!1}(0,b.default)(a,[{key:"reset",value:function(a){a&&(0,l.default)(this.config,a);this.iterationsCount=
0;a=this.timestamp+this.interval-Date.now();this.isRunning&&a>this.config.initialInterval&&(this.cancel(),this.run())}},{key:"cancel",value:function(){clearTimeout(this._timer);this._timer=null;this.isRunning=!1}},{key:"run",value:function(){var a=this;this.iterationsCount>=this.config.maxIterations?this.cancel():(this.isRunning=!0,this._timer||(this._timer=setTimeout(function(){a._timer=null;a.timestamp=Date.now();a.intervalFn();a.isRunning&&a.run()},this.interval),this.iterationsCount++))}},{key:"interval",
get:function(){var a=this.config,b=a.initialInterval,c=a.increment,a=a.maxInterval,e=this.iterationsCount;return 0<c?Math.min(b+e*c,a):b}}]);return a}();g.exports=a},782:function(g,c,a){var k=(c=a(21))&&c.__esModule?c:{"default":c};g.exports=function(a){return(0,k.default)(a).reduce(function(c,b){c.append(b,a[b]);return c},new FormData)}},784:function(g,c,a){var k=(c=a(21))&&c.__esModule?c:{"default":c},l=a(274).CancellationError,f=a(108),b=a(756),e=a(757),d=a(758),n=a(560),m=function(a,b,c){a=Error(a);
a.config=b;c&&(a.code=c);return a};g.exports=function(a,c,g){var s=g.data,w=g.headers,t=g.cancel;if(t&&t.isCanceled())return c(new l("Request has been canceled."));f.isFormData(s)&&delete w["Content-Type"];var r=new XMLHttpRequest;r.open(g.method.toUpperCase(),b(g.url,g.params,g.paramSerializer),!0);r.timeout=g.timeout;r.onreadystatechange=function(){if(r&&!(4!==r.readyState||0===r.status)){var b=e(r.getAllResponseHeaders()),b={data:n(r.responseText||r.response,b,g.transformResponse),status:1223===
r.status?204:r.status,statusText:1223===r.status?"No Content":r.statusText,headers:b,config:g,request:r};d(a,c,b);r=null}};r.onerror=function(){c(m("Network Error",g));r=null};r.ontimeout=function(){c(m("timeout of "+g.timeout+"ms exceeded",g,"ECONNABORTED"));r=null};(0,k.default)(w).forEach(function(a){"undefined"===typeof s&&"content-type"===a.toLowerCase()?delete w[a]:r.setRequestHeader(a,w[a])});g.progress&&r.upload.addEventListener("progress",g.progress);t.onCancel(function(){r.abort();c(new l("Request has been canceled."));
r=null});r.send(s)}},81:function(g,c){g.exports={TEXT:1,IMAGE:2,QUOTE:4,LINK:5,CHAT:6,AUDIO:7,VIDEO:8,VIDEO_DEPRECATED:9,REVIEW:10,STORE_ITEM:11,EVENT:12,THREAD:13,GALLERY:14,BINARY:15,CSSASSET:16,TWEAKASSET:17,DIGITALGOOD:18,ATTACHMENT:19,EXPORT_WORDPRESS:20,EXPORT_INTERNAL:21,TWEET:50,RSS:51,CHECKIN:52,DELICIOUS:53,KBARTICLE:54}},9:function(g,c,a){c=new (a(431));g.exports=c},901:function(g,c,a){Object.defineProperty(c,"__esModule",{value:!0});var k=function(){function a(b,c){for(var f=0;f<c.length;f++){var g=
c[f];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(c,d,f){d&&a(c.prototype,d);f&&a(c,f);return c}}(),l=(g=a(513))&&g.__esModule?g:{"default":g},f=function(){};g=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.internalIsCanceled=!1;this.listeners=[]}k(a,[{key:"isCanceled",value:function(){return this.internalIsCanceled}},{key:"cancel",value:function(){this.internalIsCanceled||
(this.internalIsCanceled=!0,this.listeners.forEach(function(a){return a()}),this.listeners=null)}},{key:"throwIfCanceled",value:function(){if(this.internalIsCanceled)throw new l.default("Operation has been canceled.");}},{key:"onCancel",value:function(a){var b=this;if(this.internalIsCanceled)return f;this.listeners.push(a);return function(){if(b.listeners){var c=b.listeners.indexOf(a);-1!==c&&b.listeners.splice(c,1)}}}},{key:"fork",value:function(){if(this.internalIsCanceled)return a.CANCELED;var c=
new a;this.onCancel(function(){return c.cancel()});return c}}]);return a}();c.default=g;g.CANCELED=new g;g.CANCELED.internalIsCanceled=!0},922:function(g,c,a){var k=a(990);c=a(925);a=a(464);a=!(k&&1/a(new k([,-0]))[1]==1/0)?c:function(a){return new k(a)};g.exports=a},925:function(g,c){g.exports=function(){}},939:function(g,c){g.exports={ENABLED:1,DISABLED:2}},95:function(g,c,a){c.__esModule=!0;var k=(g=a(298))&&g.__esModule?g:{"default":g};c.default=function(a){if(Array.isArray(a)){for(var c=0,b=
Array(a.length);c<a.length;c++)b[c]=a[c];return b}return(0,k.default)(a)}},954:function(g,c){YUI.add("datatype-date-format",function(a,c){var g=function(a,c,d){"undefined"===typeof d&&(d=10);for(c+="";parseInt(a,10)<d&&1<d;d/=10)a=c+a;return a.toString()},f={formats:{a:function(a,c){return c.a[a.getDay()]},A:function(a,c){return c.A[a.getDay()]},b:function(a,c){return c.b[a.getMonth()]},B:function(a,c){return c.B[a.getMonth()]},C:function(a){return g(parseInt(a.getFullYear()/100,10),0)},d:["getDate",
"0"],e:["getDate"," "],g:function(a){return g(parseInt(f.formats.G(a)%100,10),0)},G:function(a){var c=a.getFullYear(),d=parseInt(f.formats.V(a),10);a=parseInt(f.formats.W(a),10);a>d?c++:0===a&&52<=d&&c--;return c},H:["getHours","0"],I:function(a){a=a.getHours()%12;return g(0===a?12:a,0)},j:function(a){var c=new Date(""+a.getFullYear()+"/1/1 GMT");a=new Date(""+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" GMT")-c;a=parseInt(a/6E4/60/24,10)+1;return g(a,0,100)},k:["getHours"," "],l:function(a){a=
a.getHours()%12;return g(0===a?12:a," ")},m:function(a){return g(a.getMonth()+1,0)},M:["getMinutes","0"],p:function(a,c){return c.p[12<=a.getHours()?1:0]},P:function(a,c){return c.P[12<=a.getHours()?1:0]},s:function(a,c){return parseInt(a.getTime()/1E3,10)},S:["getSeconds","0"],u:function(a){a=a.getDay();return 0===a?7:a},U:function(a){var c=parseInt(f.formats.j(a),10);a=6-a.getDay();c=parseInt((c+a)/7,10);return g(c,0)},V:function(a){var c=parseInt(f.formats.W(a),10),d=(new Date(""+a.getFullYear()+
"/1/1")).getDay(),c=c+(4<d||1>=d?0:1);53===c&&4>(new Date(""+a.getFullYear()+"/12/31")).getDay()?c=1:0===c&&(c=f.formats.V(new Date(""+(a.getFullYear()-1)+"/12/31")));return g(c,0)},w:"getDay",W:function(a){var c=parseInt(f.formats.j(a),10);a=7-f.formats.u(a);c=parseInt((c+a)/7,10);return g(c,0,10)},y:function(a){return g(a.getFullYear()%100,0)},Y:"getFullYear",z:function(a){a=a.getTimezoneOffset();var c=g(parseInt(Math.abs(a/60),10),0),d=g(Math.abs(a%60),0);return(0<a?"-":"+")+c+d},Z:function(a){var c=
a.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"");4<c.length&&(c=f.formats.z(a));return c},"%":function(a){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(b,c){c=c||{};if(!a.Lang.isDate(b))return a.Lang.isValue(b)?b:"";var d,k;d=c.format||"%Y-%m-%d";k=a.Intl.get("datatype-date-format");for(var m=function(a,b){var c=f.aggregates[b];return"locale"===
c?k[b]:c},p=function(c,d){var e=f.formats[d];switch(a.Lang.type(e)){case "string":return b[e]();case "function":return e.call(b,b,k);case "array":if("string"===a.Lang.type(e[0]))return g(b[e[0]](),e[1]);default:return d}};d.match(/%[cDFhnrRtTxX]/);)d=d.replace(/%([cDFhnrRtTxX])/g,m);d=d.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,p);m=p=void 0;return d}};a.mix(a.namespace("Date"),f);a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{lang:"ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")})},
955:function(g,c){YUI.add("datatype-date-math",function(a,c){var g=a.Lang;a.mix(a.namespace("Date"),{isValidDate:function(a){return g.isDate(a)&&isFinite(a)&&"Invalid Date"!=a&&!isNaN(a)&&null!=a?!0:!1},areEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()==b.getTime()},isGreater:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()>b.getTime()},isGreaterOrEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()>=b.getTime()},
isInRange:function(a,b,c){return this.isGreaterOrEqual(a,b)&&this.isGreaterOrEqual(c,a)},addDays:function(a,b){return new Date(a.getTime()+864E5*b)},addMonths:function(a,b){var c=a.getFullYear(),d=a.getMonth()+b,c=Math.floor(c+d/12),d=(d%12+12)%12,g=new Date(a.getTime());g.setFullYear(c);g.setMonth(d);return g},addYears:function(a,b){var c=a.getFullYear()+b,d=new Date(a.getTime());d.setFullYear(c);return d},listOfDatesInMonth:function(a){if(!this.isValidDate(a))return[];var b=this.daysInMonth(a),
c=a.getFullYear();a=a.getMonth();for(var d=[],g=1;g<=b;g++)d.push(new Date(c,a,g,12,0,0));return d},daysInMonth:function(a){if(!this.isValidDate(a))return 0;var b=a.getMonth(),c=[31,28,31,30,31,30,31,31,30,31,30,31];if(1!=b)return c[b];a=a.getFullYear();return 0===a%400?29:0===a%100?28:0===a%4?29:28}});a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2",{requires:["yui-base"]})},956:function(g,c){YUI.add("datatype-date-parse",function(a,c){a.mix(a.namespace("Date"),{parse:function(c){c=new Date(+c||
c);return a.Lang.isDate(c)?c:null}});a.namespace("Parsers").date=a.Date.parse;a.namespace("DataType");a.DataType.Date=a.Date},"3.17.2")},959:function(g,c,a){var k=(c=a(1))&&c.__esModule?c:{"default":c},l=(c=a(2))&&c.__esModule?c:{"default":c};a=a(9);c=function(){function a(){(0,k.default)(this,a);this.generateActions("refresh","setUrl","removeLoadHandler","disableEditing","enableEditing","lockFrame","unlockFrame")}(0,l.default)(a,[{key:"addLoadHandler",value:function(a,c){return{key:a,callback:c}}}]);
return a}();g.exports=a.createActions(c)},961:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(50);var l=k(c);c=a(19);var f=k(c);c=a(1);var b=k(c);c=a(2);var e=k(c);c=a(9);var d=a(49),n=a(751),m=a(607),p=a(1135),q=a(1535),h=a(980),s=a(138),w=function r(a,b,c){if(a[b]===c)return[a];for(var d=a.links||a.children||[],e=0;e<d.length;e++){var f=r(d[e],b,c);if(f.length)return[a].concat(f)}return[]};a=function(){function a(){(0,b.default)(this,a);this.state={};this.bindListeners({onSiteLayoutReset:[d.bootstrap,
n.loadTemplate],onSiteLayoutUpdate:p.refreshNavData,onCollectionUpdate:m.updateSuccess,onRemoveCollection:m.deleteSuccess});this.exportPublicMethods({getCollectionLink:this.getCollectionLink,getAllPageTitles:this.getAllPageTitles,getPathToCollection:this.getPathToCollection})}(0,e.default)(a,[{key:"onSiteLayoutReset",value:function(a){a=a.siteLayout;if(!a)return!1;var b={};a.forEach(function(a){b[a.identifier]=a});this.setState(b)}},{key:"onSiteLayoutUpdate",value:function(a){var b=this,c,d=a.widgetName;
a=a.navigationData.items.map(function(a){return b.formatItemData(d,a)});p.navChange.defer({navWidget:d,diff:q.diff(this.state[d].links,a)});this.setState((c={},c[d]=(0,f.default)({},this.state[d],{links:a}),c))}},{key:"onCollectionUpdate",value:function(a){var b,c=this.findNavItem(a.id).widgetName;c&&(a=this.replaceNavItem(a,this.state[c].links.slice()),this.setState((b={},b[c]=(0,f.default)({},this.state[c],{links:a}),b)))}},{key:"replaceNavItem",value:function(a,b){var c=this;b.forEach(function(b){b.collectionId===
a.id&&c.composeNavItem(b,a);b.children&&b.children.length&&(b.children=c.replaceNavItem(a,b.children.slice()))});return b}},{key:"formatItemData",value:function(a,b){var c=this;if(b.externalLink)return b;var d=h.getState().get(b.collectionId),d=d?d.toJS():this.findNavItem(b.collectionId).navItem;b.items&&b.items.forEach(function(b){return c.formatItemData(a,b)});return this.composeNavItem(b,d)}},{key:"composeNavItem",value:function(a){var b=s(1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{},"collectionType enabled passwordProtected title typeName urlId".split(" "));a.items&&(a.children=a.items,delete a.items);return(0,f.default)(a,b)}},{key:"findNavItem",value:function(a){for(var b in this.state){var c=this.findNavItemInWidget(b,a);if(c)return{widgetName:b,navItem:c}}return{}}},{key:"findNavItemInWidget",value:function(a,b){for(var c=this.state[a].links.slice();c.length;){var d=c.pop();if(d.collectionId===b)return d;d.children&&(c=c.concat(d.children))}}},{key:"onRemoveCollection",
value:function(a){var b=(0,f.default)({},this.state),c;for(c in b){var d=this.filterChildren(this.state[c].links,a);b[c]=(0,f.default)({},this.state[c],{links:d})}this.setState(b)}},{key:"filterChildren",value:function(a,b){var c=this;a=a.slice();return a.filter(function(a){a.children&&a.children.length&&(a.children=c.filterChildren(a.children,b));return a.collectionId!==b})}},{key:"getCollectionLink",value:function(a){a=this.getPathToCollection(a);return a[a.length-1]}},{key:"getPathToCollection",
value:function(a){var b=this.getState(),c;for(c in b){var d=w(b[c],"collectionId",a);if(d.length)return d}return[]}},{key:"getAllPageTitles",value:function(){for(var a=this.getState(),b=[],a=(0,l.default)(a).reduce(function(a,b){return a.concat(b.links)},[]);a.length;){var c=a.pop();c&&(a=a.concat(c.children),b.push(c.urlId))}return b}}]);return a}();g.exports=c.createStore(a,"SiteNavigationStore")},98:function(g,c,a){var k=a(53),l=a(28),f=a(144);g.exports=function(a,c){var d=(l.Object||{})[a]||Object[a],
g={};g[a]=c(d);k(k.S+k.F*f(function(){d(1)}),"Object",g)}},980:function(g,c,a){function k(a){return a&&a.__esModule?a:{"default":a}}c=a(26);var l=k(c);c=a(1);var f=k(c);c=a(2);var b=k(c);c=a(40);var e=c.Map,d=c.fromJS;c=a(9);var n=a(607);a=a(101);var m=function(){function a(){(0,f.default)(this,a);this.state=e();this.bindListeners({onInsert:[n.insert,n.updateSuccess],onInsertMany:n.insertMany,onDelete:[n.delete,n.deleteUnusedCollectionPermanently]});this.exportPublicMethods({fetch:this.fetch,fetchFromServer:this.fetchFromServer})}
(0,b.default)(a,[{key:"onInsert",value:function(a){this.setState(this.state.set(a.id,d(a)))}},{key:"onInsertMany",value:function(a){var b=this.state;a.forEach(function(a){return b=b.set(a.id,d(a))});this.setState(b)}},{key:"onDelete",value:function(a){this.setState(this.state.delete(a))}},{key:"fetch",value:function(a){var b=this.getState().get(a);return b?l.default.resolve(b):this.fetchFromServer(a)}},{key:"fetchFromServer",value:function(a){var b=this;return n.read(a).then(function(){return b.getState().get(a)})}}]);
return a}();g.exports=c.createStore(a(m),"ContentCollectionStore")}},[6464]);
